/*!
 * SurveyJS Creator v1.9.18
 * (c) 2015-2022 Devsoft Baltic OÃœ - http://surveyjs.io/
 * Github: https://github.com/surveyjs/survey-creator
 * License: https://surveyjs.io/Licenses#SurveyCreator
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("survey-core")):"function"==typeof define&&define.amd?define("SurveyCreatorCore",["survey-core"],t):"object"==typeof exports?exports.SurveyCreatorCore=t(require("survey-core")):e.SurveyCreatorCore=t(e.Survey)}(this,(function(e){return function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=41)}([function(t,o){t.exports=e},function(e,t,o){var i,n,r;
/* @license
Papa Parse
v5.3.1
https://github.com/mholt/PapaParse
License: MIT
*/n=[],void 0===(r="function"==typeof(i=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},o=!t.document&&!!t.postMessage,i=o&&/blob:/i.test((t.location||{}).protocol),n={},r=0,s={parse:function(o,i){var a=(i=i||{}).dynamicTyping||!1;if(x(a)&&(i.dynamicTypingFunction=a,a={}),i.dynamicTyping=a,i.transform=!!x(i.transform)&&i.transform,i.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var o,i,a=(o=t.URL||t.webkitURL||null,i=e.toString(),s.BLOB_URL||(s.BLOB_URL=o.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=y,l.id=r++,n[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=x(i.step),i.chunk=x(i.chunk),i.complete=x(i.complete),i.error=x(i.error),delete i.worker,void l.postMessage({input:o,config:i,workerId:l.id})}var h=null;return s.NODE_STREAM_INPUT,"string"==typeof o?h=i.download?new u(i):new p(i):!0===o.readable&&x(o.read)&&x(o.on)?h=new d(i):(t.File&&o instanceof File||o instanceof Object)&&(h=new c(i)),h.stream(o)},unparse:function(e,t){var o=!1,i=!0,n=",",r="\r\n",a='"',l=a+a,u=!1,c=null,p=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(n=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(o=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(r=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),"boolean"==typeof t.escapeFormulae&&(p=t.escapeFormulae)}}();var d=new RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function h(e,t,o){var s="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&i){for(var u=0;u<e.length;u++)0<u&&(s+=n),s+=g(e[u],u);0<t.length&&(s+=r)}for(var c=0;c<t.length;c++){var p=a?e.length:t[c].length,d=!1,h=a?0===Object.keys(t[c]).length:0===t[c].length;if(o&&!a&&(d="greedy"===o?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===o&&a){for(var m=[],y=0;y<p;y++){var f=l?e[y]:y;m.push(t[c][f])}d=""===m.join("").trim()}if(!d){for(var v=0;v<p;v++){0<v&&!h&&(s+=n);var b=a&&l?e[v]:v;s+=g(t[c][b],v)}c<t.length-1&&(!o||0<p&&!h)&&(s+=r)}}return s}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===p&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var i=e.toString().replace(d,l);return"boolean"==typeof o&&o||"function"==typeof o&&o(e,t)||Array.isArray(o)&&o[t]||function(e,t){for(var o=0;o<t.length;o++)if(-1<e.indexOf(t[o]))return!0;return!1}(i,s.BAD_DELIMITERS)||-1<i.indexOf(n)||" "===i.charAt(0)||" "===i.charAt(i.length-1)?a+i+a:i}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!o&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=h,s.NetworkStreamer=u,s.FileStreamer=c,s.StringStreamer=p,s.ReadableStreamStreamer=d,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var o=e.config||{},i=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)i.push({file:this.files[n],inputElem:this,instanceConfig:a.extend({},o)})})),n(),this;function n(){if(0!==i.length){var t,o,n,l=i[0];if(x(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return t=l.file,o=l.inputElem,n=u.reason,void(x(e.error)&&e.error({name:"AbortError"},t,o,n));if("skip"===u.action)return void r();"object"==typeof u.config&&(l.instanceConfig=a.extend(l.instanceConfig,u.config))}else if("skip"===u)return void r()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){x(c)&&c(e,l.file,l.inputElem),r()},s.parse(l.file,l.instanceConfig)}else x(e.complete)&&e.complete()}function r(){i.splice(0,1),n()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,o){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine="";var a=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=r.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:a,workerId:s.WORKER_ID,finished:u});else if(x(this._config.chunk)&&!o){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!u||!x(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),l.call(this,e),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),o||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+n)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}o&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var o=t.statusText||e;this._sendError(new Error(o))}}function c(e){var t,o;(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),l.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,o=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);e=o.call(e,this._start,n)}var r=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,o=this._config.chunkSize;return o?(e=t.substring(0,o),t=t.substring(o)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){l.call(this,e=e||{});var t=[],o=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):o=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),o&&(o=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,o,i,n=Math.pow(2,53),r=-n,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,u=this,c=0,p=0,d=!1,h=!1,y=[],f={data:[],errors:[],meta:{}};if(x(e.step)){var v=e.step;e.step=function(t){if(f=t,T())C();else{if(C(),0===f.data.length)return;c+=t.data.length,e.preview&&c>e.preview?o.abort():(f.data=f.data[0],v(f,u))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function C(){if(f&&i&&(P("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines)for(var t=0;t<f.data.length;t++)w(f.data[t])&&f.data.splice(t--,1);return T()&&function(){if(f)if(Array.isArray(f.data[0])){for(var t=0;T()&&t<f.data.length;t++)f.data[t].forEach(o);f.data.splice(0,1)}else f.data.forEach(o);function o(t,o){x(e.transformHeader)&&(t=e.transformHeader(t,o)),y.push(t)}}(),function(){if(!f||!e.header&&!e.dynamicTyping&&!e.transform)return f;function t(t,o){var i,n=e.header?{}:[];for(i=0;i<t.length;i++){var r=i,s=t[i];e.header&&(r=i>=y.length?"__parsed_extra":y[i]),e.transform&&(s=e.transform(s,r)),s=S(r,s),"__parsed_extra"===r?(n[r]=n[r]||[],n[r].push(s)):n[r]=s}return e.header&&(i>y.length?P("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+i,p+o):i<y.length&&P("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+i,p+o)),n}var o=1;return!f.data.length||Array.isArray(f.data[0])?(f.data=f.data.map(t),o=f.data.length):f.data=t(f.data,0),e.header&&f.meta&&(f.meta.fields=y),p+=o,f}()}function T(){return e.header&&0===y.length}function S(t,o){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===o||"TRUE"===o||"false"!==o&&"FALSE"!==o&&(function(e){if(a.test(e)){var t=parseFloat(e);if(r<t&&t<n)return!0}return!1}(o)?parseFloat(o):l.test(o)?new Date(o):""===o?null:o):o;var i}function P(e,t,o,i){var n={type:e,code:t,message:o};void 0!==i&&(n.row=i),f.errors.push(n)}this.parse=function(n,r,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var o=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),i=(e=e.replace(o,"")).split("\r"),n=e.split("\n"),r=1<n.length&&n[0].length<i[0].length;if(1===i.length||r)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(n,l)),i=!1,e.delimiter)x(e.delimiter)&&(e.delimiter=e.delimiter(n),f.meta.delimiter=e.delimiter);else{var u=function(t,o,i,n,r){var a,l,u,c;r=r||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var p=0;p<r.length;p++){var d=r[p],h=0,m=0,y=0;u=void 0;for(var f=new g({comments:n,delimiter:d,newline:o,preview:10}).parse(t),v=0;v<f.data.length;v++)if(i&&w(f.data[v]))y++;else{var b=f.data[v].length;m+=b,void 0!==u?0<b&&(h+=Math.abs(b-u),u=b):u=b}0<f.data.length&&(m/=f.data.length-y),(void 0===l||h<=l)&&(void 0===c||c<m)&&1.99<m&&(l=h,a=d,c=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(n,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(i=!0,e.delimiter=s.DefaultDelimiter),f.meta.delimiter=e.delimiter}var c=b(e);return e.preview&&e.header&&c.preview++,t=n,o=new g(c),f=o.parse(t,r,a),C(),d?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),t=x(e.chunk)?"":t.substring(o.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,o.abort(),f.meta.aborted=!0,x(e.complete)&&e.complete(f),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,o=(e=e||{}).delimiter,i=e.newline,n=e.comments,r=e.step,a=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof o||-1<s.BAD_DELIMITERS.indexOf(o))&&(o=","),n===o)throw new Error("Comment character same as delimiter");!0===n?n="#":("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,p=!1;this.parse=function(e,s,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,g=o.length,y=i.length,f=n.length,v=x(r),b=[],w=[],C=[],T=c=0;if(!e)return D();if(l||!1!==l&&-1===e.indexOf(t)){for(var S=e.split(i),P=0;P<S.length;P++){if(C=S[P],c+=C.length,P!==S.length-1)c+=i.length;else if(d)return D();if(!n||C.substring(0,f)!==n){if(v){if(b=[],A(C.split(o)),k(),p)return D()}else A(C.split(o));if(a&&a<=P)return b=b.slice(0,a),D(!0)}}return D()}for(var E=e.indexOf(o,c),O=e.indexOf(i,c),_=new RegExp(m(u)+m(t),"g"),N=e.indexOf(t,c);;)if(e[c]!==t)if(n&&0===C.length&&e.substring(c,c+f)===n){if(-1===O)return D();c=O+y,O=e.indexOf(i,c),E=e.indexOf(o,c)}else if(-1!==E&&(E<O||-1===O))C.push(e.substring(c,E)),c=E+g,E=e.indexOf(o,c);else{if(-1===O)break;if(C.push(e.substring(c,O)),L(O+y),v&&(k(),p))return D();if(a&&b.length>=a)return D(!0)}else for(N=c,c++;;){if(-1===(N=e.indexOf(t,N+1)))return d||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:c}),j();if(N===h-1)return j(e.substring(c,N).replace(_,t));if(t!==u||e[N+1]!==u){if(t===u||0===N||e[N-1]!==u){-1!==E&&E<N+1&&(E=e.indexOf(o,N+1)),-1!==O&&O<N+1&&(O=e.indexOf(i,N+1));var V=M(-1===O?E:Math.min(E,O));if(e[N+1+V]===o){C.push(e.substring(c,N).replace(_,t)),e[c=N+1+V+g]!==t&&(N=e.indexOf(t,c)),E=e.indexOf(o,c),O=e.indexOf(i,c);break}var I=M(O);if(e.substring(N+1+I,N+1+I+y)===i){if(C.push(e.substring(c,N).replace(_,t)),L(N+1+I+y),E=e.indexOf(o,c),N=e.indexOf(t,c),v&&(k(),p))return D();if(a&&b.length>=a)return D(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:c}),N++}}else N++}return j();function A(e){b.push(e),T=c}function M(t){var o=0;if(-1!==t){var i=e.substring(N+1,t);i&&""===i.trim()&&(o=i.length)}return o}function j(t){return d||(void 0===t&&(t=e.substring(c)),C.push(t),c=h,A(C),v&&k()),D()}function L(t){c=t,A(C),C=[],O=e.indexOf(i,c)}function D(e){return{data:b,errors:w,meta:{delimiter:o,linebreak:i,aborted:p,truncated:!!e,cursor:T+(s||0)}}}function k(){r(D()),b=[],w=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return c}}function y(e){var t=e.data,o=n[t.workerId],i=!1;if(t.error)o.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){i=!0,f(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(x(o.userStep)){for(var s=0;s<t.results.data.length&&(o.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},r),!i);s++);delete t.results}else x(o.userChunk)&&(o.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!i&&f(t.workerId,t.results)}function f(e,t){var o=n[e];x(o.userComplete)&&o.userComplete(t),o.terminate(),delete n[e]}function v(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var o in e)t[o]=b(e[o]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var o=e.data;if(void 0===s.WORKER_ID&&o&&(s.WORKER_ID=o.workerId),"string"==typeof o.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(o.input,o.config),finished:!0});else if(t.File&&o.input instanceof File||o.input instanceof Object){var i=s.parse(o.input,o.config);i&&t.postMessage({workerId:s.WORKER_ID,results:i,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(l.prototype)).constructor=d,s})?i.apply(t,n):i)||(e.exports=r)},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t){e.exports='<svg style="display:none;"><defs><clipPath id="duplicate_16x16-a"> <path d="M0 0h16v16H0z"></path></clipPath><clipPath id="edit_16x16-a"> <path d="M0 0h16v16H0z"></path></clipPath><clipPath id="logic-collapse-a"> <path fill="#fff" transform="translate(19 14)" d="M0 0h9.4v20H0z"></path></clipPath><clipPath id="logic-expand-a"> <path fill="#fff" transform="translate(19 13)" d="M0 0h9.4v22.8H0z"></path></clipPath><clipPath id="rating-a"> <path d="M0 0h24v24H0z"></path></clipPath><rect id="device-l-b" width="330" height="651" x="719.5" y="298.5" rx="20"> </rect><filter id="device-l-a" width="145.5%" height="123%" x="-22.7%" y="-11.5%" filterUnits="objectBoundingBox"> <feOffset in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="25" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter><rect id="device-p-b" width="330" height="651" x="120" y="458" rx="20"> </rect><filter id="device-p-a" width="145.5%" height="123%" x="-22.7%" y="-11.5%" filterUnits="objectBoundingBox"> <feOffset in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="25" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><symbol viewBox="0 0 16 16" id="icon-add_16x16"><path d="M9 7h3v2H9v3H7V9H4V7h3V4h2v3zm7 1c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8 8 3.6 8 8zm-2 0c0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6 6-2.7 6-6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-add-lg"><path d="M13 11h4v2h-4v4h-2v-4H7v-2h4V7h2v4zm11 1c0 6.6-5.4 12-12 12S0 18.6 0 12 5.4 0 12 0s12 5.4 12 12zm-2 0c0-5.5-4.5-10-10-10S2 6.5 2 12s4.5 10 10 10 10-4.5 10-10z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-add"><path d="M13 11h4v2h-4v4h-2v-4H7v-2h4V7h2v4zm10 1c0 6.1-4.9 11-11 11S1 18.1 1 12 5.9 1 12 1s11 4.9 11 11zm-2 0c0-5-4-9-9-9s-9 4-9 9 4 9 9 9 9-4 9-9z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-apply"><path d="M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1zm0 20c-5 0-9-4-9-9s4-9 9-9 9 4 9 9-4 9-9 9zm4.3-13l1.4 1.4-7.7 7.7-3.7-3.7L7.7 12l2.3 2.3L16.3 8z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-arrow-down"><path d="M17.01 11.59l-4 4V6h-2v9.59l-4-4L5.6 13l6.41 6.41L18.43 13l-1.42-1.41z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-arrow-left_16x16"><path d="M15 9H4.4l4.3 4.3-1.4 1.4L.6 8l6.7-6.7 1.4 1.4L4.4 7H15v2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-arrow-left"><path d="M10.4 2.6L11.8 4l-7 7H22v2H4.8l7 7-1.4 1.4L1 12l9.4-9.4z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-arrow-right_16x16"><path d="M1 7h10.6L7.3 2.7l1.4-1.4L15.4 8l-6.7 6.7-1.4-1.4L11.6 9H1V7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-arrow-right"><path d="M13.6 2.6L12.2 4l7 7H2v2h17.2l-7 7 1.4 1.4L23 12l-9.4-9.4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-arrow-up"><path d="M18.43 11.01L12.01 4.6 5.6 11.01l1.41 1.42 4-4v9.58h2V8.43l4 4 1.42-1.42z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-boolean"><path d="M7 11h10c2.8 0 5-2.2 5-5s-2.2-5-5-5H7C4.2 1 2 3.2 2 6s2.2 5 5 5zm0-8h10c1.7 0 3 1.3 3 3s-1.3 3-3 3H7C5.3 9 4 7.7 4 6s1.3-3 3-3zM5 6c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm14 12c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-5H7c-2.8 0-5 2.2-5 5s2.2 5 5 5h10c2.8 0 5-2.2 5-5s-2.2-5-5-5zm0 8H7c-1.7 0-3-1.3-3-3s1.3-3 3-3h10c1.7 0 3 1.3 3 3s-1.3 3-3 3z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-change-question-type_16x16"><path d="M15 2v5h-5l2-2c-.9-1.2-2.4-2-4-2-2.8 0-5 2.2-5 5H1c0-3.9 3.1-7 7-7 2.2 0 4.1 1 5.4 2.6L15 2zM8 13c-1.6 0-3.1-.8-4-2l2-2H1v5l1.6-1.6C3.9 14 5.8 15 8 15c3.9 0 7-3.1 7-7h-2c0 2.8-2.2 5-5 5z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-checkbox"><path d="M19 8.9l2-2.8V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14.1L20.8.6l1.6 1.2-11.3 15.7L6.6 13 8 11.6l2.9 2.9L17.7 5H5v14h14V8.9z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-checked"><path d="M9 20.1L1 12l2.1-2.1 5.9 6L20.9 4 23 6.1l-14 14z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-clear_16x16"><path d="M13.35 3.35l-.7-.7-4.6 4.6-4.7-4.6-.7.7 4.6 4.7-4.6 4.6.7.7 4.7-4.6 4.6 4.6.7-.7-4.6-4.6 4.6-4.7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-clear"><path d="M22.6 8.6l-6.2-6.2c-.4-.4-.9-.6-1.4-.6-.5 0-1 .2-1.4.6L1.4 14.6c-.8.8-.8 2 0 2.8L6 22h6l10.6-10.6c.7-.8.7-2.1 0-2.8zM11.1 20H6.8l-4-4 3.4-3.4 6.2 6.2-1.3 1.2zm2.7-2.6l-6.2-6.2L15 3.8l6.2 6.2-7.4 7.4zM16 20h7v2h-9l2-2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-collapse_16x16"><path d="M2 6l1-1 5 5 5-5 1 1-6 6-6-6z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-collapse-detail_16x16"><path d="M12 9H4V7h8v2zm4-9v16H0V0h16zm-2 2H2v12h12V2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-collapse-detail-light_16x16"><path d="M13 7H3v2h10V7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-collapse-panel"><path d="M13 5.6l6.4 6.4-6.4 6.4-1.4-1.4 4-4H2v-2h13.6l-4-4L13 5.6zM20 2v20h2V2h-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-comment"><path d="M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H4V5h16v14zM18 9H6V7h12v2zm0 4H6v-2h12v2zm-6 4H6v-2h6v2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-custom-question"><path d="M12 4c4.41 0 8 3.14 8 7a6.529 6.529 0 0 1-2.27 4.88 1.999 1.999 0 0 0-.65 1.59 2 2 0 0 0-1-.26 2.17 2.17 0 0 0-.75.14A8.87 8.87 0 0 1 12 18c-4.41 0-8-3.14-8-7s3.59-7 8-7zm0-2C6.48 2 2 6 2 11s4.48 9 10 9a11 11 0 0 0 4.09-.79L20 22l-.93-4.64A8.55 8.55 0 0 0 22 11c0-5-4.48-9-10-9z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-delete_16x16"><path d="M15 2h-4V1c0-.6-.4-1-1-1H7c-.6 0-1 .4-1 1v1H2v2h1v10c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2V4h1V2zM7 1h3v1H7V1zm5 13H5V4h7v10zm-5-1H6V5h1v8zm2 0H8V5h1v8zm2 0h-1V5h1v8z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-description-hide"><path d="M2.3 3.7L3.6 5C2 6.9 1 9.3 1 12c0 6.1 4.9 11 11 11 2.7 0 5.1-1 7-2.6l1.3 1.3 1.4-1.4-18-18-1.4 1.4zM12 21c-5 0-9-4-9-9 0-2.1.7-4.1 2-5.6l5.8 5.8c-.1.1-.2.2-.2.3-.1.2-.2.5-.2.8 0 .3.1.6.2.8.1.2.2.4.3.7.1.2.3.3.5.3H11.7c.1 0 .2 0 .4-.1.3-.1.5-.3.5-.5v-.4l4.9 4.9c-1.4 1.3-3.4 2-5.5 2zM7.8 4.1L6.3 2.6C8 1.6 9.9 1 12 1c6.1 0 11 4.9 11 11 0 2.1-.6 4-1.6 5.7l-1.5-1.5C20.6 15 21 13.5 21 12c0-5-4-9-9-9-1.5 0-3 .4-4.2 1.1zm5.7 5.7c0-.1.1-.2.1-.4 0-.4-.1-.8-.4-1-.4-.4-.8-.5-1.2-.5h-.4l-1.5-1.5c.1 0 .1-.1.2-.1 1.2-.4 2.4-.4 3.3-.2.5.1.9.3 1.3.5.7.7 1.1 1.5 1.1 2.7 0 .8-.3 1.5-.8 2.1l-1.7-1.6zm-1.7 6.1c.7 0 1.2.3 1.5.9.1.2.1.4.1.6 0 .4-.2.8-.4 1.1-.3.3-.7.4-1.1.4-.4 0-.8-.2-1.1-.4-.3-.3-.4-.7-.4-1.1 0-.4.2-.8.4-1.1.2-.3.6-.4 1-.4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-description"><path d="M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1zm0 20c-5 0-9-4-9-9s4-9 9-9 9 4 9 9-4 9-9 9zm1.3-4.2c.1.2.1.4.1.6 0 .4-.2.8-.4 1.1-.3.3-.7.4-1.1.4-.4 0-.8-.2-1.1-.4-.3-.3-.4-.7-.4-1.1 0-.4.2-.8.4-1.1.3-.3.7-.5 1.1-.5.6.1 1.1.4 1.4 1zM16 9.3c0 1.1-.5 1.9-1.4 2.6-.2.2-.5.3-.7.5l-.6.4c-.3.2-.4.3-.4.3-.1.1-.1.2-.1.3 0 .2-.1.4-.1.7v.4c-.1.2-.3.4-.5.5-.2.1-.3.1-.4.1H11.5c-.2-.1-.4-.2-.5-.3-.1-.2-.3-.4-.3-.7-.1-.3-.2-.5-.2-.8 0-.3.1-.6.2-.8.1-.2.3-.4.5-.6.2-.2.4-.3.6-.4l.6-.3c.6-.3.8-.5.9-.6.3-.3.4-.7.4-1.1 0-.4-.1-.8-.4-1-.5-.5-.9-.6-1.3-.6-1.1 0-1.4.5-1.4.9-.2.5-.2.6-.2.6v.4l.1.4-.3.1c-.6.3-1.1.3-1.5.1l-.4-.4c-.2-.3-.3-.6-.3-1s.1-.7.2-1c.1-.3.3-.5.5-.7.2-.2.4-.4.7-.6.3-.1.6-.3.9-.4 1.2-.4 2.4-.4 3.3-.2.5.1.9.3 1.3.5.7.7 1.1 1.5 1.1 2.7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-device-desktop"><path d="M22 17V2H2v15h8v2a3 3 0 0 1-3 3h10a3 3 0 0 1-3-3v-2h8zM4 4h16v11H4V4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-device-phone"><path d="M16 18H8V6h8v12zm0-16H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-device-rotate"><path d="M23.41 5.996L18 11.406l-1.41-1.41 3-3H17a13 13 0 0 0-13 13v2H2v-2a15 15 0 0 1 15-15h2.59l-3-3L18 .586l5.41 5.41z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-device-tablet"><path d="M20 18H4V6h16v12zm1-14H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-drag-area-indicator"><path d="M13 6c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zM9 4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-drop-down-arrow"><path d="M12 15l5-5H7l5 5z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-dropdown"><path d="M20 2H4c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H6V8h14v12zM4 6V4h16v2H4zm14 6H8v-2h10v2zm0 4H8v-2h10v2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-duplicate_16x16"><g clip-path="url(#duplicate_16x16-a)"><path d="M14 0H6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-2h2a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-4 14H2V6h8v8zm4-4h-2V6a2 2 0 0 0-2-2H6V2h8v8z"></path></g></symbol><symbol viewBox="0 0 16 16" id="icon-edit_16x16"><g clip-path="url(#edit_16x16-a)"><path d="M15.3 2.8L13.2.7c-.5-.5-1-.7-1.6-.7-.6 0-1.2.2-1.6.7L2 8.6c-1.3 1.3-2 3.1-2 4.9v1.8c0 .4.3.7.8.7h1.8c1.8 0 3.6-.7 4.9-2l7.9-7.9c.8-.9.8-2.4-.1-3.3zM6 12.6c-.9.9-2.2 1.4-3.5 1.4H2v-.5c0-1.3.5-2.6 1.4-3.5L8 5.4 10.6 8 6 12.6zm7.9-7.9L12 6.6 9.4 4l1.9-1.9c.1-.1.2-.1.3-.1.1 0 .1 0 .2.1l2.1 2.1c.1.1.1.3 0 .5z"></path></g></symbol><symbol viewBox="0 0 24 24" id="icon-edit"><path d="M21.9 4.8L19.1 2c-.6-.5-1.3-.8-2.1-.8s-1.5.3-2.1.9L4.6 12.3C2.9 14 2 16.3 2 18.7V21c0 .6.4 1 1 1h2.3c2.4 0 4.7-.9 6.4-2.6L21.9 9.1c1.2-1.2 1.2-3.1 0-4.3zM10.2 17.9C8.9 19.2 7.1 20 5.3 20H4v-1.3c0-1.9.7-3.6 2.1-4.9l6.2-6.2 4.2 4.2-6.3 6.1zM20.5 7.7l-2.7 2.7-4.2-4.2 2.7-2.7c.2-.3.5-.3.7-.3.2 0 .5 0 .7.3l2.8 2.8c.4.3.4 1 0 1.4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-editing-finish"><path d="M2.3 3.7l5.5 5.5-3.2 3.2c-1.7 1.7-2.6 4-2.6 6.4v2.3c0 .6.4 1 1 1h2.3c2.4 0 4.7-.9 6.4-2.6l3.2-3.2 5.5 5.5 1.4-1.4-18-18-1.5 1.3zm7.9 14.2C8.9 19.2 7.1 20 5.3 20H4v-1.3c0-1.9.7-3.6 2.1-4.9l3.2-3.2 4.2 4.2-3.3 3.1zm11.7-8.8l-4.7 4.7-1.4-1.4 4.7-4.7c.4-.4.4-1 0-1.4l-2.8-2.8c-.2-.3-.5-.3-.7-.3-.2 0-.5 0-.7.3l-4.7 4.7-1.4-1.4 4.7-4.7c.6-.6 1.3-.9 2.1-.9s1.5.3 2.1.9l2.8 2.8c1.2 1.1 1.2 3 0 4.2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-expand_16x16"><path d="M6 14l-1-1 5-5-5-5 1-1 6 6-6 6z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-expand-detail_16x16"><path d="M7 9H4V7h3V4h2v3h3v2H9v3H7V9zm9-9v16H0V0h16zm-2 2H2v12h12V2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-expand-detail-light_16x16"><path d="M13 7H9V3H7v4H3v2h4v4h2V9h4V7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-expand-panel"><path d="M19.996 2h-5v20h7V2h-2zm0 18h-3V4h3v16zm-15.59-9h8.59v2h-8.59l4 4-1.41 1.41L.586 12l6.41-6.41L8.406 7l-4 4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-export"><path d="M6 10.406l-1.41-1.41L12 1.586l7.41 7.41-1.41 1.41-5-5v12.59h-2V5.406l-5 5zm-4 9.59v2h20v-2H2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-expression"><path d="M20 .5c-.6-.3-1.3-.5-2.2-.5-1.9 0-3.5.8-4.8 2.3-1.5 1.8-2.9 4.8-4 9.2H6.2L5.8 13h2.7l-.2 1c-.1.4-.2.9-.4 1.7-.2.7-.3 1.4-.4 1.9-.7 3-1.4 4.3-1.9 4.8 0-.3-.1-.6-.4-.8-.5-.3-1.4-.4-1.9.2-.2.2-.3.6-.3.9 0 .4.1.7.4.9.3.3.8.4 1.4.4.6 0 1.2-.1 1.7-.4 1.4-.6 2.5-1.9 3.3-4 .4-1.1 1-2.9 1.6-5.5l.3-1.2h3.4l.4-1.5h-3.4c1-4.2 2.1-7.2 3.2-8.7.3-.4.6-.7.9-.9.4-.3.6-.3.8-.3.2 0 .4 0 .7.1-.2.3-.2.6-.2.9 0 .4.2.8.5 1.1.7.5 1.8.5 2.5 0 .3-.4.5-.8.5-1.3 0-.8-.3-1.4-1-1.8z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-fast-entry"><path d="M13 5H2V3h11v2zm-3 2H2v2h8V7zM2 17h8v-2H2v2zm11-6H2v2h11v-2zm10.4 3.9L17 21.3c-1 1.1-2.5 1.7-4 1.7h-1.4c-.3 0-.6-.3-.6-.6V21c0-1.5.6-2.9 1.7-4l6.4-6.4c.3-.4.8-.6 1.3-.6s1 .2 1.3.6l1.7 1.7c.8.7.8 1.9 0 2.6zm-1.5-1.3L20.3 12 14 18.3c-.6.8-1 1.7-1 2.7 1 0 1.9-.4 2.6-1.1l6.3-6.3z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-file"><path d="M22 9V7c0-1.1-.9-2-2-2h-8l-2-2H4c-1.1 0-2 .9-2 2v16h20l2-12h-2zM4 5h5.2l1.4 1.4.6.6H20v2H4V5zm16.3 14H4v-8h17.6l-1.3 8z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-html"><path d="M7.85 6.65l-4.5 5.3 4.5 5.4-1.6 1.3-5.5-6.7 5.5-6.6 1.6 1.3zm10-1.3l-1.6 1.3 4.5 5.3-4.5 5.4 1.5 1.3 5.5-6.6-5.4-6.7zm-9.7 15.3l1.9.6 6-18-1.9-.6-6 18z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-image"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16zM7 8c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm12 11H5l4-5 2 1 3-3 5 7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-imagepicker"><path d="M17 5H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 15H4V7h13v13zM6 11c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm10 8H5l11-5v5zm6-15v13c0 1.1-.9 2-2 2V4H5c0-1.1.9-2 2-2h13c1.1 0 2 .9 2 2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-import"><path d="M12 18.41L4.59 11 6 9.59l5 5V2h2v12.59l5-5L19.41 11 12 18.41zM2 20v2h20v-2H2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-invisible-items"><path d="M12 7.003a5.16 5.16 0 0 1 1.37.21l-1.83 1.84a3 3 0 0 0-2.49 2.49l-1.84 1.83a5.16 5.16 0 0 1-.21-1.37 5 5 0 0 1 5-5zm-6.6 8.18a15 15 0 0 1-2.59-3.18c2.29-3.78 5.66-6 9.19-6a8.29 8.29 0 0 1 2.26.33l1.6-1.6a10.76 10.76 0 0 0-3.86-.73c-4.76 0-8.95 3.17-11.48 8A17.49 17.49 0 0 0 4 16.623l1.4-1.44zm18.08-3.18c-2.48 4.83-6.72 8-11.48 8a11 11 0 0 1-5.23-1.36l-4.06 4.07-1.42-1.42 20-20 1.42 1.42-3.77 3.76a16.63 16.63 0 0 1 4.54 5.53zm-8.78-1.28l-4 4a2.9 2.9 0 0 0 1.3.28 3 3 0 0 0 3-3 2.9 2.9 0 0 0-.3-1.28zm6.49 1.28a14 14 0 0 0-3.69-4.09l-1.34 1.35a4.93 4.93 0 0 1 .84 2.74 5 5 0 0 1-5 5 4.93 4.93 0 0 1-2.74-.84l-1 1c1.17.55 2.447.836 3.74.84 3.53 0 6.9-2.22 9.19-6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-keyboard-dragging"><path d="M17 5l-5-5-5 5h4v4h2V5h4zM13 19v-4h-2v4H7l5 5 5-5h-4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-language"><path d="M17.75 8h-2.5l-1.9 5.08A9.93 9.93 0 0 1 9.25 6H14V4H9V2H7v2H2v2h4.91A10 10 0 0 1 1 14.14c.323.59.694 1.151 1.11 1.68a12 12 0 0 0 6-6.3A12 12 0 0 0 12.62 15L10 22h2.42l1.37-3.87h5.37l1.4 3.87H23L17.75 8zm-3.29 8.16l1.27-3.63c.31-.825.564-1.67.76-2.53.06.26.18.66.35 1.21.17.55.3.94.4 1.2l1.31 3.79-4.09-.04z"></path></symbol><symbol viewBox="0 0 48 48" id="icon-logic-collapse"><g clip-path="url(#logic-collapse-a)"><path d="M19 29.3l1.4 1.4 2.3-2.3V34h2v-5.6l2.3 2.3 1.4-1.4-4.7-4.7-4.7 4.7zM24.7 19.6V14h-2v5.6l-2.3-2.3-1.4 1.4 4.7 4.7 4.7-4.7-1.4-1.4-2.3 2.3z"></path></g></symbol><symbol viewBox="0 0 48 48" id="icon-logic-expand"><g clip-path="url(#logic-expand-a)"><path d="M19 17.7l1.4 1.4 2.3-2.3v5.6h2v-5.6l2.3 2.3 1.4-1.4-4.7-4.7-4.7 4.7zM24.7 32v-5.6h-2V32l-2.3-2.3-1.4 1.4 4.7 4.7 4.7-4.7-1.4-1.4-2.3 2.3z"></path></g></symbol><symbol viewBox="0 0 24 24" id="icon-matrix"><path d="M6 1C3.2 1 1 3.2 1 6s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8C4.3 9 3 7.7 3 6s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm2-3c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm12 12c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM6 13c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm12-10c2.8 0 5-2.2 5-5s-2.2-5-5-5-5 2.2-5 5 2.2 5 5 5zm0-8c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3zm0 10c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-matrixdropdown"><path d="M7 4c0 1.7-1.3 3-3 3S1 5.7 1 4s1.3-3 3-3 3 1.3 3 3zm8 0c0 1.7-1.3 3-3 3S9 5.7 9 4s1.3-3 3-3 3 1.3 3 3zm-2 0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm4 0c0-1.7 1.3-3 3-3s3 1.3 3 3-1.3 3-3 3-3-1.3-3-3zm2 0c0 .6.4 1 1 1s1-.4 1-1-.4-1-1-1-1 .4-1 1zM7 12c0 1.7-1.3 3-3 3s-3-1.3-3-3 1.3-3 3-3 3 1.3 3 3zm-2 0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm7-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm8 0c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zM4 17c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm8 0c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm11 3c0 1.7-1.3 3-3 3s-3-1.3-3-3 1.3-3 3-3 3 1.3 3 3zm-2 0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-matrixdynamic"><path d="M7 4c0 1.7-1.3 3-3 3S1 5.7 1 4s1.3-3 3-3 3 1.3 3 3zm8 0c0 1.7-1.3 3-3 3S9 5.7 9 4s1.3-3 3-3 3 1.3 3 3zm-2 0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm4 0c0-1.7 1.3-3 3-3s3 1.3 3 3-1.3 3-3 3-3-1.3-3-3zm2 0c0 .6.4 1 1 1s1-.4 1-1-.4-1-1-1-1 .4-1 1zM7 12c0 1.7-1.3 3-3 3s-3-1.3-3-3 1.3-3 3-3 3 1.3 3 3zm-2 0c0-.6-.4-1-1-1s-1 .4-1 1 .4 1 1 1 1-.4 1-1zm7-3c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm8 0c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zM5 17H3v2H1v2h2v2h2v-2h2v-2H5v-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-multipletext"><path d="M20 1H4c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8H4V3h16v6zm-6-2H6V5h8v2zm6 6H4c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm0 8H4v-6h16v6zm-6-2H6v-2h8v2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-next_16x16"><path d="M5.646 12.646l.7.7 5.4-5.3-5.4-5.4-.7.7 4.6 4.7-4.6 4.6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-panel"><path d="M9 2v2H4v5H2V4c0-1.1.9-2 2-2h5zm11 0h-5v2h5v5h2V4c0-1.1-.9-2-2-2zM4 20v-5H2v5c0 1.1.9 2 2 2h5v-2H4zm16 0h-5v2h5c1.1 0 2-.9 2-2v-5h-2v5z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-paneldynamic"><path d="M9 2v2H4v5H2V4a2 2 0 0 1 2-2h5zm11 0h-5v2h5v5h2V4a2 2 0 0 0-2-2zM4 20v-5H2v5a2 2 0 0 0 2 2h5v-2H4zm16 0h-5v2h5a2 2 0 0 0 2-2v-5h-2v5zm-3-7h-2v-2h-2v2h-2v2h2v2h2v-2h2v-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-preview"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm0-2a11 11 0 1 0 0 22 11 11 0 0 0 0-22zm4 11l-6-4v8l6-4z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-previous_16x16"><path d="M10.393 12.646l-4.7-4.6 4.7-4.7-.7-.7-5.4 5.4 5.4 5.3.7-.7z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-radiogroup"><path d="M12 4c4.4 0 8 3.6 8 8s-3.6 8-8 8-8-3.6-8-8 3.6-8 8-8zm0-2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-ranking"><path d="M22 4H2v17h12v-5h4v-5h4V4zM12 19H4v-3h8v3zm4-5H4v-3h12v3zm4-5H4V6h16v3z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-rating"><g clip-path="url(#rating-a)"><path d="M12 6.8l.9 2.9.4 1.4h4.5l-2.4 1.8-1.2.9.4 1.4.9 2.9-2.4-1.8-1.1-1-1.2.9L8.4 18l.9-2.9.4-1.4-1.2-.9L6.1 11h4.5l.4-1.4 1-2.8zm0-6.5L9.2 9H0l7.4 5.4-2.8 8.7 7.4-5.4 7.4 5.4-2.8-8.7L24 9h-9.2L12 .3z"></path></g></symbol><symbol viewBox="0 0 24 24" id="icon-redo"><path d="M7 8h12.6l-4-4L17 2.6 23.4 9 17 15.4 15.6 14l4-4H7c-2.2 0-4 1.8-4 4s1.8 4 4 4h1v2H7c-3.3 0-6-2.7-6-6s2.7-6 6-6z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-remove_16x16"><path d="M12 7v2H4V7h8zm4 1c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8 8 3.6 8 8zm-2 0c0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6 6-2.7 6-6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-save"><path d="M20 2H4L2 4v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-5 2v2H9V4h6zM8 20v-5h8v5H8zm12 0h-2v-7H6v7H4V4.83L4.83 4H7v4h10V4h3v16z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-search"><path d="M14 2c-4.4 0-8 3.6-8 8 0 1.8.6 3.5 1.7 4.9l-5.4 5.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3.3 0 .5-.1.7-.3l5.4-5.4c1.4 1.1 3.1 1.7 4.9 1.7 4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-select-page"><path d="M23 11h-3.1c-.5-3.6-3.3-6.5-6.9-6.9V1h-2v3.1c-3.6.4-6.5 3.3-6.9 6.9H1v2h3.1c.5 3.6 3.3 6.5 6.9 6.9V23h2v-3.1c3.6-.5 6.5-3.3 6.9-6.9H23v-2zm-11 7c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-settings_16x16"><path d="M6.8 2C6.4.8 5.3 0 4 0 2.3 0 1 1.3 1 3s1.3 3 3 3c1.3 0 2.4-.8 2.8-2H15V2H6.8zM4 4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm8 1c-1.3 0-2.4.8-2.8 2H1v2h8.2c.4 1.2 1.5 2 2.8 2 1.7 0 3-1.3 3-3s-1.3-3-3-3zm0 4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm-6 1c-1.3 0-2.4.8-2.8 2H1v2h2.2c.4 1.2 1.5 2 2.8 2 1.3 0 2.4-.8 2.8-2H15v-2H8.8c-.4-1.2-1.5-2-2.8-2zm0 4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-settings"><path d="M9.9 4c-.5-1.7-2-3-3.9-3-2.2 0-4 1.8-4 4s1.8 4 4 4c1.9 0 3.4-1.3 3.9-3H22V4H9.9zM6 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3 8c-1.9 0-3.4 1.3-3.9 3H2v2h3.1c.4 1.7 2 3 3.9 3s3.4-1.3 3.9-3H22v-2h-9.1c-.5-1.7-2-3-3.9-3zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm9-13c-1.9 0-3.4 1.3-3.9 3H2v2h12.1c.4 1.7 2 3 3.9 3 2.2 0 4-1.8 4-4s-1.8-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-signaturepad"><path d="M24 17v2H9.1c.4-.6.8-1.3 1.1-2H24zM11.9 9C11 13.7 8.6 19.6 5 22.6c-1.2 1-3 0-3-1.5 0-.7.1-1.4.2-2.1H0v-2h2.8c1.5-4.1 4.8-7.9 7.4-9.4.2-1.5.2-2.8 0-3.7-.3-.6-.5-.9-.6-.9-.2 0-1.8-.1-5.8 5.7L2.2 7.6C5.5 2.8 7.9.7 9.9 1c2.1.2 2.6 3.6 2.3 5.9 2.1.1 2.6 1.3 2.7 3.4 1.3-1.2 3.2-2.4 4.3-1.1 1.6-.3 2.9 1.2 3.7 2.3l-1.6 1.2c-.9-1.3-1.5-1.5-1.7-1.5-.1 0-.1.1-.2.2-.4.6-.8 1.4-1.4 2.3-.3.4-.8.6-1.3.4-1.2-.6-.2-2 .1-2.9-1 .8-2.4 2.2-2.9 3.6-.1.7-.6 1.5-1.4 1.3-.9-.2-.8-1.2-.5-1.9 1.3-4.4.5-5.2.5-5.2 0-.1-.3-.2-.6 0zm-2.4 1.4C6.9 12.8 4.1 17.1 4 20.8c2.6-2.3 4.5-6.5 5.5-10.4z"></path></symbol><symbol viewBox="0 0 850 1630" id="icon-androidphone"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}.st2{fill:none;stroke:#404040;stroke-width:4;stroke-miterlimit:10}]]></style><g id="androidphone-Layer_1"><path class="st0" d="M771.1 38c22.6 0 41 18.4 41 41v1492c0 22.6-18.4 41-41 41h-695c-22.6 0-41-18.4-41-41V79c0-22.6 18.4-41 41-41h695m0-4h-695c-24.8 0-45 20.3-45 45v1492c0 24.8 20.3 45 45 45h695c24.8 0 45-20.3 45-45V79c0-24.7-20.2-45-45-45z"></path><path class="st1" d="M64.1 175.5h719v1279h-719z"></path><path class="st0" d="M782.6 176v1278h-718V176h718m1-1h-720v1280h720V175zM466 101.8c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5h-84c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h84m0-4h-84c-5.8 0-10.5 4.7-10.5 10.5s4.7 10.5 10.5 10.5h84c5.8 0 10.5-4.7 10.5-10.5 0-5.7-4.7-10.5-10.5-10.5zM337 101.8c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5h-31c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h31m0-4h-31c-5.8 0-10.5 4.7-10.5 10.5s4.7 10.5 10.5 10.5h31c5.8 0 10.5-4.7 10.5-10.5 0-5.7-4.7-10.5-10.5-10.5zM547.5 95.3c7.2 0 13 5.8 13 13s-5.8 13-13 13-13-5.8-13-13 5.8-13 13-13m0-4c-9.4 0-17 7.6-17 17s7.6 17 17 17 17-7.6 17-17-7.6-17-17-17z"></path><g><path class="st0" d="M825.5 300v244h-9V300h9m4-4h-17v252h17V296z"></path></g><g><path class="st0" d="M825.5 627v91h-9v-91h9m4-4h-17v99h17v-99z"></path></g><g><path class="st0" d="M175.8 1516h32v4h-32zM175.8 1529h32v4h-32zM175.8 1542h32v4h-32z"></path><path class="st2" d="M436.8 1545h-18c-2.8 0-5-2.3-5-5v-18c0-2.8 2.3-5 5-5h18c2.8 0 5 2.3 5 5v18c0 2.8-2.3 5-5 5z"></path><path class="st0" d="M671.4 1517.7l-2.8-2.9-16.6 16.6.2.1-.2.2 16.6 16.5 2.8-2.8-13.9-13.9z"></path></g></g></symbol><symbol viewBox="0 0 1070 1480" id="icon-androidtablet"><style><![CDATA[.st0{fill:transparent}.st1{fill:#404040}.st2,.st3{fill:none;stroke:#404040;stroke-width:6;stroke-miterlimit:10}.st3{stroke-width:4}]]></style><path class="st0" d="M135 101.1h799v1279H135z"></path><path class="st1" d="M933.5 101.6v1278h-798v-1278h798m1-1h-800v1280h800v-1280z"></path><path class="st2" d="M973.5 1456.1h-882c-28 0-51-22.9-51-51V76c0-28 22.9-51 51-51h882.1c28 0 51 22.9 51 51v1329.1c-.1 28-23 51-51.1 51z"></path><path class="st3" d="M971.4 1447.8H93.6c-24.8 0-45-20.3-45-45V78.3c0-24.8 20.3-45 45-45h877.8c24.8 0 45 20.3 45 45v1324.5c0 24.8-20.2 45-45 45z"></path><circle class="st3" cx="79.5" cy="740.6" r="12"></circle></symbol><symbol id="icon-device-l"><g fill="none" fill-rule="evenodd" transform="translate(-509 -409)"><g transform="rotate(-90 884.5 624)"><use fill="#000" filter="url(#device-l-a)" xlink:href="#device-l-b"></use><use fill="#FFF" xlink:href="#device-l-b"></use></g><rect width="70" height="8" x="540" y="628" fill="#F4F4F4" fill-rule="nonzero" transform="rotate(-90 575 632)" rx="4"></rect><circle cx="575" cy="585" r="4" fill="#F4F4F4" fill-rule="nonzero" transform="rotate(-90 575 585)"></circle><path fill="#F4F4F4" fill-rule="nonzero" d="M592 784V464h568v320z"></path><path fill="#E7E7E7" fill-rule="nonzero" d="M592 464v320h568V464H592zm569-1v322H591V463h570z"></path><circle cx="1186" cy="624" r="15" fill="#F4F4F4"></circle></g></symbol><symbol id="icon-device-p"><g fill="none" fill-rule="evenodd" transform="translate(-70 -408)"><use fill="#000" filter="url(#device-p-a)" xlink:href="#device-p-b"></use><use fill="#FFF" xlink:href="#device-p-b"></use><rect width="70" height="8" x="242" y="470" fill="#F4F4F4" fill-rule="nonzero" rx="4"></rect><circle cx="324" cy="474" r="4" fill="#F4F4F4" fill-rule="nonzero"></circle><path fill="#E7E7E7" fill-rule="nonzero" d="M124 490h322v570H124V490zm1 1v568h320V491H125z"></path><path fill="#F4F4F4" fill-rule="nonzero" d="M125 491h320v568H125z"></path><circle cx="285" cy="1084" r="15" fill="#F4F4F4"></circle></g></symbol><symbol viewBox="0 0 1837 2563" id="icon-ipad"><style><![CDATA[.st0{fill:transparent}.st1{fill:#404040}.st2,.st3{fill:none;stroke:#404040;stroke-width:6;stroke-miterlimit:10}.st3{stroke-width:4}]]></style><path class="st0" d="M154.2 255.5h1535v2047h-1535z"></path><path class="st1" d="M1688.7 256v2046h-1534V256h1534m1-1h-1536v2048h1536V255z"></path><path class="st2" d="M1697.2 2530.5h-1551c-60.5 0-110-49.5-110-110v-2280c0-60.5 49.5-110 110-110h1551c60.5 0 110 49.5 110 110v2280c0 60.5-49.5 110-110 110z"></path><path class="st3" d="M1688.4 2514H155c-57.8 0-105-47.3-105-105V149C50 91.3 97.2 44 155 44h1533.5c57.8 0 105 47.3 105 105v2260c-.1 57.8-47.3 105-105.1 105z"></path><circle class="st3" cx="921.7" cy="149.5" r="16.5"></circle><circle class="st2" cx="921.5" cy="2411.5" r="53.5"></circle><path class="st3" d="M937.2 2431.5h-31c-2.8 0-5-2.3-5-5v-31c0-2.8 2.3-5 5-5h31c2.8 0 5 2.3 5 5v31c0 2.8-2.2 5-5 5z"></path></symbol><symbol viewBox="0 0 945 1300" id="icon-ipadmini"><style><![CDATA[.st0,.st1{fill:none;stroke:#404040;stroke-width:6;stroke-miterlimit:10}.st1{stroke-width:4}.st2{fill:transparent}.st3{fill:#404040}]]></style><path class="st0" d="M836.4 1275.5H111.8c-44 0-80-36-80-80V106.8c0-44 36-80 80-80h724.6c44 0 80 36 80 80v1088.7c0 44-36 80-80 80z"></path><path class="st1" d="M833.4 1263.3H114.8c-38.5 0-70-31.5-70-70V108.9c0-38.5 31.5-70 70-70h718.6c38.5 0 70 31.5 70 70v1084.4c0 38.5-31.5 70-70 70z"></path><circle class="st1" cx="474" cy="86.6" r="8.2"></circle><circle class="st0" cx="474.1" cy="1216.4" r="26.7"></circle><path class="st1" d="M479.3 1226.4h-10.5c-2.8 0-5-2.3-5-5v-10.5c0-2.8 2.3-5 5-5h10.5c2.8 0 5 2.3 5 5v10.5c0 2.8-2.2 5-5 5z"></path><path class="st2" d="M90.6 139.5h767v1023h-767z"></path><path class="st3" d="M857.1 140v1022h-766V140h766m1-1h-768v1024h768V139z"></path></symbol><symbol viewBox="0 0 2008 2980" id="icon-ipadpro"><style><![CDATA[.st0,.st1{fill:none;stroke:#404040;stroke-width:6;stroke-miterlimit:10}.st1{stroke-width:4}.st2{fill:transparent}.st3{fill:#404040}]]></style><path class="st0" d="M1854.1 2909.5h-1699c-60.5 0-110-49.5-110-110v-2619c0-60.5 49.5-110 110-110h1699c60.5 0 110 49.5 110 110v2619c0 60.5-49.5 110-110 110z"></path><path class="st1" d="M1845.3 2893H163.8c-57.8 0-105-47.3-105-105V189c0-57.8 47.3-105 105-105h1681.5c57.8 0 105 47.3 105 105v2599c0 57.8-47.3 105-105 105z"></path><circle class="st1" cx="1004.6" cy="189.5" r="16.5"></circle><circle class="st0" cx="1004.6" cy="2790.3" r="53.5"></circle><path class="st1" d="M1020.1 2810.8h-31c-2.8 0-5-2.3-5-5v-31c0-2.8 2.3-5 5-5h31c2.8 0 5 2.3 5 5v31c0 2.8-2.3 5-5 5z"></path><path class="st2" d="M161.1 295.5h1687v2387h-1687z"></path><path class="st3" d="M1847.6 296v2386h-1686V296h1686m1-1h-1688v2388h1688V295z"></path></symbol><symbol viewBox="0 0 2360 3300" id="icon-ipadpro13"><style><![CDATA[.st0,.st1{fill:none;stroke:#404040;stroke-width:6;stroke-miterlimit:10}.st1{stroke-width:4}.st2{fill:transparent}.st3{fill:#404040}]]></style><path class="st0" d="M2219.2 3269.2H139.5c-60.5 0-110-49.5-110-110v-3024c0-60.5 49.5-110 110-110h2079.8c60.5 0 110 49.5 110 110v3024c-.1 60.5-49.6 110-110.1 110z"></path><path class="st1" d="M2208.5 3250.4H150.2c-57.8 0-105-47.3-105-105V145.7c0-57.7 47.3-105 105-105h2058.3c57.8 0 105 47.3 105 105v2999.7c0 57.7-47.3 105-105 105z"></path><circle class="st1" cx="1179.3" cy="163.7" r="16.5"></circle><circle class="st0" cx="1179.3" cy="3133.4" r="53.5"></circle><path class="st1" d="M1194.8 3153.9h-31c-2.8 0-5-2.3-5-5v-31c0-2.8 2.3-5 5-5h31c2.8 0 5 2.3 5 5v31c0 2.9-2.2 5-5 5z"></path><path class="st2" d="M155.8 285.7h2047v2731h-2047z"></path><path class="st3" d="M2202.3 286.2v2730h-2046v-2730h2046m1-1h-2048v2732h2048v-2732z"></path></symbol><symbol viewBox="0 0 730 1340" id="icon-iphone4"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M635.9 1300.5H100.7c-45.7 0-82.8-37.1-82.8-82.8v-1108c0-45.7 37.1-82.8 82.8-82.8H636c45.7 0 82.8 37.1 82.8 82.8v1108c-.1 45.6-37.2 82.8-82.9 82.8zM100.7 29.1c-44.4 0-80.6 36.1-80.6 80.6v1108c0 44.4 36.1 80.6 80.6 80.6H636c44.4 0 80.6-36.1 80.6-80.6v-1108c0-44.4-36.1-80.6-80.6-80.6H100.7z"></path><path class="st0" d="M366.9 71.1c-5 0-9.1-4.1-9.1-9.1s4.1-9.1 9.1-9.1S376 57 376 62c0 5.1-4.1 9.1-9.1 9.1zm0-15.9c-3.8 0-6.8 3.1-6.8 6.8 0 3.7 3.1 6.8 6.8 6.8 3.8 0 6.8-3.1 6.8-6.8 0-3.7-3-6.8-6.8-6.8zM269.3 116.5c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5 12.5 5.6 12.5 12.5-5.6 12.5-12.5 12.5zm0-22.7c-5.6 0-10.2 4.6-10.2 10.2s4.6 10.2 10.2 10.2 10.2-4.6 10.2-10.2c.1-5.6-4.5-10.2-10.2-10.2zM408.6 109.7h-84.5c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h84.5c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5zm-84.5-10.8c-2.4 0-4.3 1.9-4.3 4.3s1.9 4.3 4.3 4.3h84.5c2.4 0 4.3-1.9 4.3-4.3s-1.9-4.3-4.3-4.3h-84.5zM368.3 1267.8c-23.5 0-42.5-19.1-42.5-42.5 0-23.5 19.1-42.5 42.5-42.5 23.5 0 42.5 19.1 42.5 42.5 0 23.5-19.1 42.5-42.5 42.5zm0-82.8c-22.2 0-40.3 18.1-40.3 40.3 0 22.2 18.1 40.3 40.3 40.3 22.2 0 40.3-18.1 40.3-40.3 0-22.2-18.1-40.3-40.3-40.3z"></path><path class="st0" d="M368.3 1276.2c-28.1 0-50.9-22.8-50.9-50.9s22.8-50.9 50.9-50.9 50.9 22.8 50.9 50.9c0 28.1-22.9 50.9-50.9 50.9zm0-99.6c-26.8 0-48.7 21.8-48.7 48.7 0 26.8 21.8 48.7 48.7 48.7 26.8 0 48.7-21.8 48.7-48.7-.1-26.8-21.9-48.7-48.7-48.7zM8.5 245.4H-.2v-60h8.7v60zM2 243.2h4.2v-55.6H2v55.6zM8.5 330.4H-.2v-60h8.7v60zM2 328.2h4.2v-55.6H2v55.6z"></path><g><path class="st1" d="M48.5 183.2h639v959h-639z"></path><path class="st0" d="M687 183.7v958H49v-958h638m1-1H48v960h640v-960z"></path></g><path class="st0" d="M8.7 344.7V327H2.1v-53.3h6.6v-14H4.2v9.5h-6.6v62.3h6.6v13.2z"></path><path class="st0" d="M645.5 13.7h-6.8l-9.5-.5V6.7h-62.3v6.6l-13.2.5H91.1c-47.9 0-86.8 39-86.8 86.8v83.7h-6.6v62.3h6.6v25.1h4.5V242H2.1v-53.3h6.6v-88.2c0-45.4 36.9-82.4 82.4-82.4h554.5C691 18.1 728 55 728 100.5v1127.3c0 45.4-36.9 82.4-82.4 82.4H91.1c-45.4 0-82.4-36.9-82.4-82.4V327.7H4.2v900.1c0 47.9 39 86.9 86.8 86.9h554.5c47.9 0 86.8-39 86.8-86.9V100.5c.1-47.8-38.9-86.8-86.8-86.8zm-74.2-2.5h53.3v2.5h-53.3v-2.5z"></path></symbol><symbol viewBox="0 0 750 1500" id="icon-iphone5"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M642.9 1473.8H107.7c-45.7 0-82.8-37.1-82.8-82.8V106c0-45.7 37.1-82.8 82.8-82.8H643c45.7 0 82.8 37.1 82.8 82.8v1285c-.1 45.6-37.2 82.8-82.9 82.8zM107.7 25.4c-44.4 0-80.6 36.1-80.6 80.6v1285c0 44.4 36.1 80.6 80.6 80.6H643c44.4 0 80.6-36.1 80.6-80.6V106c0-44.4-36.1-80.6-80.6-80.6H107.7z"></path><path class="st0" d="M373.9 67.4c-5 0-9.1-4.1-9.1-9.1s4.1-9.1 9.1-9.1 9.1 4.1 9.1 9.1c0 5.1-4.1 9.1-9.1 9.1zm0-15.9c-3.8 0-6.8 3.1-6.8 6.8s3.1 6.8 6.8 6.8c3.8 0 6.8-3.1 6.8-6.8s-3-6.8-6.8-6.8zM276.3 112.8c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5 12.5 5.6 12.5 12.5-5.6 12.5-12.5 12.5zm0-22.7c-5.6 0-10.2 4.6-10.2 10.2s4.6 10.2 10.2 10.2 10.2-4.6 10.2-10.2c.1-5.6-4.5-10.2-10.2-10.2zM415.6 106h-84.5c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h84.5c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5zm-84.5-10.8c-2.4 0-4.3 1.9-4.3 4.3s1.9 4.3 4.3 4.3h84.5c2.4 0 4.3-1.9 4.3-4.3s-1.9-4.3-4.3-4.3h-84.5zM375.3 1441.1c-23.5 0-42.5-19.1-42.5-42.5 0-23.5 19.1-42.5 42.5-42.5 23.5 0 42.5 19.1 42.5 42.5 0 23.5-19.1 42.5-42.5 42.5zm0-82.8c-22.2 0-40.3 18.1-40.3 40.3 0 22.2 18.1 40.3 40.3 40.3 22.2 0 40.3-18.1 40.3-40.3 0-22.2-18.1-40.3-40.3-40.3z"></path><path class="st0" d="M375.3 1449.5c-28.1 0-50.9-22.8-50.9-50.9s22.8-50.9 50.9-50.9 50.9 22.8 50.9 50.9c0 28.1-22.9 50.9-50.9 50.9zm0-99.6c-26.8 0-48.7 21.8-48.7 48.7 0 26.8 21.8 48.7 48.7 48.7 26.8 0 48.7-21.8 48.7-48.7-.1-26.8-21.9-48.7-48.7-48.7z"></path><g><path class="st0" d="M14.5 241.7H5.8v-60h8.7v60zM8 239.5h4.2v-55.6H8v55.6zM14.5 389H5.8v-94.5h8.7V389zM8 386.8h4.2v-90H8v90zM14.5 501.9H5.8v-94.5h8.7v94.5zM8 499.6h4.2v-90H8v90z"></path></g><path class="st0" d="M652.5 1488H98.1c-47.9 0-86.8-39-86.8-86.9V503H4.6v-96.8h6.6v-16.1H4.6v-96.8h6.6v-50.6H4.6v-62.3h6.6V96.8C11.2 49 50.2 10 98.1 10h554.5c47.9 0 86.8 39 86.8 86.8v1304.3c0 47.9-39 86.9-86.9 86.9zM9.1 498.5h6.6v902.6c0 45.4 36.9 82.4 82.4 82.4h554.5c45.4 0 82.4-36.9 82.4-82.4V96.8c0-45.4-36.9-82.4-82.4-82.4H98.1c-45.4 0-82.4 36.9-82.4 82.4V185H9.1v53.3h6.6v59.5H9.1v87.8h6.6v25.1H9.1v87.8z"></path><g><path class="st1" d="M56 182h639v1135H56z"></path><path class="st0" d="M694 182v1134H56V182h638m1-1H55v1136h640V181z"></path></g></symbol><symbol viewBox="0 0 960 1750" id="icon-iphone6"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M479.8 103.4c-5 0-9.1-4.1-9.1-9.1s4.1-9.1 9.1-9.1 9.1 4.1 9.1 9.1c0 5.1-4.1 9.1-9.1 9.1zm0-15.9c-3.8 0-6.8 3.1-6.8 6.8 0 3.8 3.1 6.8 6.8 6.8 3.8 0 6.8-3.1 6.8-6.8 0-3.7-3-6.8-6.8-6.8zM382.2 148.8c-6.9 0-12.5-5.6-12.5-12.5s5.6-12.5 12.5-12.5 12.5 5.6 12.5 12.5-5.6 12.5-12.5 12.5zm0-22.7c-5.6 0-10.2 4.6-10.2 10.2s4.6 10.2 10.2 10.2 10.2-4.6 10.2-10.2c.1-5.6-4.5-10.2-10.2-10.2zM521.5 142H437c-3.6 0-6.5-2.9-6.5-6.5s2.9-6.5 6.5-6.5h84.5c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5zM437 131.2c-2.4 0-4.3 1.9-4.3 4.3s1.9 4.3 4.3 4.3h84.5c2.4 0 4.3-1.9 4.3-4.3s-1.9-4.3-4.3-4.3H437zM476 1675.1c-23.5 0-42.5-19.1-42.5-42.5 0-23.5 19.1-42.5 42.5-42.5 23.5 0 42.5 19.1 42.5 42.5 0 23.5-19 42.5-42.5 42.5zm0-82.8c-22.2 0-40.3 18.1-40.3 40.3 0 22.2 18.1 40.3 40.3 40.3 22.2 0 40.3-18.1 40.3-40.3s-18.1-40.3-40.3-40.3z"></path><path class="st0" d="M476 1683.5c-28.1 0-50.9-22.8-50.9-50.9s22.8-50.9 50.9-50.9 50.9 22.8 50.9 50.9-22.8 50.9-50.9 50.9zm0-99.6c-26.8 0-48.7 21.8-48.7 48.7 0 26.8 21.8 48.7 48.7 48.7 26.8 0 48.7-21.8 48.7-48.7 0-26.8-21.9-48.7-48.7-48.7z"></path><g><path class="st0" d="M801.9 1707.8H156.7c-45.7 0-82.8-37.1-82.8-82.8V142c0-45.7 37.1-82.8 82.8-82.8H802c45.7 0 82.8 37.1 82.8 82.8v1483c-.1 45.6-37.2 82.8-82.9 82.8zM156.7 61.4c-44.4 0-80.6 36.1-80.6 80.6v1483c0 44.4 36.1 80.6 80.6 80.6H802c44.4 0 80.6-36.1 80.6-80.6V142c0-44.4-36.1-80.6-80.6-80.6H156.7z"></path><path class="st0" d="M811.5 1722H147.1c-47.9 0-86.8-39-86.8-86.9V539h-6.6v-96.8h6.6v-16.1h-6.6v-96.8h6.6v-50.6h-6.6v-62.3h6.6v-83.7c0-47.9 39-86.8 86.8-86.8h664.5c47.9 0 86.8 39 86.8 86.8V1635c0 48-39 87-86.9 87zM58.1 534.5h6.6v1100.6c0 45.4 36.9 82.4 82.4 82.4h664.5c45.4 0 82.4-36.9 82.4-82.4V132.8c0-45.4-36.9-82.4-82.4-82.4H147.1c-45.4 0-82.4 36.9-82.4 82.4V221h-6.6v53.3h6.6v59.5h-6.6v87.8h6.6v25.1h-6.6v87.8z"></path></g><g><path class="st1" d="M104.5 208.5h749v1333h-749z"></path><path class="st0" d="M853 209v1332H105V209h748m1-1H104v1334h750V208z"></path></g></symbol><symbol viewBox="0 0 1330 2550" id="icon-iphone6plus"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M665.1 133.2c-8.3 0-15.1-6.8-15.1-15.1s6.8-15.1 15.1-15.1 15.1 6.8 15.1 15.1-6.8 15.1-15.1 15.1zm0-26.5c-6.3 0-11.4 5.1-11.4 11.4s5.1 11.4 11.4 11.4c6.3 0 11.4-5.1 11.4-11.4-.1-6.3-5.1-11.4-11.4-11.4zM502.5 208.8c-11.5 0-20.8-9.3-20.8-20.8s9.3-20.8 20.8-20.8 20.8 9.3 20.8 20.8-9.3 20.8-20.8 20.8zm0-37.8c-9.4 0-17 7.6-17 17s7.6 17 17 17 17-7.6 17-17c.1-9.4-7.6-17-17-17zM734.5 197.5H593.7c-6 0-10.8-4.9-10.8-10.8s4.9-10.8 10.8-10.8h140.8c6 0 10.8 4.9 10.8 10.8s-4.8 10.8-10.8 10.8zm-140.8-18c-3.9 0-7.1 3.2-7.1 7.1 0 3.9 3.2 7.1 7.1 7.1h140.8c3.9 0 7.1-3.2 7.1-7.1 0-3.9-3.2-7.1-7.1-7.1H593.7zM665 2426.1c-38 0-68.9-30.9-68.9-68.9s30.9-68.9 68.9-68.9 68.9 30.9 68.9 68.9-30.9 68.9-68.9 68.9zm0-134.2c-36 0-65.3 29.3-65.3 65.3s29.3 65.3 65.3 65.3 65.3-29.3 65.3-65.3-29.3-65.3-65.3-65.3z"></path><path class="st0" d="M665 2439.6c-45.5 0-82.5-37-82.5-82.5s37-82.5 82.5-82.5 82.5 37 82.5 82.5-37 82.5-82.5 82.5zm0-161.3c-43.5 0-78.8 35.4-78.8 78.8 0 43.5 35.4 78.8 78.8 78.8 43.5 0 78.8-35.4 78.8-78.8s-35.3-78.8-78.8-78.8z"></path><g><path class="st1" d="M125.5 315.5h1079v1919h-1079z"></path><path class="st0" d="M1204 316v1918H126V316h1078m1-1H125v1920h1080V315z"></path></g><g><path class="st0" d="M1119.5 42c38.3 0 74.4 15 101.7 42.3 27.3 27.3 42.3 63.4 42.3 101.7v2172c0 38.3-15 74.4-42.3 101.7s-63.4 42.3-101.7 42.3h-909c-38.3 0-74.4-15-101.7-42.3s-42.3-63.4-42.3-101.7V186c0-38.3 15-74.4 42.3-101.7S172.2 42 210.5 42h909m0-6h-909c-82.5 0-150 67.5-150 150v2172c0 82.5 67.5 150 150 150h909c82.5 0 150-67.5 150-150V186c0-82.5-67.5-150-150-150z"></path><path class="st0" d="M1121.5 58.7c33.5 0 65.1 13.1 89 37s37 55.5 37 89v2174.6c0 33.5-13.1 65.1-37 89s-55.5 37-89 37h-912c-33.5 0-65.1-13.1-89-37s-37-55.5-37-89V184.7c0-33.5 13.1-65.1 37-89s55.5-37 89-37h912m0-4h-912c-71.5 0-130 58.5-130 130v2174.6c0 71.5 58.5 130 130 130h912c71.5 0 130-58.5 130-130V184.7c0-71.5-58.5-130-130-130z"></path></g><g><path class="st0" d="M49 702v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V702c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM49 505v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V505c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM60 317.1v-4c-6.1.5-11 5.7-11 11.9v66c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9v-66c0-4.1 3.1-7.4 7-7.9z"></path></g></symbol><symbol viewBox="0 0 990 1860" id="icon-iphone8"><style><![CDATA[.st0{fill:#404040}.st1{fill:none;stroke:#404040;stroke-width:4;stroke-miterlimit:10}.st2{fill:transparent}]]></style><path class="st0" d="M560.7 189.4H437.9c-6 0-10.8-4.9-10.8-10.8s4.9-10.8 10.8-10.8h122.8c6 0 10.8 4.9 10.8 10.8s-4.8 10.8-10.8 10.8zm-122.8-18c-3.9 0-7.1 3.2-7.1 7.1 0 3.9 3.2 7.1 7.1 7.1h122.8c3.9 0 7.1-3.2 7.1-7.1 0-3.9-3.2-7.1-7.1-7.1H437.9z"></path><circle class="st1" cx="359.5" cy="178.6" r="15.5"></circle><circle class="st1" cx="499.3" cy="126.5" r="9.5"></circle><path class="st0" d="M781.5 60c38.3 0 74.4 15 101.7 42.3s42.3 63.4 42.3 101.7v1465c0 38.3-15 74.4-42.3 101.7-27.3 27.3-63.4 42.3-101.7 42.3h-565c-38.3 0-74.4-15-101.7-42.3s-42.3-63.4-42.3-101.7V204c0-38.3 15-74.4 42.3-101.7S178.2 60 216.5 60h565m0-6h-565c-82.5 0-150 67.5-150 150v1465c0 82.5 67.5 150 150 150h565c82.5 0 150-67.5 150-150V204c0-82.5-67.5-150-150-150z"></path><path class="st0" d="M782.5 77.7c33.5 0 65.1 13.1 89 37s37 55.5 37 89v1464.6c0 33.5-13.1 65.1-37 89s-55.5 37-89 37h-567c-33.5 0-65.1-13.1-89-37s-37-55.5-37-89V203.7c0-33.5 13.1-65.1 37-89s55.5-37 89-37h567m0-4h-567c-71.5 0-130 58.5-130 130v1464.6c0 71.5 58.5 130 130 130h567c71.5 0 130-58.5 130-130V203.7c0-71.5-58.5-130-130-130z"></path><g><path class="st0" d="M55 646v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V646c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM55 449v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V449c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM932 527.9v4c6.1-.5 11-5.7 11-11.9V399c0-6.3-4.9-11.4-11-11.9v4c3.9.5 7 3.9 7 7.9v121c0 4.1-3.1 7.4-7 7.9z"></path></g><g><circle class="st1" cx="493" cy="1689" r="66.5"></circle><circle class="st1" cx="493" cy="1689" r="55"></circle></g><g><path class="st2" d="M121.5 263.5h749v1333h-749z"></path><path class="st0" d="M870 264v1332H122V264h748m1-1H121v1334h750V263z"></path></g></symbol><symbol viewBox="0 0 1330 2550" id="icon-iphone8plus"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M668.1 133.2c-8.3 0-15.1-6.8-15.1-15.1s6.8-15.1 15.1-15.1 15.1 6.8 15.1 15.1-6.8 15.1-15.1 15.1zm0-26.5c-6.3 0-11.4 5.1-11.4 11.4s5.1 11.4 11.4 11.4c6.3 0 11.4-5.1 11.4-11.4-.1-6.3-5.1-11.4-11.4-11.4zM505.5 208.8c-11.5 0-20.8-9.3-20.8-20.8s9.3-20.8 20.8-20.8 20.8 9.3 20.8 20.8-9.3 20.8-20.8 20.8zm0-37.8c-9.4 0-17 7.6-17 17s7.6 17 17 17 17-7.6 17-17c.1-9.4-7.6-17-17-17zM737.5 197.5H596.7c-6 0-10.8-4.9-10.8-10.8s4.9-10.8 10.8-10.8h140.8c6 0 10.8 4.9 10.8 10.8s-4.8 10.8-10.8 10.8zm-140.8-18c-3.9 0-7.1 3.2-7.1 7.1 0 3.9 3.2 7.1 7.1 7.1h140.8c3.9 0 7.1-3.2 7.1-7.1 0-3.9-3.2-7.1-7.1-7.1H596.7z"></path><path d="M668 2426.1c-38 0-68.9-30.9-68.9-68.9s30.9-68.9 68.9-68.9 68.9 30.9 68.9 68.9-30.9 68.9-68.9 68.9zm0-134.2c-36 0-65.3 29.3-65.3 65.3s29.3 65.3 65.3 65.3 65.3-29.3 65.3-65.3-29.3-65.3-65.3-65.3z"></path><path d="M668 2439.6c-45.5 0-82.5-37-82.5-82.5s37-82.5 82.5-82.5 82.5 37 82.5 82.5-37 82.5-82.5 82.5zm0-161.3c-43.5 0-78.8 35.4-78.8 78.8 0 43.5 35.4 78.8 78.8 78.8 43.5 0 78.8-35.4 78.8-78.8s-35.3-78.8-78.8-78.8z"></path><g><path class="st1" d="M128.5 315.5h1079v1919h-1079z"></path><path class="st0" d="M1207 316v1918H129V316h1078m1-1H128v1920h1080V315z"></path></g><g><path class="st0" d="M1122.5 42c38.3 0 74.4 15 101.7 42.3 27.3 27.3 42.3 63.4 42.3 101.7v2172c0 38.3-15 74.4-42.3 101.7s-63.4 42.3-101.7 42.3h-909c-38.3 0-74.4-15-101.7-42.3s-42.3-63.4-42.3-101.7V186c0-38.3 15-74.4 42.3-101.7S175.2 42 213.5 42h909m0-6h-909c-82.5 0-150 67.5-150 150v2172c0 82.5 67.5 150 150 150h909c82.5 0 150-67.5 150-150V186c0-82.5-67.5-150-150-150z"></path><path class="st0" d="M1124.5 58.7c33.5 0 65.1 13.1 89 37s37 55.5 37 89v2174.6c0 33.5-13.1 65.1-37 89s-55.5 37-89 37h-912c-33.5 0-65.1-13.1-89-37s-37-55.5-37-89V184.7c0-33.5 13.1-65.1 37-89s55.5-37 89-37h912m0-4h-912c-71.5 0-130 58.5-130 130v2174.6c0 71.5 58.5 130 130 130h912c71.5 0 130-58.5 130-130V184.7c0-71.5-58.5-130-130-130z"></path></g><g><path class="st0" d="M52 702v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V702c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM52 505v142c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9V505c0-4.1 3.1-7.4 7-7.9v-4c-6.1.5-11 5.6-11 11.9zM63 317.1v-4c-6.1.5-11 5.7-11 11.9v66c0 6.3 4.9 11.4 11 11.9v-4c-3.9-.5-7-3.9-7-7.9v-66c0-4.1 3.1-7.4 7-7.9z"></path></g></symbol><symbol viewBox="0 0 1330 2680" id="icon-iphonex"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M1144 54.5c40.2 0 78 15.8 106.6 44.4s44.4 66.5 44.4 106.6v2268c0 40.2-15.8 78-44.4 106.6s-66.5 44.4-106.6 44.4H190.1c-40.2 0-78-15.8-106.6-44.4-28.6-28.6-44.4-66.5-44.4-106.6v-2268c0-40.2 15.8-78 44.4-106.6S150 54.5 190.1 54.5H1144m0-6H190.1c-86.4 0-157 70.7-157 157v2268c0 86.4 70.6 157 157 157H1144c86.4 0 157-70.6 157-157v-2268c0-86.3-70.7-157-157-157z"></path><path class="st0" d="M1151.1 82.5c31.9 0 62 12.5 84.7 35.3 22.7 22.7 35.3 52.8 35.3 84.7v2274c0 31.9-12.5 62-35.3 84.7-22.7 22.7-52.8 35.3-84.7 35.3h-968c-31.9 0-62-12.5-84.7-35.3-22.7-22.7-35.3-52.8-35.3-84.7v-2274c0-31.9 12.5-62 35.3-84.7 22.7-22.7 52.8-35.3 84.7-35.3h968m0-4h-968c-68.2 0-124 55.8-124 124v2274c0 68.2 55.8 124 124 124h968c68.2 0 124-55.8 124-124v-2274c0-68.2-55.8-124-124-124z"></path><path class="st0" d="M810.8 146.5c0-11.5 9.3-20.8 20.8-20.8s20.8 9.3 20.8 20.8-9.3 20.8-20.8 20.8-20.8-9.3-20.8-20.8zm3.8 0c0 9.4 7.6 17 17 17s17-7.6 17-17-7.6-17-17-17-17 7.6-17 17zM588.8 145.1c0-6 4.9-10.8 10.8-10.8h140.8c6 0 10.8 4.9 10.8 10.8s-4.9 10.8-10.8 10.8H599.6c-6 .1-10.8-4.8-10.8-10.8zm10.8-7.1c-3.9 0-7.1 3.2-7.1 7.1 0 3.9 3.2 7.1 7.1 7.1h140.8c3.9 0 7.1-3.2 7.1-7.1 0-3.9-3.2-7.1-7.1-7.1H599.6z"></path><g><path class="st1" d="M219.3 2557c-63 0-114.3-51.3-114.3-114.3V236.3c0-63 51.3-114.3 114.3-114.3h134.6c.7 0 1.3.3 1.8.7.5.5.7 1.1.7 1.8v26.9c0 27.9 22.7 50.6 50.6 50.6h519.8c27.9 0 50.6-22.7 50.6-50.6v-26.9c0-.7.3-1.3.7-1.8s1.1-.7 1.7-.7h134.8c63 0 114.3 51.3 114.3 114.3v2206.4c0 63-51.3 114.3-114.3 114.3H219.3z"></path><path class="st0" d="M1114.6 122.5c30.4 0 59 11.8 80.5 33.3s33.3 50.1 33.3 80.5v2206.4c0 30.4-11.8 59-33.3 80.5s-50.1 33.3-80.5 33.3H219.3c-30.4 0-59-11.8-80.5-33.3s-33.3-50.1-33.3-80.5V236.3c0-30.4 11.8-59 33.3-80.5s50.1-33.3 80.5-33.3h134.6c.5 0 1 .2 1.4.6.4.4.6.9.6 1.4v26.9c0 28.2 22.9 51.1 51.1 51.1h519.8c28.2 0 51.1-22.9 51.1-51.1v-26.9c0-.5.2-1 .6-1.4s.8-.6 1.4-.6h134.7m0-1H979.8c-1.6 0-2.9 1.3-2.9 3v26.9c0 27.5-22.5 50.1-50.1 50.1H407c-27.5 0-50.1-22.5-50.1-50.1v-26.9c0-1.7-1.3-3-3-3H219.3c-63.4 0-114.8 51.4-114.8 114.8v2206.4c0 63.4 51.4 114.8 114.8 114.8h895.4c63.4 0 114.8-51.4 114.8-114.8V236.3c0-63.4-51.5-114.8-114.9-114.8z"></path></g></symbol><symbol viewBox="0 0 1410 2980" id="icon-iphonexmax"><style><![CDATA[.st0{fill:#404040}.st1{fill:transparent}]]></style><path class="st0" d="M1222.1 97.8c39.4 0 76.5 15.4 104.5 43.5s43.5 65.2 43.5 104.5v2489c0 39.4-15.4 76.5-43.5 104.5s-65.2 43.5-104.5 43.5H188.2c-39.4 0-76.5-15.4-104.5-43.5s-43.5-65.2-43.5-104.5v-2489c0-39.4 15.4-76.5 43.5-104.5s65.1-43.5 104.5-43.5h1033.9m0-6H188.2c-84.7 0-154 69.3-154 154v2489c0 84.7 69.3 154 154 154h1033.9c84.7 0 154-69.3 154-154v-2489c0-84.7-69.3-154-154-154z"></path><path class="st0" d="M1226.2 125.8c31.9 0 62 12.5 84.7 35.3 22.7 22.7 35.3 52.8 35.3 84.7v2489c0 31.9-12.5 62-35.3 84.7-22.7 22.7-52.8 35.3-84.7 35.3h-1042c-31.9 0-62-12.5-84.7-35.3-22.7-22.7-35.3-52.8-35.3-84.7v-2489c0-31.9 12.5-62 35.3-84.7 22.7-22.7 52.8-35.3 84.7-35.3h1042m0-4h-1042c-68.2 0-124 55.8-124 124v2489c0 68.2 55.8 124 124 124h1042c68.2 0 124-55.8 124-124v-2489c0-68.2-55.8-124-124-124z"></path><path class="st0" d="M844.3 171c0-11.5 9.3-20.8 20.8-20.8s20.8 9.3 20.8 20.8-9.3 20.8-20.8 20.8-20.8-9.3-20.8-20.8zm3.8 0c0 9.4 7.6 17 17 17s17-7.6 17-17-7.6-17-17-17-17 7.6-17 17zM622.3 169.6c0-6 4.9-10.8 10.8-10.8h140.8c6 0 10.8 4.9 10.8 10.8s-4.9 10.8-10.8 10.8H633.1c-6 .1-10.8-4.8-10.8-10.8zm10.8-7.1c-3.9 0-7.1 3.2-7.1 7.1 0 3.9 3.2 7.1 7.1 7.1h140.8c3.9 0 7.1-3.2 7.1-7.1 0-3.9-3.2-7.1-7.1-7.1H633.1z"></path><g><path class="st1" d="M199 2833.8c-63 0-114.3-51.3-114.3-114.3V261.1c0-63 51.3-114.3 114.3-114.3h193.7c.7 0 1.3.3 1.8.7s.7 1.1.7 1.8v26.9c0 27.9 22.7 50.6 50.6 50.6h519.8c27.9 0 50.6-22.7 50.6-50.6v-26.9c0-.7.2-1.3.7-1.8s1.1-.7 1.7-.7h192.8c63 0 114.3 51.3 114.3 114.3v2458.4c0 63-51.3 114.3-114.3 114.3H199z"></path><path class="st0" d="M1211.4 147.3c30.4 0 59 11.8 80.5 33.3s33.3 50.1 33.3 80.5v2458.4c0 30.4-11.8 59-33.3 80.5s-50.1 33.3-80.5 33.3H199c-30.4 0-59-11.8-80.5-33.3s-33.3-50.1-33.3-80.5V261.1c0-30.4 11.8-59 33.3-80.5s50.1-33.3 80.5-33.3h193.7c.5 0 1 .2 1.4.6.4.4.6.9.6 1.4v26.9c0 28.2 22.9 51.1 51.1 51.1h519.8c28.2 0 51.1-22.9 51.1-51.1v-26.9c0-.5.2-1 .6-1.4.4-.4.8-.6 1.4-.6h192.7m0-1h-192.8c-1.6 0-2.9 1.3-2.9 3v26.9c0 27.5-22.5 50.1-50.1 50.1H445.8c-27.5 0-50.1-22.5-50.1-50.1v-26.9c0-1.7-1.3-3-3-3H199c-63.4 0-114.8 51.4-114.8 114.8v2458.4c0 63.4 51.4 114.8 114.8 114.8h1012.4c63.4 0 114.8-51.4 114.8-114.8V261.1c0-63.4-51.4-114.8-114.8-114.8z"></path></g></symbol><symbol viewBox="0 0 1040 1620" id="icon-mssurface"><style><![CDATA[.st0{fill:transparent}.st1{fill:#404040}]]></style><path class="st0" d="M136.5 127.5h767v1365h-767z"></path><path class="st1" d="M903 128v1364H137V128h766m1-1H136v1366h768V127zM953.3 814.5v16h13.4l2-16zM953.3 810.9h15.9l2.8-21.4h-18.7z"></path><g><path class="st1" d="M933.8 810.9h15.9v-21.4H931zM934.3 814.5l2 16h13.4v-16z"></path></g><g><path class="st1" d="M983 32c11 0 20 9 20 20v1516c0 11-9 20-20 20H59c-11 0-20-9-20-20V52c0-11 9-20 20-20h924m0-4H59c-13.3 0-24 10.7-24 24v1516c0 13.3 10.7 24 24 24h924c13.3 0 24-10.7 24-24V52c0-13.3-10.7-24-24-24z"></path></g></symbol><symbol viewBox="0 0 480 845.2" id="icon-win10phone"><style><![CDATA[.st0{opacity:.5}.st1{fill:transparent}.st2{fill:#404040}.st3{fill:none;stroke:#404040;stroke-width:3;stroke-miterlimit:10}]]></style><g class="st0"><path class="st1" d="M76.5 138.1h329v567h-329z"></path><path class="st2" d="M405 138.6v566H77v-566h328m1-1H76v568h330v-568z"></path></g><path class="st2" d="M448 57.6c.5 0 1 .5 1 1v774c0 .5-.5 1-1 1H32c-.5 0-1-.5-1-1v-774c0-.5.5-1 1-1h416m0-4H32c-2.8 0-5 2.3-5 5v774c0 2.8 2.3 5 5 5h416c2.8 0 5-2.3 5-5v-774c0-2.7-2.2-5-5-5z"></path><path class="st2" d="M415.5 70.6c13.5 0 24.5 11 24.5 24.5v700c0 13.5-11 24.5-24.5 24.5h-351c-13.5 0-24.5-11-24.5-24.5v-700c0-13.5 11-24.5 24.5-24.5h351m0-2h-351C49.9 68.6 38 80.5 38 95.1v700c0 14.6 11.9 26.5 26.5 26.5h351c14.6 0 26.5-11.9 26.5-26.5v-700c0-14.6-11.9-26.5-26.5-26.5z"></path><path class="st2" d="M266 90.6c.5 0 1 .5 1 1s-.5 1-1 1h-55c-.5 0-1-.5-1-1s.5-1 1-1h55m0-2h-55c-1.6 0-3 1.4-3 3s1.4 3 3 3h55c1.6 0 3-1.4 3-3s-1.4-3-3-3zM452 201.6h5v121h-5zM452 379.6h5v61h-5zM108 741.6H97.6l5.9-5.9-4.3.1-5 5-2.1 2.1 2.1 2.1 5 5 4.3.1-5.5-5.5h10zM238 743.6h-9v7.5l9 1.2zM240 743.6v8.9l12 1.6v-10.5z"></path><g><path class="st2" d="M240 732.7v8.9h12v-10.5zM238 732.9l-9 1.2v7.5h9z"></path></g><g><circle class="st3" cx="382.5" cy="744.1" r="6"></circle><path class="st2" d="M373.3 753.8c-.6-.6-.6-1.5 0-2.1l4.4-4.4 2.1 2.1-4.4 4.4c-.6.6-1.6.6-2.1 0z"></path></g></symbol><symbol viewBox="0 0 16 16" id="icon-switch-active_16x16"><path d="M11 5c1.7 0 3 1.3 3 3s-1.3 3-3 3H5c-1.7 0-3-1.3-3-3s1.3-3 3-3h6zm0-2H5C2.2 3 0 5.2 0 8s2.2 5 5 5h6c2.8 0 5-2.2 5-5s-2.2-5-5-5zm0 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></symbol><symbol viewBox="0 0 16 16" id="icon-switch-inactive_16x16"><path d="M11 5c1.7 0 3 1.3 3 3s-1.3 3-3 3H5c-1.7 0-3-1.3-3-3s1.3-3 3-3h6zm0-2H5C2.2 3 0 5.2 0 8s2.2 5 5 5h6c2.8 0 5-2.2 5-5s-2.2-5-5-5zM5 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-text"><path d="M20 6H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H4V8h16v8zm-6-3H6v-2h8v2z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-theme"><path d="M24 21.42a2.808 2.808 0 0 1-3 2.569 2.81 2.81 0 0 1-3-2.569c0-2.569 3-5.137 3-6.427 0 1.29 3 3.858 3 6.427zm-2-8.426L11 2 8.71 4.288l1.41 1.42.88-.88 7.17 7.167-12.53 3.808-2.81-2.809 4.88-4.877 1.58 1.589a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42l-7-6.996a1.004 1.004 0 0 0-1.42 1.42l4 3.997L0 12.994l10 9.995 8-7.996 4-1.999z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-toolbox"><path d="M21 4h-5V2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2H3a2 2 0 0 0-2 2v6h1v8a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8h1V6a2 2 0 0 0-2-2zM10 2h4v2h-4V2zm10 18H4v-8h5v4h6v-4h5v8zm-9-6v-4h2v4h-2zm10-4h-6V8H9v2H3V6h18v4z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-undo"><path d="M17 8H4.4l4-4L7 2.6.6 9 7 15.4 8.4 14l-4-4H17c2.2 0 4 1.8 4 4s-1.8 4-4 4h-1v2h1c3.3 0 6-2.7 6-6s-2.7-6-6-6z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-visible"><path d="M12 4C7.2 4 3 7.2.5 12 3 16.8 7.2 20 12 20s8.9-3.2 11.5-8C20.9 7.2 16.7 4 12 4zm0 14c-3.5 0-6.9-2.2-9.2-6C5.1 8.2 8.5 6 12 6c3.5 0 6.9 2.2 9.2 6-2.3 3.8-5.7 6-9.2 6zm0-11c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.3-5-5-5zm0 8c-1.7 0-3-1.3-3-3 0-.3 0-.5.1-.7l2.9.7-1.7-2.5c.5-.3 1-.5 1.7-.5 1.7 0 3 1.3 3 3s-1.4 3-3 3z"></path></symbol><symbol viewBox="0 0 24 24" id="icon-wizard"><path d="M7.7 16.3c.4.4.4 1 0 1.4l-4 4c-.2.2-.4.3-.7.3-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l4-4c.4-.4 1-.4 1.4 0zM20.5 10l2.5 3.7-4.4.9-.9 4.4-3.7-2.5-3.7 2.5-.9-4.4-4.4-.9L7.5 10 5 6.3l4.4-.9.9-4.4L14 3.5 17.7 1l.9 4.4 4.4.9-2.5 3.7zm-2.4 0l.7-1.1.8-1.2-1.5-.3-1.3-.3-.3-1.3-.3-1.5-1.2.8-1 .8-1.1-.7-1.2-.9-.3 1.5-.3 1.3-1.3.3-1.5.3.8 1.2.8 1.1-.7 1.1-.8 1.2 1.5.3 1.3.3.3 1.3.3 1.5 1.2-.8 1.1-.7 1.1.7 1.2.8.3-1.5.3-1.3 1.3-.3 1.5-.3-.8-1.2-.9-1.1z"></path></symbol></svg>'},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t),o.d(t,"Version",(function(){return Io})),o.d(t,"enStrings",(function(){return i})),o.d(t,"editorLocalization",(function(){return r})),o.d(t,"defaultStrings",(function(){return l})),o.d(t,"localization",(function(){return r})),o.d(t,"QuestionConvertMode",(function(){return a})),o.d(t,"settings",(function(){return u})),o.d(t,"EmptySurveyCreatorOptions",(function(){return c})),o.d(t,"TabbedMenuItem",(function(){return St})),o.d(t,"TabbedMenuContainer",(function(){return Pt})),o.d(t,"ToolbarActionContainer",(function(){return Et})),o.d(t,"CreatorBase",(function(){return Ot})),o.d(t,"StylesManager",(function(){return _t})),o.d(t,"DesignTimeSurveyModel",(function(){return Nt})),o.d(t,"editableStringRendererName",(function(){return Vt})),o.d(t,"getElementWrapperComponentName",(function(){return It})),o.d(t,"getElementWrapperComponentData",(function(){return At})),o.d(t,"getItemValueWrapperComponentName",(function(){return Mt})),o.d(t,"getItemValueWrapperComponentData",(function(){return jt})),o.d(t,"isStringEditable",(function(){return Lt})),o.d(t,"CreatorResponsivityManager",(function(){return wt})),o.d(t,"EmbedModel",(function(){return Q})),o.d(t,"TabEmbedPlugin",(function(){return F})),o.d(t,"AceJsonEditorModel",(function(){return J})),o.d(t,"TabJsonEditorAcePlugin",(function(){return W})),o.d(t,"JsonEditorBaseModel",(function(){return U})),o.d(t,"TabJsonEditorBasePlugin",(function(){return G})),o.d(t,"TextareaJsonEditorModel",(function(){return K})),o.d(t,"TabJsonEditorTextareaPlugin",(function(){return X})),o.d(t,"TestSurveyTabViewModel",(function(){return ee})),o.d(t,"TabTestPlugin",(function(){return te})),o.d(t,"SurveyLogic",(function(){return ue})),o.d(t,"TranslationItemBase",(function(){return Be})),o.d(t,"TranslationItemString",(function(){return He})),o.d(t,"TranslationItem",(function(){return Qe})),o.d(t,"TranslationGroup",(function(){return Fe})),o.d(t,"Translation",(function(){return Ue})),o.d(t,"translationCss",(function(){return ze})),o.d(t,"TabTranslationPlugin",(function(){return Ge})),o.d(t,"initialSettingsAllowShowEmptyTitleInDesignMode",(function(){return ft})),o.d(t,"TabDesignerViewModel",(function(){return vt})),o.d(t,"TabDesignerPlugin",(function(){return bt})),o.d(t,"SurveyLogicUI",(function(){return ot})),o.d(t,"TabLogicPlugin",(function(){return it})),o.d(t,"logicCss",(function(){return Je})),o.d(t,"ToolboxToolViewModel",(function(){return Dt})),o.d(t,"PageNavigatorViewModel",(function(){return kt})),o.d(t,"PageViewModel",(function(){return qt})),o.d(t,"RowViewModel",(function(){return zt})),o.d(t,"QuestionAdornerViewModel",(function(){return Bt})),o.d(t,"QuestionImageAdornerViewModel",(function(){return Ht})),o.d(t,"QuestionRatingAdornerViewModel",(function(){return Qt})),o.d(t,"ItemValueWrapperViewModel",(function(){return Ft})),o.d(t,"ImageItemValueWrapperViewModel",(function(){return Ut})),o.d(t,"MatrixCellWrapperViewModel",(function(){return Gt})),o.d(t,"SurveySimulatorModel",(function(){return $})),o.d(t,"DEFAULT_MONITOR_DPI",(function(){return Y})),o.d(t,"simulatorDevices",(function(){return Z})),o.d(t,"SurveyResultsItemModel",(function(){return Jt})),o.d(t,"SurveyResultsModel",(function(){return Kt})),o.d(t,"LogoImageViewModel",(function(){return Xt})),o.d(t,"StringEditorViewModelBase",(function(){return $t})),o.d(t,"QuestionEmbeddedSurveyModel",(function(){return Yt})),o.d(t,"QuestionLinkValueModel",(function(){return Zt})),o.d(t,"getLocString",(function(){return s})),o.d(t,"SurveyJSON5",(function(){return h})),o.d(t,"setSurveyJSONForPropertyGrid",(function(){return be})),o.d(t,"PropertyEditorSetupValue",(function(){return we})),o.d(t,"PropertyGridEditorCollection",(function(){return xe})),o.d(t,"PropertyGridTitleActionsCreator",(function(){return Ce})),o.d(t,"PropertyJSONGenerator",(function(){return Te})),o.d(t,"PropertyGridModel",(function(){return Se})),o.d(t,"PropertyGridEditor",(function(){return Pe})),o.d(t,"PropertyGridEditorBoolean",(function(){return Ee})),o.d(t,"PropertyGridEditorStringBase",(function(){return Oe})),o.d(t,"PropertyGridEditorString",(function(){return _e})),o.d(t,"PropertyGridEditorNumber",(function(){return Ne})),o.d(t,"PropertyGridEditorText",(function(){return Ve})),o.d(t,"PropertyGridEditorHtml",(function(){return Ie})),o.d(t,"PropertyGridEditorColor",(function(){return Ae})),o.d(t,"PropertyGridEditorStringArray",(function(){return Me})),o.d(t,"PropertyGridEditorDropdown",(function(){return je})),o.d(t,"PropertyGridEditorSet",(function(){return Le})),o.d(t,"PropertyGridEditorPage",(function(){return De})),o.d(t,"PropertyGridEditorQuestion",(function(){return ke})),o.d(t,"PropertyGridEditorQuestionSelectBase",(function(){return Re})),o.d(t,"PropertyGridEditorQuestionValue",(function(){return qe})),o.d(t,"PropertyGridEditorExpression",(function(){return eo})),o.d(t,"PropertyGridEditorCondition",(function(){return to})),o.d(t,"PropertyGridEditorMatrix",(function(){return io})),o.d(t,"PropertyGridEditorMatrixItemValues",(function(){return no})),o.d(t,"PropertyGridEditorMatrixColumns",(function(){return ro})),o.d(t,"PropertyGridEditorMatrixPages",(function(){return so})),o.d(t,"PropertyGridEditorMatrixCalculatedValues",(function(){return ao})),o.d(t,"PropertyGridEditorMatrixHtmlConditions",(function(){return lo})),o.d(t,"PropertyGridEditorMatrixUrlConditions",(function(){return uo})),o.d(t,"PropertyGridEditorMatrixMutlipleTextItems",(function(){return co})),o.d(t,"PropertyGridEditorMatrixMultipleTypes",(function(){return po})),o.d(t,"PropertyGridEditorMatrixValidators",(function(){return ho})),o.d(t,"PropertyGridEditorMatrixTriggers",(function(){return mo})),o.d(t,"PropertyGridEditorBindings",(function(){return go})),o.d(t,"PropertyGridViewModel",(function(){return yt})),o.d(t,"ObjectSelectorItem",(function(){return ht})),o.d(t,"ObjectSelector",(function(){return mt})),o.d(t,"ObjectSelectorModel",(function(){return gt})),o.d(t,"PropertyGridEditorQuestionRestfull",(function(){return fo})),o.d(t,"PropertyGridValueEditorBase",(function(){return So})),o.d(t,"PropertyGridCellsEditor",(function(){return Po})),o.d(t,"PropertyGridValueEditor",(function(){return Eo})),o.d(t,"PropertyGridRowValueEditor",(function(){return Oo})),o.d(t,"PropertyGridPanelValueEditor",(function(){return _o})),o.d(t,"PropertyGridTriggerValueEditor",(function(){return No})),o.d(t,"PropertyGridTriggerValueInLogicEditor",(function(){return Vo})),o.d(t,"propertyGridCss",(function(){return B})),o.d(t,"QuestionConverter",(function(){return m})),o.d(t,"svgBundle",(function(){return Ao})),o.d(t,"SurveyTextWorker",(function(){return y})),o.d(t,"QuestionToolboxCategory",(function(){return f})),o.d(t,"QuestionToolboxItem",(function(){return v})),o.d(t,"QuestionToolbox",(function(){return b})),o.d(t,"SidebarModel",(function(){return Tt})),o.d(t,"SidebarTabModel",(function(){return xt})),o.d(t,"getNextValue",(function(){return S})),o.d(t,"findParentNode",(function(){return P})),o.d(t,"focusFirstControl",(function(){return E})),o.d(t,"getFirstNonTextElement",(function(){return O})),o.d(t,"getNodesFromKoComponentInfo",(function(){return _})),o.d(t,"propertyExists",(function(){return N})),o.d(t,"isPropertyVisible",(function(){return V})),o.d(t,"toggleHovered",(function(){return I})),o.d(t,"clearNewLines",(function(){return A})),o.d(t,"select",(function(){return M})),o.d(t,"copyObject",(function(){return j})),o.d(t,"copyCssClasses",(function(){return L})),o.d(t,"assignDefaultV2Classes",(function(){return D})),o.d(t,"wrapTextByCurlyBraces",(function(){return k})),o.d(t,"SurveyQuestionEditorDefinition",(function(){return de})),o.d(t,"ObjType",(function(){return x})),o.d(t,"SurveyHelper",(function(){return R})),o.d(t,"Notifier",(function(){return nt})),o.d(t,"ResizeManager",(function(){return Ct})),o.d(t,"UndoRedoPlugin",(function(){return ct})),o.d(t,"undoRedoTransaction",(function(){return pt})),o.d(t,"ignoreUndoRedo",(function(){return dt})),o.d(t,"UndoRedoManager",(function(){return rt})),o.d(t,"Transaction",(function(){return st})),o.d(t,"UndoRedoAction",(function(){return at})),o.d(t,"UndoRedoArrayAction",(function(){return lt}));var i={survey:{edit:"Edit",externalHelpLink:"Watch and learn how to create surveys",externalHelpLinkUrl:"https://www.youtube.com/channel/UCH2ru9okIcooNZfpIbyq4qQ?view_as=subscriber",dropQuestion:"Please drop a question here from the Toolbox.",addLogicItem:"Create a rule to customize the flow of the survey.",copy:"Copy",duplicate:"Duplicate",settings:"Settings",addToToolbox:"Add to toolbox",deletePanel:"Delete Panel",deleteQuestion:"Delete Question",convertTo:"Convert to",drag:"Drag element",license:"Please purchase a SurveyJS Creator developer license to use it in your app"},qt:{default:"Default",checkbox:"Checkbox",comment:"Comment",imagepicker:"Image picker",ranking:"Ranking",image:"Image",dropdown:"Dropdown",file:"File",html:"Html",matrix:"Matrix (single choice)",matrixdropdown:"Matrix (multiple choice)",matrixdynamic:"Matrix (dynamic rows)",multipletext:"Multiple Text",panel:"Panel",paneldynamic:"Panel (dynamic panels)",radiogroup:"Radiogroup",rating:"Rating",text:"Single Input",boolean:"Boolean",expression:"Expression (read-only)",signaturepad:"Signature pad",buttongroup:"Button group",flowpanel:"Flow Panel"},ed:{defaultLocale:"Default ({0})",survey:"Survey",settings:"Survey Settings",settingsTooltip:"Open survey settings",showPanel:"Show Panel",hidePanel:"Hide Panel",prevSelected:"Select previous",nextSelected:"Select next",surveyTypeName:"Survey",pageTypeName:"Page",panelTypeName:"Panel",questionTypeName:"Question",columnTypeName:"Column",addNewPage:"Add New Page",moveRight:"Scroll to the Right",moveLeft:"Scroll to the Left",deletePage:"Delete Page",editPage:"Edit Page",edit:"Edit",newPageName:"page",newQuestionName:"question",newPanelName:"panel",newTextItemName:"text",testSurvey:"Preview",testSurveyAgain:"Test Survey Again",testSurveyWidth:"Survey width: ",navigateToMsg:"You had to navigate to:",logic:"Logic",embedSurvey:"Embed Survey",translation:"Translation",saveSurvey:"Save Survey",saveSurveyTooltip:"Save Survey",designer:"Designer",jsonEditor:"JSON Editor",jsonHideErrors:"Hide errors",jsonShowErrors:"Show errors",undo:"Undo",redo:"Redo",undoTooltip:"Undo last change",redoTooltip:"Redo the change",copy:"Copy",cut:"Cut",paste:"Paste",copyTooltip:"Copy selection to clipboard",cutTooltip:"Cut selection to clipboard",pasteTooltip:"Paste from clipboard",options:"Options",generateValidJSON:"Generate Valid JSON",generateReadableJSON:"Generate Readable JSON",toolbox:"Toolbox","property-grid":"Properties",propertyGridFilteredTextPlaceholder:"Type to search...",toolboxGeneralCategory:"General",correctJSON:"Please correct JSON.",surveyResults:"Survey Result: ",surveyResultsTable:"As Table",surveyResultsJson:"As JSON",resultsTitle:"Question Title",resultsName:"Question Name",resultsValue:"Answer Value",resultsDisplayValue:"Display Value",modified:"Modified",saving:"Saving",saved:"Saved",propertyEditorError:"Error:",saveError:"Error! Editor content is not saved.",translationPropertyGridTitle:"Translation Setting",translationLanguages:"Languages",translationAddLanguage:"Select language to translate",translationShowAllStrings:"All Strings",translationShowUsedStringsOnly:"Used Strings Only",translationShowAllPages:"All Pages",translationNoStrings:"No strings to translate. Please, change the filter.",translationExportToSCVButton:"Export to CSV",translationImportFromSCVButton:"Import from CSV",translationMergeLocaleWithDefault:"Merge {0} with default locale",translationPlaceHolder:"Translation...",bold:"Bold",italic:"Italic",underline:"Underline",fpAddQuestion:"Add question...",selectPage:"Select page...",chooseElement:"Choose element...",htmlPlaceHolder:"HTML content will be here.",panelPlaceHolder:"Drop a question from the toolbox here.",surveyPlaceHolder:"The survey is empty. Drag an element from the toolbox or click the button below.",addNewQuestion:"Add Question",addNewTypeQuestion:"Add {0}",chooseLogoPlaceholder:"[LOGO]",lg:{addNewItem:"Add New Rule",empty_tab:"Create a rule to customize the flow of the survey.",page_visibilityName:"Show (hide) page",panel_visibilityName:"Show (hide) panel",panel_enableName:"Enable (disable) panel",question_visibilityName:"Show (hide) question",question_enableName:"Enable (disable) question",question_requireName:"Make question required",column_visibilityName:"Show (hide) column",column_enableName:"Enable (disable) column",column_requireName:"Make column required",trigger_completeName:"Complete survey",trigger_setvalueName:"Set question value",trigger_copyvalueName:"Copy question value",trigger_skipName:"Skip to question",trigger_runExpressionName:"Run custom expression",completedHtmlOnConditionName:"Custom 'Thank you page' text",page_visibilityDescription:"Make the page visible when the logic expression returns true. Otherwise keep it invisible.",panel_visibilityDescription:"Make the panel visible when the logic expression returns true. Otherwise keep it invisible.",panel_enableDescription:"Make the panel, and all elements inside it, enable when the logic expression returns true. Otherwise keep them disabled.",question_visibilityDescription:"Make the question visible when the logic expression returns true. Otherwise keep it invisible.",question_enableDescription:"Make the question enable when the logic expression returns true. Otherwise keep it disabled.",question_requireDescription:"Question becomes required when the logic expression returns true.",trigger_completeDescription:"When the logic expression returns true then the survey becomes completed and an end-user see the 'Thank you page'.",trigger_setvalueDescription:"When question values, that are used in the logic expression, are changed and the logic expression returns true, then the value is set to the selected question.",trigger_copyvalueDescription:"When question values, that are used in the logic expression, are changed and the logic expression returns true, then the value of one selected question is copied to another selected question.",trigger_skipDescription:"When the logic expression returns true then the survey skip to / focus the selected question.",trigger_runExpressionDescription:"When the logic expression returns true, then the custom expression is performed. You may optionally set this expression result into the selected question",completedHtmlOnConditionDescription:"If the logic expression returns true, then the default text for the 'Thank you page' is changed to the given one.",itemExpressionText:"When expression: '{0}' returns true:",itemEmptyExpressionText:"New rule is not set",page_visibilityText:"make page {0} visible",panel_visibilityText:"make panel {0} visible",panel_enableText:"make panel {0} enable",question_visibilityText:"make question {0} visible",question_enableText:"make question {0} enable",question_requireText:"make question {0} required",column_visibilityText:"make column {0} of question {1} visible",column_enableText:"make column {0} of question {1} enable",column_requireText:"make column {0} of question {1} required",trigger_completeText:"survey becomes completed",trigger_setvalueText:"set into question: {0} value {1}",trigger_copyvalueText:"copy into question: {0} value from question {1}",trigger_skipText:"survey skip to the question {0}",trigger_runExpressionText1:"run expression: '{0}'",trigger_runExpressionText2:" and set its result into question: {0}",completedHtmlOnConditionText:"show custom text for the 'Thank you page'.",showAllQuestions:"Show all questions",showAllActionTypes:"Show all action types",conditions:"Condition(s)",actions:"Action(s)",expressionEditorTitle:"Define condition(s)",actionsEditorTitle:"Define action(s)",deleteAction:"Delete action",addNewAction:"Add new action",selectedActionCaption:"Select an action to add...",expressionInvalid:"The logic expression is empty or invalid. Please correct it.",noActionError:"Please, add at least one action.",actionInvalid:"Please, fix problems in your action(s).",expressionSetup:"",actionsSetup:""}},pe:{apply:"Apply",ok:"OK",save:"Save",clear:"Clear",saveTooltip:"Save",cancel:"Cancel",set:"Set",reset:"Reset",change:"Change",refresh:"Refresh",close:"Close",delete:"Delete",add:"Add",addNew:"Add New",addItem:"Click to add an item...",removeItem:"Click to remove the item...",dragItem:"Drag the item",addOther:"Other",addSelectAll:"Select All",addNone:"None",removeAll:"Remove All",edit:"Edit",back:"Return without saving",backTooltip:"Return without saving",saveAndBack:"Save and return",saveAndBackTooltip:"Save and return",doneEditing:"Done",editChoices:"Edit Choices",showChoices:"Show Choices",move:"Move",empty:"<empty>",emptyValue:"Value is empty",fastEntry:"Fast Entry",fastEntryNonUniqueError:"Value '{0}' is not unique",fastEntryChoicesCountError:"Please limit the number of items from {0} to {1}",formEntry:"Form Entry",testService:"Test the service",itemSelectorEmpty:"Please select the element",conditionActionEmpty:"Please select the action",conditionSelectQuestion:"Select question...",conditionSelectPage:"Select page...",conditionSelectPanel:"Select panel...",conditionValueQuestionTitle:"Please enter/select the value",expressionHelp:"You can use curly brackets to get access to the question values: {question1} + {question2}, ({price}*{quantity}) * (100 - {discount}). You can use functions as: iif(), today(), age(), min(), max(), count(), avg() and others.",aceEditorHelp:"Press ctrl+space to get expression completion hint",aceEditorRowTitle:"Current row",aceEditorPanelTitle:"Current panel",showMore:"For more details please check the documentation",assistantTitle:"Available questions:",cellsEmptyRowsColumns:"There is should be at least one column or row",propertyIsEmpty:"Please enter a value",propertyIsNoUnique:"Please enter a unique value",propertyNameIsNotUnique:"Please enter a unique name",listIsEmpty:"Add a new item",choicesListIsEmpty:"No choices have been added yet","addNew@choices":"Add a choice",expressionIsEmpty:"Expression is empty",value:"Value",text:"Text",rowid:"Row ID",imageLink:"Image (video) link",columnEdit:"Edit column: {0}",itemEdit:"Edit item: {0}",url:"URL",path:"Path",valueName:"Value name",titleName:"Title name",allowEmptyResponse:"Allow empty respose",titlePlaceholder:"Input title here",surveyTitlePlaceholder:"Input survey title here",pageTitlePlaceholder:"Page {num}",descriptionPlaceholder:"Enter a description",surveyDescriptionPlaceholder:"Enter a survey description",pageDescriptionPlaceholder:"Enter a page description",hasOther:"Has other item",otherText:"Other item text",hasNone:"Has none item",noneText:"None item text",hasSelectAll:"Has select all item",selectAllText:"Select all item text",choicesMin:"Minimum value for auto generated items",choicesMax:"Maximum value for auto generated items",choicesStep:"The difference between auto generated items",name:"Name",title:"Title",cellType:"Cell type",colCount:"Column count",choicesOrder:"Select choices order",visible:"Is visible?",isRequired:"Is required?",isAllRowRequired:"Require answer for all rows",requiredErrorText:"Required error text",startWithNewLine:"Is start with new line?",rows:"Row count",cols:"Column count",placeHolder:"Input place holder",showPreview:"Show preview area",storeDataAsText:"Store file content in JSON result as text",maxSize:"Maximum file size in bytes",imageHeight:"Image height",imageWidth:"Image width",rowCount:"Row count",columnLayout:"Columns layout",addRowLocation:"Add row button location",addRowText:"Add row button text",removeRowText:"Remove row button text",rateMin:"Minimum rate",rateMax:"Maximum rate",rateStep:"Rate step",minRateDescription:"Minimum rate description",maxRateDescription:"Maximum rate description",inputType:"Input type",optionsCaption:"Options caption",showOptionsCaption:"Show options caption",defaultValue:"Default value",cellsDefaultRow:"Default cells texts",surveyEditorTitle:"Edit survey settings",qEditorTitle:"Edit: {0}",maxLength:"Maximum length",buildExpression:"Build",editExpression:"Edit",and:"and",or:"or",remove:"Remove",addCondition:"Add condition",if:"If",then:"Then",setToName:"to",fromName:"from",ruleIsNotSet:"Rule is incorrect",showTitle:"Show/hide title",expandCollapseTitle:"Expand/collapse title",locale:"Default language",simulator:"Choose device",landscapeOrientation:"Landscape",portraitOrientation:"Portrait",mode:"Mode (edit/read only)",clearInvisibleValues:"Clear invisible values",cookieName:"Cookie name (to disable run survey two times locally)",sendResultOnPageNext:"Send survey results on page next",storeOthersAsComment:"Store 'others' value in separate field",showPageTitles:"Show page titles",showPageNumbers:"Show page numbers",pagePrevText:"Page previous button text",pageNextText:"Page next button text",completeText:"Complete button text",previewText:"Preview button text",editText:"Edit button text",startSurveyText:"Start button text",showNavigationButtons:"Show navigation buttons (default navigation)",showPrevButton:"Show previous button (user may return on previous page)",firstPageIsStarted:"The first page in the survey is a started page.",showCompletedPage:"Show the completed page at the end (completedHtml)",goNextPageAutomatic:"On answering all questions, go to the next page automatically",showProgressBar:"Show progress bar",questionTitleLocation:"Question title location",requiredText:"The question required symbol(s)",questionStartIndex:"Question start index (1, 2 or 'A', 'a')",showQuestionNumbers:"Show question numbers",questionTitleTemplate:"Question title template, default is: '{no}. {require} {title}'",questionErrorLocation:"Question error location",focusFirstQuestionAutomatic:"Focus first question on changing the page",questionsOrder:"Elements order on the page",maxTimeToFinish:"Maximum time to finish the survey",maxTimeToFinishPage:"Maximum time to finish a page in the survey",showTimerPanel:"Show timer panel",showTimerPanelMode:"Show timer panel mode",renderMode:"Render mode",allowAddPanel:"Allow adding a panel",allowRemovePanel:"Allow removing the panel",panelAddText:"Adding panel text",panelRemoveText:"Removing panel text",isSinglePage:"Show all elements on one page",html:"Html",expression:"Expression",minValue:"Minimum value",maxValue:"Maximum value",minLength:"Minimum length",allowDigits:"Allow digits",minCount:"Minimum count",maxCount:"Maximum count",regex:"Regular expression",totalText:"Total text",totalType:"Total type",totalExpression:"Total expression",totalDisplayStyle:"Total display style",totalCurrency:"Total currency",totalFormat:"Total format",logoPosition:"Logo position",addLogo:"Add logo...",changeLogo:"Change logo...",logoPositions:{none:"Remove logo",left:"Left",right:"Right",top:"On the top",bottom:"In the bottom"},tabs:{general:"General",fileOptions:"Options",html:"Html Editor",columns:"Columns",rows:"Rows",choices:"Choices",items:"Items",visibleIf:"Visible If",enableIf:"Enable If",requiredIf:"Required If",rateValues:"Rate Values",choicesByUrl:"Choices from Web",matrixChoices:"Default Choices",multipleTextItems:"Text Inputs",numbering:"Numbering",validators:"Validators",navigation:"Navigation",question:"Question",pages:"Pages",completedHtml:"Completed Html",completedHtmlOnCondition:"Completed Html on Condition",loadingHtml:"Loading Html",timer:"Timer/Quiz",calculatedValues:"Calculated Values",triggers:"Triggers",templateTitle:"Template title",totals:"Totals",logic:"Logic",layout:"Layout",data:"Data",validation:"Validation",cells:"Cells",showOnCompleted:"Show on Completed",logo:"Logo in Survey Title",slider:"Slider",others:"Others"},editProperty:"Edit property '{0}'",items:"[ Items: {0} ]",enterNewValue:"Please, enter the value.",noquestions:"There is no any question in the survey.",createtrigger:"Please create a trigger",titleKeyboardAdornerTip:"Press enter button to edit",keyboardAdornerTip:"Press enter button to edit item, press delete button to delete item, press alt plus arrow up or arrow down to move item",triggerOn:"On ",triggerMakePagesVisible:"Make pages visible:",triggerMakeQuestionsVisible:"Make elements visible:",triggerCompleteText:"Complete the survey if succeed.",triggerNotSet:"The trigger is not set",triggerRunIf:"Run if",triggerSetToName:"Change value of: ",triggerFromName:"Copy value from: ",triggerRunExpression:"Run this Expression:",triggerSetValue:"to: ",triggerGotoName:"Go to the question:",triggerIsVariable:"Do not put the variable into the survey result.",triggerRunExpressionEmpty:"Please enter a valid expression",emptyExpressionPlaceHolder:"Type expression here...",noFile:"No file choosen"},pv:{true:"true",false:"false",inherit:"inherit",show:"show",hide:"hide",default:"default",initial:"initial",random:"random",collapsed:"collapsed",expanded:"expanded",none:"none",asc:"ascending",desc:"descending",indeterminate:"indeterminate",decimal:"decimal",currency:"currency",percent:"percent",firstExpanded:"first expanded",off:"off",onPanel:"on panel",onSurvey:"on survey",list:"list",progressTop:"progress on top",progressBottom:"progress on bottom",progressTopBottom:"progress on top&bottom",horizontal:"horizontal",vertical:"vertical",top:"top",bottom:"bottom",topBottom:"top and bottom",both:"both",left:"left",color:"color",date:"date",datetime:"datetime","datetime-local":"datetime-local",email:"email",month:"month",number:"number",password:"password",range:"range",tel:"tel",text:"text",time:"time",url:"url",week:"week",hidden:"hidden",on:"on",onPage:"on page",edit:"edit",display:"display",onComplete:"on complete",onHidden:"on hidden",all:"all",page:"page",survey:"survey",onNextPage:"on next page",onValueChanged:"on value changed",singlePage:"single page",standard:"standard",questionPerPage:"question per page",noPreview:"no preview",showAllQuestions:"show preview with all questions",showAnsweredQuestions:"show preview with answered questions",pages:"pages",questions:"questions",requiredQuestions:"required questions",correctQuestions:"correct questions",buttons:"buttons",underInput:"under input",underTitle:"under title"},op:{empty:"is empty",notempty:"is not empty",equal:"equals",notequal:"not equals",contains:"contains",notcontains:"not contains",anyof:"any of",allof:"all of",greater:"greater",less:"less",greaterorequal:"greater or equals",lessorequal:"less or equals",and:"and",or:"or"},ew:{angular:"Use Angular version",jquery:"Use jQuery version",knockout:"Use Knockout version",react:"Use React version",vue:"Use Vue version",bootstrap:"For bootstrap framework",modern:"Modern theme",default:"Default theme",orange:"Orange theme",darkblue:"Darkblue theme",darkrose:"Darkrose theme",stone:"Stone theme",winter:"Winter theme",winterstone:"Winter-Stone theme",showOnPage:"Show survey on a page",showInWindow:"Show survey in a window",loadFromServer:"Load Survey JSON from server",titleScript:"Scripts and styles",titleHtml:"HTML",titleJavaScript:"JavaScript"},ts:{selectPage:"Select the page to test it:",showInvisibleElements:"Show invisible elements"},validators:{answercountvalidator:"answer count",emailvalidator:"e-mail",expressionvalidator:"expression",numericvalidator:"numeric",regexvalidator:"regex",textvalidator:"text"},triggers:{completetrigger:"complete survey",setvaluetrigger:"set value",copyvaluetrigger:"copy value",skiptrigger:"skip to question",runexpressiontrigger:"run expression",visibletrigger:"change visibility (deprecated)"},pehelp:{},p:{name:"name",title:{name:"title",title:"Leave it empty, if it is the same as 'Name'"},navigationButtonsVisibility:"navigationButtonsVisibility",questionsOrder:"questionsOrder",maxTimeToFinish:"maxTimeToFinish",visible:"visible",visibleIf:"visibleIf",questionTitleLocation:"questionTitleLocation",description:"description",state:"state",isRequired:"isRequired",requiredIf:"requiredIf",indent:"indent",requiredErrorText:"requiredErrorText",startWithNewLine:"startWithNewLine",innerIndent:"innerIndent",page:"page",width:"width",commentText:"commentText",valueName:"valueName",enableIf:"enableIf",defaultValue:"defaultValue",correctAnswer:"correctAnswer",readOnly:"readOnly",validators:"validators",titleLocation:"titleLocation",hasComment:"hasComment",hasOther:"hasOther",choices:"choices",choicesOrder:"choicesOrder",choicesByUrl:"choicesByUrl",otherText:"otherText",otherErrorText:"otherErrorText",storeOthersAsComment:"storeOthersAsComment",label:"label",showTitle:"showTitle",valueTrue:"valueTrue",valueFalse:"valueFalse",cols:"cols",rows:"rows",placeHolder:"placeHolder",optionsCaption:"optionsCaption",expression:"expression",format:"format",displayStyle:"displayStyle",currency:"currency",useGrouping:"useGrouping",showPreview:"showPreview",allowMultiple:"allowMultiple",imageHeight:"imageHeight",imageWidth:"imageWidth",storeDataAsText:"storeDataAsText",maxSize:"maxSize",html:"html",columns:"columns",cells:"cells",isAllRowRequired:"isAllRowRequired",horizontalScroll:"horizontalScroll",cellType:"cellType",columnsLayout:"columnsLayout",columnColCount:"columnColCount",columnMinWidth:"columnMinWidth",rowCount:"rowCount",minRowCount:"minRowCount",maxRowCount:"maxRowCount",keyName:"keyName",keyDuplicationError:"keyDuplicationError",confirmDelete:"confirmDelete",confirmDeleteText:"confirmDeleteText",addRowLocation:"addRowLocation",addRowText:"addRowText",removeRowText:"removeRowText",items:"items",itemSize:"itemSize",colCount:"colCount",templateTitle:"templateTitle",templateDescription:"templateDescription",allowAddPanel:"allowAddPanel",allowRemovePanel:"allowRemovePanel",panelCount:"panelCount",minPanelCount:"minPanelCount",maxPanelCount:"maxPanelCount",panelsState:"panelsState",panelAddText:"panelAddText",panelRemoveText:"panelRemoveText",panelPrevText:"panelPrevText",panelNextText:"panelNextText",showQuestionNumbers:"showQuestionNumbers",showRangeInProgress:"showRangeInProgress",renderMode:"renderMode",templateTitleLocation:"templateTitleLocation",rateValues:"rateValues",rateMin:"rateMin",rateMax:"rateMax",rateStep:"rateStep",minRateDescription:"minRateDescription",maxRateDescription:"maxRateDescription",inputType:"inputType",size:"size",locale:"locale",focusFirstQuestionAutomatic:"focusFirstQuestionAutomatic",completedHtml:"completedHtml",completedBeforeHtml:"completedBeforeHtml",loadingHtml:"loadingHtml",triggers:"triggers",cookieName:"cookieName",sendResultOnPageNext:"sendResultOnPageNext",showNavigationButtons:"showNavigationButtons",showPrevButton:"showPrevButton",showPageTitles:"showPageTitles",showCompletedPage:"showCompletedPage",showPageNumbers:"showPageNumbers",questionErrorLocation:"questionErrorLocation",showProgressBar:"showProgressBar",mode:"mode",goNextPageAutomatic:"goNextPageAutomatic",checkErrorsMode:"checkErrorsMode",clearInvisibleValues:"clearInvisibleValues",startSurveyText:"startSurveyText",pagePrevText:"pagePrevText",pageNextText:"pageNextText",completeText:"completeText",requiredText:"requiredText",questionStartIndex:"questionStartIndex",questionTitleTemplate:"questionTitleTemplate",firstPageIsStarted:"firstPageIsStarted",isSinglePage:"isSinglePage",maxTimeToFinishPage:"maxTimeToFinishPage",showTimerPanel:"showTimerPanel",showTimerPanelMode:"showTimerPanelMode",defaultPanelValue:"defaultPanelValue",defaultRowValue:"defaultRowValue",hasNone:"hasNone",noneText:"noneText",text:"text",multiSelect:"Multi select",showLabel:"Show label",logo:"logo",logoWidth:"logoWidth",logoHeight:"logoHeight",logoFit:"logoFit",focusOnFirstError:"focusOnFirstError",completedHtmlOnCondition:"completedHtmlOnCondition",pages:"pages",calculatedValues:"calculatedValues",navigateToUrl:"navigateToUrl",navigateToUrlOnCondition:"navigateToUrlOnCondition",questionDescriptionLocation:"questionDescriptionLocation",progressBarType:"progressBarType",maxTextLength:"maxTextLength",maxOthersLength:"maxOthersLength",textUpdateMode:"textUpdateMode",autoGrowComment:"autoGrowComment",questionTitlePattern:"questionTitlePattern",questionsOnPageMode:"questionsOnPageMode",showPreviewBeforeComplete:"showPreviewBeforeComplete",widthMode:"widthMode",showNumber:"showNumber",navigationTitle:"navigationTitle",navigationDescription:"navigationDescription",useDisplayValuesInTitle:"useDisplayValuesInTitle",minWidth:"minWidth",maxWidth:"maxWidth",descriptionLocation:"descriptionLocation",hideNumber:"hideNumber",defaultValueExpression:"defaultValueExpression",bindings:"bindings",columnsVisibleIf:"columnsVisibleIf",rowsVisibleIf:"rowsVisibleIf",showHeader:"showHeader",detailPanelMode:"detailPanelMode",rowTitleWidth:"rowTitleWidth",allowAddRows:"allowAddRows",allowRemoveRows:"allowRemoveRows",defaultValueFromLastRow:"defaultValueFromLastRow",hideColumnsIfEmpty:"hideColumnsIfEmpty",emptyRowsText:"emptyRowsText",detailPanelShowOnAdding:"detailPanelShowOnAdding",allowRowsDragAndDrop:"allowRowsDragAndDrop",rowsOrder:"rowsOrder",hideIfRowsEmpty:"hideIfRowsEmpty",maximumFractionDigits:"maximumFractionDigits",minimumFractionDigits:"minimumFractionDigits",choicesFromQuestion:"choicesFromQuestion",choicesFromQuestionMode:"choicesFromQuestionMode",hideIfChoicesEmpty:"hideIfChoicesEmpty",choicesVisibleIf:"choicesVisibleIf",choicesEnableIf:"choicesEnableIf",otherPlaceHolder:"otherPlaceHolder",maxSelectedChoices:"maxSelectedChoices",showClearButton:"showClearButton",contentMode:"contentMode",imageFit:"imageFit",autoComplete:"autoComplete",min:"min",max:"max",minValueExpression:"minValueExpression",maxValueExpression:"maxValueExpression",minErrorText:"minErrorText",maxErrorText:"maxErrorText",step:"step",dataList:"dataList",autoGrow:"autoGrow",multiLine:"multiLine",allowImagesPreview:"allowImagesPreview",acceptedTypes:"acceptedTypes",waitForUpload:"waitForUpload",needConfirmRemoveFile:"needConfirmRemoveFile",labelTrue:"labelTrue",labelFalse:"labelFalse",height:"height",allowClear:"allowClear",penColor:"penColor",backgroundColor:"backgroundColor",dataFormat:"dataFormat",defaultValueFromLastPanel:"defaultValueFromLastPanel",panelRemoveButtonLocation:"panelRemoveButtonLocation",showCaption:"showCaption",iconName:"iconName",iconSize:"iconSize"}},n=o(0),r={camelCaseBreaking:!0,currentLocale:"",locales:{},getString:function(e,t){void 0===t&&(t=null);for(var o=this.getLocale(t),i=this.getLocale("en"),n=e.split("."),r=o,s=0;s<n.length;s++)if(!(r=r[n[s]])&&""!==r)return o===i?n[s]:this.getString(e,"en");return r},hasString:function(e,t){void 0===t&&(t=null);for(var o=this.getLocale(t),i=e.split("."),n=o,r=0;r<i.length;r++)if(!(n=n[i[r]])&&""!==n)return!1;return!0},getLocaleName:function(e,t){void 0===t&&(t=null);var o=n.surveyLocalization.localeNames;t||(t=n.surveyLocalization.defaultLocale);var i=e?o[e]:r.getString("ed.defaultLocale").format(o[t]);return i||e},getPropertyName:function(e,t){void 0===t&&(t=null);var o=this.getProperty(e,t),i=o.name;return i?i!=e?i:this.getAutoPropertyName(i,t):o},getPropertyTitle:function(e){var t=this.getProperty(e);return t.title?t.title:""},getPropertyNameInEditor:function(e,t){void 0===t&&(t=null);var o=this.getString("pe."+e);return o!==e?o:this.getPropertyName(e,t)},getProperty:function(e,t){void 0===t&&(t=null);var o=this.getString("p."+e);if(o!==e)return o;var i=e.indexOf("_");return i<-1?this.getAutoPropertyName(o,t):(e=e.substr(i+1),(o=this.getString("p."+e))!==e?o:this.getAutoPropertyName(o,t))},convertToCamelCase:function(e,t){if(void 0===t&&(t=!1),!e)return e;if((e=e.trim()).indexOf(" ")>-1)return e;for(var o=!1,i=0;i<e.length;i++)if(e[i]!==e[i].toUpperCase()){o=!0;break}if(!o)return e;var n=e[0].toUpperCase();for(i=1;i<e.length;i++)e[i]===e[i].toUpperCase()&&(n+=" "),n+=e[i].toLowerCase();return t&&(n=n.toLowerCase()),n},getAutoPropertyName:function(e,t){return void 0===t&&(t=null),t||(e&&this.camelCaseBreaking?this.convertToCamelCase(e):e)},getPropertyValue:function(e,t){return void 0===t&&(t=null),this.getValueInternal(e,"pv",t)},getValidatorName:function(e,t){return void 0===t&&(t=null),this.getValueInternal(e,"validators",t)},getTriggerName:function(e,t){return void 0===t&&(t=null),this.getValueInternal(e,"triggers",t)},getLocale:function(e){e||(e=this.currentLocale);var t=e?this.locales[e]:l;return t||(t=l),t},getValueInternal:function(e,t,o){if(void 0===o&&(o=null),""===e||null==e)return"";e=e.toString();var i=this.getLocale(o),n=i[t]?i[t][e]:null;return n||(n=l[t][e]),n||(this.camelCaseBreaking?this.convertToCamelCase(e,!0):e)},getLocales:function(){var e=[];for(var t in e.push(""),this.locales)e.push(t);return e}};function s(e,t){return void 0===t&&(t=null),r.getString(e,t)}var a,l=i;!function(e){e[e.AllTypes=0]="AllTypes",e[e.CompatibleTypes=1]="CompatibleTypes"}(a||(a={}));var u={translation:{sortByName:!1,exportPrefix:"",maximumSelectedLocales:7},operators:{empty:[],notempty:[],equal:["!file"],notequal:["!file"],contains:["checkbox","text","comment"],notcontains:["checkbox","text","comment"],anyof:["selectbase"],allof:["checkbox"],greater:["!checkbox","!imagepicker","!boolean","!file"],less:["!checkbox","!imagepicker","!boolean","!file"],greaterorequal:["!checkbox","!imagepicker","!boolean","!file"],lessorequal:["!checkbox","!imagepicker","!boolean","!file"]},defaultNewSurveyJSON:{},logic:{visibleActions:[],logicItemTitleMaxChars:50},questionConvertMode:a.AllTypes,propertyGrid:{useButtonGroup:!0,maxCharsInButtonGroup:25,showNavigationButtons:!1,maximumColumnsCount:0,maximumChoicesCount:0,maximumRowsCount:0,maximumRateValues:0,generalTabName:"general"},notifications:{lifetime:2e3},autoSave:{delay:500},dragDrop:{restrictDragQuestionBetweenPages:!1},layout:{showTabs:!0,showToolbar:!0,allowCollapseSidebar:!0},jsonEditor:{indentation:1}},c=function(){function e(){this.allowEditExpressionsInTextEditor=!0,this.maximumColumnsCount=u.propertyGrid.maximumColumnsCount,this.maximumChoicesCount=u.propertyGrid.maximumChoicesCount,this.maximumRowsCount=u.propertyGrid.maximumRowsCount,this.maximumRateValues=u.propertyGrid.maximumRateValues}return e.prototype.getObjectDisplayName=function(e,t,o){return o},e.prototype.onCanShowPropertyCallback=function(e,t,o,i,n){return!0},e.prototype.onPropertyEditorCreatedCallback=function(e,t,o){},e.prototype.onPropertyEditorUpdateTitleActionsCallback=function(e,t,o,i){},e.prototype.onIsPropertyReadOnlyCallback=function(e,t,o,i,n){return o},e.prototype.onCanDeleteItemCallback=function(e,t,o){return o},e.prototype.onCollectionItemDeletingCallback=function(e,t,o,i){return!0},e.prototype.onCollectionItemAllowingCallback=function(e,t,o,i,n){},e.prototype.onItemValueAddedCallback=function(e,t,o,i){},e.prototype.onMatrixDropdownColumnAddedCallback=function(e,t,o){},e.prototype.onSetPropertyEditorOptionsCallback=function(e,t,o){},e.prototype.onGetErrorTextOnValidationCallback=function(e,t,o){return null},e.prototype.onValueChangingCallback=function(e){},e.prototype.onGetElementEditorTitleCallback=function(e,t){return t},e.prototype.startUndoRedoTransaction=function(){},e.prototype.stopUndoRedoTransaction=function(){},e.prototype.createSurvey=function(e,t,o){return new n.SurveyModel(e)},e.prototype.onConditionQuestionsGetListCallback=function(e,t,o,i){},e.prototype.onConditionGetTitleCallback=function(e,t){return t},e}(),p=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.assign;function d(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var h=function(){function e(e){void 0===e&&(e=0),this.parseType=e}return e.prototype.parse=function(e,t,o,i){var n;return void 0===t&&(t=null),void 0===o&&(o=0),void 0===i&&(i=-1),this.text=String(e),this.at=o,this.endAt=i,this.ch=" ",n=this.value(),this.white(),this.ch&&this.error("Syntax error"),"function"==typeof t?function e(o,i){var n,r,s=o[i];if(s&&"object"==typeof s)for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(void 0!==(r=e(s,n))?s[n]=r:delete s[n]);return t.call(o,i,s)}({"":n},""):n},e.prototype.error=function(e){var t=new SyntaxError;throw t.message=e,t.at=this.at,t},e.prototype.next=function(e){return void 0===e&&(e=null),e&&e!==this.ch&&this.error("Expected '"+e+"' instead of '"+this.ch+"'"),this.ch=this.chartAt(),this.at+=1,this.ch},e.prototype.peek=function(){return this.chartAt()},e.prototype.chartAt=function(){return this.endAt>-1&&this.at>=this.endAt?"":this.text.charAt(this.at)},e.prototype.identifier=function(){var e=this.ch;for("_"!==this.ch&&"$"!==this.ch&&(this.ch<"a"||this.ch>"z")&&(this.ch<"A"||this.ch>"Z")&&this.error("Bad identifier");this.next()&&("_"===this.ch||"$"===this.ch||this.ch>="a"&&this.ch<="z"||this.ch>="A"&&this.ch<="Z"||this.ch>="0"&&this.ch<="9");)e+=this.ch;return e},e.prototype.number=function(){var e,t="",o="",i=10;if("-"!==this.ch&&"+"!==this.ch||(t=this.ch,this.next(this.ch)),"I"===this.ch)return("number"!=typeof(e=this.word())||isNaN(e))&&this.error("Unexpected word for number"),"-"===t?-e:e;if("N"===this.ch)return e=this.word(),isNaN(e)||this.error("expected word to be NaN"),e;switch("0"===this.ch&&(o+=this.ch,this.next(),"x"===this.ch||"X"===this.ch?(o+=this.ch,this.next(),i=16):this.ch>="0"&&this.ch<="9"&&this.error("Octal literal")),i){case 10:for(;this.ch>="0"&&this.ch<="9";)o+=this.ch,this.next();if("."===this.ch)for(o+=".";this.next()&&this.ch>="0"&&this.ch<="9";)o+=this.ch;if("e"===this.ch||"E"===this.ch)for(o+=this.ch,this.next(),"-"!==this.ch&&"+"!==this.ch||(o+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)o+=this.ch,this.next();break;case 16:for(;this.ch>="0"&&this.ch<="9"||this.ch>="A"&&this.ch<="F"||this.ch>="a"&&this.ch<="f";)o+=this.ch,this.next()}if(e="-"===t?-o:+o,isFinite(e))return e;this.error("Bad number")},e.prototype.string=function(){var t,o,i,n,r="";if('"'===this.ch||"'"===this.ch)for(i=this.ch;this.next();){if(this.ch===i)return this.next(),r;if("\\"===this.ch)if(this.next(),"u"===this.ch){for(n=0,o=0;o<4&&(t=parseInt(this.next(),16),isFinite(t));o+=1)n=16*n+t;r+=String.fromCharCode(n)}else if("\r"===this.ch)"\n"===this.peek()&&this.next();else{if("string"!=typeof e.escapee[this.ch])break;r+=e.escapee[this.ch]}else{if("\n"===this.ch)break;r+=this.ch}}this.error("Bad string")},e.prototype.inlineComment=function(){"/"!==this.ch&&this.error("Not an inline comment");do{if(this.next(),"\n"===this.ch||"\r"===this.ch)return void this.next()}while(this.ch)},e.prototype.blockComment=function(){"*"!==this.ch&&this.error("Not a block comment");do{for(this.next();"*"===this.ch;)if(this.next("*"),"/"===this.ch)return void this.next("/")}while(this.ch);this.error("Unterminated block comment")},e.prototype.comment=function(){"/"!==this.ch&&this.error("Not a comment"),this.next("/"),"/"===this.ch?this.inlineComment():"*"===this.ch?this.blockComment():this.error("Unrecognized comment")},e.prototype.white=function(){for(;this.ch;)if("/"===this.ch)this.comment();else{if(!(e.ws.indexOf(this.ch)>=0))return;this.next()}},e.prototype.word=function(){switch(this.ch){case"t":return this.next("t"),this.next("r"),this.next("u"),this.next("e"),!0;case"f":return this.next("f"),this.next("a"),this.next("l"),this.next("s"),this.next("e"),!1;case"n":return this.next("n"),this.next("u"),this.next("l"),this.next("l"),null;case"I":return this.next("I"),this.next("n"),this.next("f"),this.next("i"),this.next("n"),this.next("i"),this.next("t"),this.next("y"),1/0;case"N":return this.next("N"),this.next("a"),this.next("N"),NaN}this.error("Unexpected '"+this.ch+"'")},e.prototype.array=function(){var e=[];if("["===this.ch)for(this.next("["),this.white();this.ch;){if("]"===this.ch)return this.next("]"),e;if(","===this.ch?this.error("Missing array element"):e.push(this.value()),this.white(),","!==this.ch)return this.next("]"),e;this.next(","),this.white()}this.error("Bad array")},e.prototype.object=function(){var t,o,i=!0,n={};if(this.parseType>0&&(n[e.positionName]={start:this.at-1}),"{"===this.ch)for(this.next("{"),this.white(),o=this.at-1;this.ch;){if("}"===this.ch)return this.parseType>0&&(n[e.positionName].end=o),this.next("}"),n;if(t='"'===this.ch||"'"===this.ch?this.string():this.identifier(),this.white(),this.parseType>1&&(n[e.positionName][t]={start:o,valueStart:this.at}),this.next(":"),n[t]=this.value(),this.parseType>1&&(o=this.at-1,n[e.positionName][t].valueEnd=o,n[e.positionName][t].end=o),this.white(),","!==this.ch)return this.parseType>1&&(n[e.positionName][t].valueEnd--,n[e.positionName][t].end--),this.parseType>0&&(n[e.positionName].end=this.at-1),this.next("}"),n;this.parseType>1&&(n[e.positionName][t].valueEnd--,i||n[e.positionName][t].end--),this.next(","),this.white(),i=!1}this.error("Bad object")},e.prototype.value=function(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':case"'":return this.string();case"-":case"+":case".":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}},e.prototype.stringify=function(e,t,o){if(void 0===t&&(t=null),void 0===o&&(o=null),t&&"function"!=typeof t&&!this.isArray(t))throw new Error("Replacer must be a function or an array");this.replacer=t,this.indentStr=this.getIndent(o),this.objStack=[];var i={"":e};return void 0===e?this.getReplacedValueOrUndefined(i,"",!0):this.internalStringify(i,"",!0)},e.prototype.getIndent=function(e){if(e){if("string"==typeof e)return e;if("number"==typeof e&&e>=0)return this.makeIndent(" ",e,!0)}return""},e.prototype.getReplacedValueOrUndefined=function(e,t,o){var i=e[t];return i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),"function"==typeof this.replacer?this.replacer.call(e,t,i):this.replacer?o||this.isArray(e)||this.replacer.indexOf(t)>=0?i:void 0:i},e.prototype.isWordChar=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"$"===e},e.prototype.isWordStart=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e},e.prototype.isWord=function(e){if("string"!=typeof e)return!1;if(!this.isWordStart(e[0]))return!1;for(var t=1,o=e.length;t<o;){if(!this.isWordChar(e[t]))return!1;t++}return!0},e.prototype.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e.prototype.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.prototype.isNaN=function(e){return"number"==typeof e&&e!=e},e.prototype.checkForCircular=function(e){for(var t=0;t<this.objStack.length;t++)if(this.objStack[t]===e)throw new TypeError("Converting circular structure to JSON")},e.prototype.makeIndent=function(e,t,o){if(void 0===o&&(o=!1),!e)return"";e.length>10&&(e=e.substring(0,10));for(var i=o?"":"\n",n=0;n<t;n++)i+=e;return i},e.prototype.escapeString=function(t){return e.escapable.lastIndex=0,e.escapable.test(t)?'"'+t.replace(e.escapable,(function(t){var o=e.meta[t];return"string"==typeof o?o:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'},e.prototype.internalStringify=function(e,t,o){var i,n,r=this.getReplacedValueOrUndefined(e,t,o);switch(r&&!this.isDate(r)&&(r=r.valueOf()),typeof r){case"boolean":return r.toString();case"number":return isNaN(r)||!isFinite(r)?"null":r.toString();case"string":return this.escapeString(r.toString());case"object":if(null===r)return"null";if(this.isArray(r)){this.checkForCircular(r),i="[",this.objStack.push(r);for(var s=0;s<r.length;s++)n=this.internalStringify(r,s,!1),i+=this.makeIndent(this.indentStr,this.objStack.length),i+=null==n?"null":n,s<r.length-1?i+=",":this.indentStr&&(i+="\n");this.objStack.pop(),i+=this.makeIndent(this.indentStr,this.objStack.length,!0)+"]"}else{this.checkForCircular(r),i="{";var a=!1;for(var l in this.objStack.push(r),r)if(r.hasOwnProperty(l)){var u=this.internalStringify(r,l,!1);if(o=!1,null!=u)i+=this.makeIndent(this.indentStr,this.objStack.length),a=!0,i+=(this.isWord(l)?l:this.escapeString(l))+":"+(this.indentStr?" ":"")+u+","}this.objStack.pop(),i=a?i.substring(0,i.length-1)+this.makeIndent(this.indentStr,this.objStack.length)+"}":"{}"}return i;default:return}},e.positionName="pos",e.escapee={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},e.ws=[" ","\t","\r","\n","\v","\f","Â ","\ufeff"],e.cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e.escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e}(),m=function(){function e(){}return e.addConvertInfo=function(t,o){e.convertInfo[t]||(e.convertInfo[t]=[]),e.convertInfo[t].push(o)},e.getConvertToClasses=function(t,o,i){void 0===o&&(o=null),void 0===i&&(i=!1);var r=u.questionConvertMode==a.AllTypes?function(e,t){void 0===t&&(t=!1);for(var o=n.Serializer.getChildrenClasses("question",!0),i=[],r=0;r<o.length;r++)(t||o[r].name!==e)&&i.push(o[r].name);var s=n.CustomWidgetCollection.Instance.widgets;for(r=0;r<s.length;r++)(t||s[r].name!==e)&&i.push(s[r].name);return i}(t,i):e.convertInfo[t];return r?(o&&Array.isArray(o)&&o.length>0&&(r=r.filter((function(e){return o.indexOf(e)>=0})).sort((function(e,t){return o.indexOf(e)-o.indexOf(t)}))),r||[]):[]},e.convertObject=function(t,o,i){if(void 0===i&&(i=null),!t||!t.parent||o==t.getType())return null;var r=n.QuestionFactory.Instance.createQuestion(o,t.name);r||(r=n.Serializer.createClass(o,{})),r.name=t.name;var s=r.toJSON(),a=t.toJSON();for(var l in a)s[l]=a[l];e.updateJSON(s,o,i),r.fromJSON(s);var u=t.parent,c=u.elements.indexOf(t);return u.removeElement(t),u.addElement(r,c),r.onSurveyLoad(),r},e.updateJSON=function(e,t,o){"rating"===t&&e.choices?o&&o.choices&&n.Helpers.isArraysEqual(o.choices,e.choices)||(e.rateValues=e.choices):e.rateValues&&(e.choices=e.rateValues)},e.convertInfo={},e}();!function(){for(var e=n.Serializer.getChildrenClasses("selectbase",!0),t=0;t<e.length;t++)for(var o=0;o<e.length;o++)t!=o&&m.addConvertInfo(e[t].name,e[o].name);m.addConvertInfo("text","comment"),m.addConvertInfo("comment","text")}();var g=function(e){function t(t){var o=e.call(this)||this;return o.setDesignMode(!0),o.fromJSON(t),o}return d(t,e),t}(n.SurveyModel),y=function(){function e(e){this.text=e,this.text&&""!=this.text.trim()||(this.text="{}"),this.errors=[],this.process()}return Object.defineProperty(e.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isJsonCorrect",{get:function(){return 0===this.errors.length&&null!==this.surveyValue},enumerable:!1,configurable:!0}),e.prototype.process=function(){try{this.jsonValue=new h(1).parse(this.text)}catch(o){this.errors.push({pos:{start:o.at,end:-1},text:o.message})}if(null!=this.jsonValue){this.updateJsonPositions(this.jsonValue);var e=(new h).parse(this.text);if(this.surveyValue=new g(e),null!=this.surveyValue.jsonErrors)for(var t=0;t<this.surveyValue.jsonErrors.length;t++){var o=this.surveyValue.jsonErrors[t];this.errors.push({pos:{start:o.at,end:-1},text:o.getFullDescription()})}}this.surveyObjects=this.createSurveyObjects(),this.setEditorPositionByChartAt(this.surveyObjects),this.setEditorPositionByChartAt(this.errors)},e.prototype.updateJsonPositions=function(e){for(var t in e.pos.self=e,e){var o=e[t];o&&o.pos&&(e.pos[t]=o.pos,this.updateJsonPositions(o))}},e.prototype.createSurveyObjects=function(){var e=[];if(null==this.surveyValue)return e;for(var t=0;t<this.surveyValue.pages.length;t++){var o=this.surveyValue.pages[t];0!=t||o.pos||(o.pos=this.surveyValue.pos),e.push(o);for(var i=0;i<o.questions.length;i++)e.push(o.questions[i])}return e},e.prototype.setEditorPositionByChartAt=function(e){if(null!=e&&0!=e.length)for(var t={row:0,column:0},o=this.getAtArray(e),i=0,n=0;n<o.length;n++){var r=o[n].at;t=this.getPostionByChartAt(t,i,r);var s=o[n].obj;s.position||(s.position={}),r==s.pos.start?s.position.start=t:r==s.pos.end&&(s.position.end=t),i=r}},e.prototype.getPostionByChartAt=function(t,o,i){for(var n={row:t.row,column:t.column},r=o;r<i;)this.text.charAt(r)==e.newLineChar?(n.row++,n.column=0):n.column++,r++;return n},e.prototype.getAtArray=function(e){for(var t=[],o=0;o<e.length;o++){var i=e[o],n=i.pos;n&&(t.push({at:n.start,obj:i}),n.end>0&&t.push({at:n.end,obj:i}))}return t.sort((function(e,t){return e.at>t.at?1:e.at<t.at?-1:0}))},e}(),f=function(e){function t(t){var o=e.call(this)||this;return o.toolbox=t,o}return d(t,e),t.prototype.toggleState=function(){this.toolbox&&this.toolbox.toggleCategoryState(this.name)},p([Object(n.property)()],t.prototype,"name",void 0),p([Object(n.propertyArray)()],t.prototype,"items",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"collapsed",void 0),t}(n.Base),v=function(e){function t(t){var o=e.call(this,t)||this;return o.item=t,o}return d(t,e),t.prototype.toJSON=function(){return this.item},t}(n.Action),b=function(e){function t(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var i=e.call(this)||this;return i.creator=o,i._orderedQuestions=["text","checkbox","radiogroup","dropdown","comment","rating","ranking","imagepicker","boolean","image","html","signaturepad"],i._questionDefaultSettings={imagepicker:function(){return{choices:[{value:"lion",imageLink:"https://surveyjs.io/Content/Images/examples/image-picker/lion.jpg"},{value:"giraffe",imageLink:"https://surveyjs.io/Content/Images/examples/image-picker/giraffe.jpg"},{value:"panda",imageLink:"https://surveyjs.io/Content/Images/examples/image-picker/panda.jpg"},{value:"camel",imageLink:"https://surveyjs.io/Content/Images/examples/image-picker/camel.jpg"}]}},image:function(){return{imageLink:"https://surveyjs.io/Content/Images/examples/image-picker/lion.jpg"}}},i.copiedItemMaxCount=3,i.allowExpandMultipleCategoriesValue=!1,i.keepAllCategoriesExpandedValue=!1,i.createDefaultItems(t),i.dotsItemPopupModel.horizontalPosition="right",i.dotsItemPopupModel.verticalPosition="top",i.dragOrClickHelper=new n.DragOrClickHelper((function(e,t,o){var n=i.creator.getJSONForNewElement(o.json);i.dotsItemPopupModel.toggleVisibility(),i.dragDropHelper.startDragToolboxItem(e,n)})),i.invisibleItemsListModel.onPointerDown=function(e,t){i.dragOrClickHelper.onPointerDown(e,t)},i.dotsItemPopupModel.cssClass="svc-toolbox-popup",i}return d(t,e),Object.defineProperty(t.prototype,"orderedQuestions",{get:function(){return this._orderedQuestions},set:function(e){this._orderedQuestions=e,this.reorderItems()},enumerable:!1,configurable:!0}),t.prototype.onActiveCategoryChanged=function(e){for(var t=this.categories,o=0;o<t.length;o++){var i=t[o];i.collapsed=i.name!==e}},t.prototype.setLocation=function(e){"sidebar"===e?this.visibleActions.forEach((function(e){return e.mode="small"})):this.dotsItemPopupModel.horizontalPosition="right"==this.creator.toolboxLocation?"left":"right"},Object.defineProperty(t.prototype,"jsonText",{get:function(){return JSON.stringify(this.actions)},set:function(e){this.actions=e?JSON.parse(e):[],this.onItemsChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copiedJsonText",{get:function(){return JSON.stringify(this.copiedItems)},set:function(e){var t=e?JSON.parse(e):[];this.clearCopiedItems();for(var o=0;o<t.length;o++)t[o].isCopied=!0,this.addItem(t[o])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.actions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemNames",{get:function(){for(var e=[],t=0;t<this.items.length;t++)e.push(this.items[t].name);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copiedItems",{get:function(){for(var e=[],t=0;t<this.actions.length;t++)this.actions[t].isCopied&&e.push(this.actions[t]);return e},enumerable:!1,configurable:!0}),t.prototype.addItems=function(e,t){void 0===t&&(t=!1),t&&this.clearItems();for(var o=0;o<e.length;o++)this.actions.push(this.getActionByItem(e[o]));this.onItemsChanged()},t.prototype.addCopiedItem=function(e,t){void 0===t&&(t=null),t||(t={});var o=t.name?t.name:e.name,i=t.title?t.title:o,n={id:o,name:o,title:i,tooltip:t.tooltip?t.tooltip:i,isCopied:!1!==t.isCopied,iconName:t.iconName?t.iconName:"icon-custom-question",json:t.json?t.json:this.getQuestionJSON(e),category:t.category?t.category:""};if(!this.replaceItem(n)){var r=this.copiedItems;this.copiedItemMaxCount>0&&r.length==this.copiedItemMaxCount&&this.removeItem(r[this.copiedItemMaxCount-1].name),this.addItem(n)}},t.prototype.getActionByItem=function(e){return e instanceof v?e:new v(e)},t.prototype.addItem=function(e,t){this.correctItem(e);var o=this.getActionByItem(e);void 0===t?this.actions.push(o):this.actions.splice(t,0,o),this.onItemsChanged()},t.prototype.correctItem=function(e){e.title||(e.title=e.name),e.tooltip||(e.tooltip=e.title)},Object.defineProperty(t.prototype,"dragDropHelper",{get:function(){return this.creator.dragDropSurveyElements},enumerable:!1,configurable:!0}),t.prototype.replaceItem=function(e){this.correctItem(e);var t=this.indexOf(e.name);if(!(t<0))return this.actions[t]=this.getActionByItem(e),this.onItemsChanged(),!0},t.prototype.removeItem=function(e){var t=this.indexOf(e);return!(t<0)&&(this.actions.splice(t,1),this.onItemsChanged(),!0)},t.prototype.clearItems=function(){this.actions=[],this.onItemsChanged()},t.prototype.clearCopiedItems=function(){for(var e=this.copiedItems,t=0;t<e.length;t++)this.removeItem(e[t].name)},t.prototype.getItemByName=function(e){var t=this.indexOf(e);return t>-1?this.actions[t]:null},Object.defineProperty(t.prototype,"allowExpandMultipleCategories",{get:function(){return this.allowExpandMultipleCategoriesValue},set:function(e){this.allowExpandMultipleCategoriesValue=e,this.updateCategoriesState()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepAllCategoriesExpanded",{get:function(){return this.keepAllCategoriesExpandedValue},set:function(e){this.keepAllCategoriesExpandedValue=e,this.canCollapseCategories=!this.keepAllCategoriesExpanded,this.updateCategoriesState()},enumerable:!1,configurable:!0}),t.prototype.updateCategoriesState=function(){this.allowExpandMultipleCategories||this.keepAllCategoriesExpanded?(this.activeCategory="",this.keepAllCategoriesExpanded&&this.expandAllCategories()):this.categories.length>0&&(this.activeCategory=this.categories[0].name)},t.prototype.changeCategory=function(e,t){this.changeCategories([{name:e,category:t}])},t.prototype.changeCategories=function(e){for(var t=0;t<e.length;t++){var o=e[t],i=this.getItemByName(o.name);i&&(i.category=o.category)}this.onItemsChanged()},t.prototype.toggleCategoryState=function(e){if(!this.keepAllCategoriesExpanded)if(this.allowExpandMultipleCategories){var t=this.getCategoryByName(e);t&&(t.collapsed=!t.collapsed)}else this.activeCategory=e},t.prototype.expandCategory=function(e){if(this.allowExpandMultipleCategories){var t=this.getCategoryByName(e);t&&(t.collapsed=!1)}else this.canCollapseCategories&&(this.activeCategory=e)},t.prototype.collapseCategory=function(e){if(this.allowExpandMultipleCategories){var t=this.getCategoryByName(e);t&&(t.collapsed=!0)}},t.prototype.expandAllCategories=function(){this.expandCollapseAllCategories(!1)},t.prototype.collapseAllCategories=function(){this.expandCollapseAllCategories(!0)},t.prototype.invisibleItemSelected=function(e){this.creator.clickToolboxItem(e.json)},t.prototype.expandCollapseAllCategories=function(e){for(var t=this.categories,o=0;o<t.length;o++)t[o].collapsed=e},t.prototype.getCategoryByName=function(e){for(var t=this.categories,o=0;o<t.length;o++){var i=t[o];if(i.name===e)return i}return null},t.prototype.onItemsChanged=function(){for(var e=new Array,t={},o=this.activeCategory,i=0;i<this.actions.length;i++){var n=this.actions[i],s=n.category?n.category:r.getString("ed.toolboxGeneralCategory");if(!t[s]){var a=this.createCategory();a.name=s,a.collapsed=s!==o&&!this.keepAllCategoriesExpanded,t[s]=a,e.push(a)}t[s].items.push(n)}this.categories=e,this.keepAllCategoriesExpanded||(this.allowExpandMultipleCategories?e.length>0&&(e[0].collapsed=!1):o&&t[o]?this.activeCategory=o:this.activeCategory=e.length>0?e[0].name:""),this.hasCategories=e.length>1,this.updateItemSeparators()},t.prototype.createCategory=function(){return new f(this)},t.prototype.indexOf=function(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].name==e)return t;return-1},t.prototype.updateItemSeparators=function(){this.categories.forEach((function(e,t){(e.items||[]).forEach((function(e,o){0!==t&&0==o&&(e.needSeparator=!0)}))}))},t.prototype.reorderItems=function(){var e=this;this.actions.sort((function(t,o){var i=e._orderedQuestions.indexOf(t.name);-1===i&&(i=Number.MAX_VALUE);var n=e._orderedQuestions.indexOf(o.name);return-1===n&&(n=Number.MAX_VALUE),i-n})),this.onItemsChanged()},t.prototype.createDefaultItems=function(e){this.clearItems();for(var t=this.getQuestionTypes(e),o=0;o<t.length;o++){var i=t[o],s=n.ElementFactory.Instance.createElement(i,"q1");s||(s=n.Serializer.createClass(i));var a=this.getQuestionJSON(s),l=r.getString("qt."+i),u={id:i,name:i,iconName:"icon-"+i,title:l,tooltip:l,json:a,isCopied:!1,category:""};this.actions.push(this.getActionByItem(u))}this.registerCustomWidgets(),this.registerComponentQuestions(),this.onItemsChanged()},t.prototype.registerCustomWidgets=function(){var e=n.CustomWidgetCollection.Instance;if(e.getActivatedBy)for(var t=e.widgets,o=0;o<t.length;o++)t[o].canShowInToolbox&&this.addItemFromJSON(t[o].widgetJson)},t.prototype.registerComponentQuestions=function(){for(var e=this.getComponentItems(),t=0;t<e.length;t++)this.addItemFromJSON(e[t].json)},t.prototype.getComponentItems=function(){var e=void 0;if(e||(e=n.ComponentCollection),!e)return[];var t=e.Instance.items;return t||[]},t.prototype.addItemFromJSON=function(e){if(!1!==e.showInToolbox){var t=e.iconName?e.iconName:"icon-custom-question",o=r.getString("qt."+e.name);o&&o!=e.name||(o=e.title),o||(o=e.name);var i=e.defaultJSON?e.defaultJSON:{};i.type||(i.type=e.name);var s=e.category?e.category:"",a=new n.Action({id:e.name,name:e.name,iconName:t,title:o,tooltip:o,json:i,isCopied:!1,category:s});this.actions.push(this.getActionByItem(a))}},t.prototype.getQuestionJSON=function(e){var t=(new n.JsonObject).toJsonObject(e);if(t.type=e.getType(),this._questionDefaultSettings[t.type]){var o=this._questionDefaultSettings[t.type]();for(var i in o)t[i]=o[i]}return t},t.prototype.getQuestionTypes=function(e){var o=n.ElementFactory.Instance.getAllTypes();e&&0!=e.length||(e=o);for(var i=[],r=0;r<this.orderedQuestions.length;r++){var s=this.orderedQuestions[r];e.indexOf(s)>-1&&o.indexOf(s)>-1&&i.push(s)}for(r=0;r<e.length;r++){var a=e[r];i.indexOf(a)<0&&t.hiddenTypes.indexOf(a)<0&&o.indexOf(a)>-1&&i.push(a)}return i},t.prototype.dispose=function(){},t.hiddenTypes=["buttongroup","linkvalue","embeddedsurvey"],p([Object(n.propertyArray)()],t.prototype,"categories",void 0),p([Object(n.property)({defaultValue:"",onSet:function(e,t){t.onActiveCategoryChanged(e)}})],t.prototype,"activeCategory",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"hasCategories",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"canCollapseCategories",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isCompact",void 0),t}(n.AdaptiveActionContainer);function w(e){if(!e)return"";for(var t="",o=e.length-1;o>=0;o--){if(e[o]>="0"&&e[o]<="9")t=e[o]+t;else if(t)return t;if(10==t.length)break}return t}var x,C={true:"false",True:"False",TRUE:"FALSE",false:"true",False:"True",FALSE:"TRUE",yes:"no",Yes:"No",YES:"NO",no:"yes",No:"Yes",NO:"YES"};function T(e,t){t=t.toString();for(var o=0;o<e.length;o++)if(e[o]&&e[o].toString()===t)return!0;return!1}function S(e,t){if(t.length>0)var o=function(e){return C[e]?C[e]:null}(t[t.length-1]);if(o&&t.indexOf(o)<0)return o;for(var i,n="",r=-1,s=t.length-1;s>=0;s--)if(t[s]){var a=t[s].toString();if(n=w(a)){r=a.lastIndexOf(n),i=t[s];break}}if(r>-1){var l,u=parseInt(n),c=i===u;do{if(c)l=++u;else{for(var p=(u++).toString();n.length>p.length;)p="0"+p;l=a.substr(0,r)+p+a.substr(r+n.length)}}while(T(t,l));return l}return e+1}function P(e,t){for(var o=t;o&&!o.classList.contains(e);)o=o.parentElement;return o}function E(e){for(var t=0;t<e.length;t++)if("function"==typeof e[t].getElementsByClassName){var o=e[t].getElementsByClassName("svd-focusable");if(0===o.length&&-1!==e[t].className.indexOf("svd-focusable")&&(o=[e[t]]),o.length>0){var i=o[0];if("a"!==i.tagName.toLowerCase()){i.focus({preventScroll:!0});break}}}}function O(e){if(e&&e.length){for(var t=0;t<e.length;t++)if("#text"!=e[t].nodeName&&"#comment"!=e[t].nodeName)return e[t];return null}}function _(e){var t=e.element,o=[];if(8!==t.nodeType)return t.childNodes;for(;t=t.nextSibling;)3!==t.nodeType&&o.push(t);return o}function N(e,t){var o=!0;e&&"function"==typeof e.getType&&(o=!!n.Serializer.findProperty(e.getType(),t));return o}function V(e,t){var o=!0;if(e&&"function"==typeof e.getType){var i=n.Serializer.findProperty(e.getType(),t);o=!i||i.visible}return o}function I(e,t,o){void 0===o&&(o=0);function i(e,o){void 0===o&&(o=null);var i=t.className.split(" ");o&&-1==i.indexOf(o)||-1==i.indexOf(e)&&(t.className+=" "+e)}e.__svc_question_processed||"mouseover"!==e.type?(t.className=t.className.replace(" svc-hovered-ready",""),t.className=t.className.replace(" svc-hovered","")):(o?(i("svc-hovered-ready"),setTimeout((function(){i("svc-hovered","svc-hovered-ready")}),o)):i("svc-hovered"),e.__svc_question_processed=!0)}function A(e){return e.replace(new RegExp("(\\r\\n|\\n|\\r)","gm"),"")}function M(e){var t,o;window.getSelection&&document.createRange?(o=window.getSelection(),(t=document.createRange()).selectNodeContents(e),o.removeAllRanges(),o.addRange(t)):document.selection&&document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(e),t.select())}function j(e,t){for(var o in t){var i=t[o];"object"==typeof i&&(i={},this.copyObject(i,t[o])),e[o]=i}}function L(e,t){t&&("string"==typeof t||t instanceof String?e.root=t:j(e,t))}function D(e,t){L(e,n.defaultV2Css.question),L(e,n.defaultV2Css[t])}function k(e){return"{"+e+"}"}!function(e){e[e.Unknown=0]="Unknown",e[e.Survey=1]="Survey",e[e.Page=2]="Page",e[e.Panel=3]="Panel",e[e.Question=4]="Question",e[e.Column=5]="Column"}(x||(x={}));var R=function(){function e(){}return e.getNewPageName=function(t){return e.getNewName(t,r.getString("ed.newPageName"))},e.getNewQuestionName=function(t){return e.getNewName(t,r.getString("ed.newQuestionName"))},e.getNewPanelName=function(t){return e.getNewName(t,r.getString("ed.newPanelName"))},e.generateNewName=function(e){for(var t=e.length;t>0&&e[t-1]>="0"&&e[t-1]<="9";)t--;var o=e.substr(0,t),i=0;return t<e.length&&(i=parseInt(e.substr(t))),o+ ++i},e.getNewName=function(e,t){for(var o={},i=0;i<e.length;i++)o[e[i].name]=!0;for(var n=1;o[t+n.toString()];)n++;return t+n.toString()},e.getObjectType=function(e){return e&&e.getType?"page"==e.getType()?x.Page:"panel"==e.getType()?x.Panel:"survey"==e.getType()?x.Survey:"matrixdropdowncolumn"==e.getType()?x.Column:e.name?x.Question:x.Unknown:x.Unknown},e.getObjectTypeStr=function(t){var o=e.getObjectType(t);return o===x.Survey?"survey":o===x.Page?"page":o===x.Panel?"panel":o===x.Question?"question":o===x.Column?"column":"unknown"},e.getObjectName=function(t,o){return void 0===o&&(o=!1),e.getObjectType(t)===x.Survey?r.getString("ed.surveyTypeName"):o&&t.title?t.title:o&&t.text?t.text:t.name?t.name:""},e.getElements=function(e,t){return void 0===t&&(t=!1),e?e.getElementsInDesign?e.getElementsInDesign(t):e.elements?e.elements:[]:[]},e.isPropertyVisible=function(e,t,o,i,n,r){if(void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),!t||!t.visible)return!1;if(i&&t.showMode&&i!==t.showMode)return!1;if(t.isVisible&&e.getLayoutType&&!t.isVisible(e.getLayoutType(),null))return!1;var s=o?function(e,t){return o.onCanShowPropertyCallback(e,t,i,n,r)}:null;return!(s&&!s(e,t))},e.scrollIntoViewIfNeeded=function(t){if(t&&t.scrollIntoView){var o=t.getBoundingClientRect(),i=e.getScrollableDiv(t);if(i){var n=i.clientHeight;if(o.top<i.offsetTop)t.scrollIntoView(!0);else{var r=n+i.offsetTop;o.bottom>r&&o.height<n&&t.scrollIntoView(!1)}}}},e.getScrollableDiv=function(e){for(;e;){if(e.id&&e.id.indexOf("scrollableDiv")>-1)return e;if(!e.offsetParent)return null;e=e.offsetParent}return null},e.moveItemInArray=function(t,o,i){if(!t||t.length<2)return!1;if(i<0||i>=t.length)return!1;var n=t.indexOf(o);if(n<0||n==i)return!1;for(var r=0;r<t.length;r++)e.disableSelectingObj(t[r]);t.splice(n,1),t.splice(i,0,o);for(r=0;r<t.length;r++)e.enableSelectingObj(t[r]);return!0},e.applyItemValueArray=function(e,t){if(t&&0!=t.length){if(e.length>t.length&&e.splice(t.length,e.length-t.length),e.length<t.length){for(var o=[],i=e.length;i<t.length;i++)o.push(t[i]);e.splice.apply(e,[e.length,0].concat(o))}for(i=0;i<e.length;i++)e[i].value!=t[i].value&&(e[i].value=t[i].value),e[i].text=t[i].hasText?t[i].text:""}else e.splice(0,e.length)},e.disableSelectingObj=function(e){e.disableSelecting=!0},e.enableSelectingObj=function(e){delete e.disableSelecting},e.canSelectObj=function(e){return!e||!0!==e.disableSelecting},e.warnNonSupported=function(t,o){var i=k(t)+" is not supported in V2.";o&&(i+=" Use the '"+o+"' property instead"),e.warnText(i)},e.warnText=function(e){console.warn(e)},e.deleteConditionProperties=function(e){delete e.visible,delete e.visibleIf,delete e.readOnly,delete e.enableIf,delete e.valueName,delete e.choicesVisibleIf,delete e.choicesEnableIf,delete e.width,delete e.minWidth,delete e.maxWidth},e.updateQuestionJson=function(t){if(t.storeOthersAsComment=!1,e.deleteConditionProperties(t),t.choices)for(var o=0;o<t.choices.length;o++)e.deleteConditionProperties(t.choices[o])},e.convertMatrixRowsToText=function(e){return e.filter((function(e){return!e.cells[0].hasError})).map((function(e){return e.cells.map((function(e){return e.value||""})).join(n.ItemValue.Separator).replace(/\|$/,"")})).join("\n")},e.convertItemValuesToText=function(e){var t="";return e.forEach((function(e){t&&(t+="\n"),t+=e.value,e.pureText&&(t+="|"+e.pureText)})),t},e.convertTextToItemValues=function(e,t,o){var i=[];if(!e)return i;for(var r=e.split("\n"),s=0;s<r.length;s++)if(r[s]){var a=r[s].split(n.ItemValue.Separator),l=n.Serializer.createClass(o);t.forEach((function(e,t){l[e.name]=a[t]})),i.push(l)}return i},e.sortItems=function(e,t){void 0===t&&(t="text");var o=function(e,t){for(var o="";t<e.length&&e[t]>="0"&&e[t]<="9";)o+=e[t],t++;return parseFloat(o)};e.sort((function(e,i){for(var n=e[t]?e[t]:"",r=i[t]?i[t]:"",s=0;s<n.length&&s<r.length&&n[s]===r[s];)s++;if(s<n.length&&s<r.length){for(;s>0&&n[s-1]>="0"&&n[s-1]<="9";)s--;var a=o(n,s),l=o(r,s);if(a<l)return-1;if(a>l)return 1}return n.localeCompare(r)}))},e.getQuestionContextIndexInfo=function(e,t){void 0===t&&(t="");for(var o=["row","panel"],i=0;i<o.length;i++){var n=t+o[i]+".",r=e.indexOf(n);if(r>-1)return{index:r,name:n}}},e}(),q=function(e){function t(t){var o=e.call(this)||this;return o.creator=t,o.onPagesChanged=o.addEvent(),o.onCurrentPagesChanged=o.addEvent(),o.onPageNameChanged=o.addEvent(),o.pagesChangedFunc=function(e,t){"pages"===t.name&&o.onPagesChanged.fire(o,{})},o.currentpagedChangedFunc=function(e,t){o.onCurrentPagesChanged.fire(o,{})},o.onSurveyChanged(),o}return d(t,e),Object.defineProperty(t.prototype,"survey",{get:function(){return this.creator.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return this.survey.pages},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this.survey.currentPage},set:function(e){this.survey.currentPage=e},enumerable:!1,configurable:!0}),t.prototype.selectPage=function(e){this.currentPage=e,this.creator.selectElement(e)},t.prototype.getDisplayName=function(e){return e?this.creator.getObjectDisplayName(e):""},t.prototype.onSurveyChanged=function(){this.removeFunctions(),this.surveyValue=this.creator.survey,this.surveyValue&&(this.onPagesChanged.fire(this,{}),this.surveyValue.onPropertyChanged.add(this.pagesChangedFunc),this.surveyValue.onCurrentPageChanged.add(this.currentpagedChangedFunc))},t.prototype.pageNameChanged=function(e){this.onPageNameChanged.fire(this,{page:e})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.removeFunctions()},t.prototype.removeFunctions=function(){this.surveyValue&&!this.surveyValue.isDisposed&&(this.surveyValue.onPropertyChanged.remove(this.pagesChangedFunc),this.surveyValue.onCurrentPageChanged.remove(this.currentpagedChangedFunc))},t}(n.Base),z=function(e){function t(t){var o=e.call(this)||this;return o.creator=t,o.items=[],o}return d(t,e),Object.defineProperty(t.prototype,"hasPrev",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNext",{get:function(){var e=this.currentIndex;return e>-1&&e<this.items.length-1},enumerable:!1,configurable:!0}),t.prototype.hasInHistory=function(e){return this.getIndex(e)>-1},t.prototype.prev=function(){this.selectElement(this.currentIndex-1)},t.prototype.next=function(){this.selectElement(this.currentIndex+1)},t.prototype.reset=function(){this.items=[],this.creator.selectedElement&&this.onObjSelected(this.creator.selectedElement)},t.prototype.selectFromAction=function(e,t){var o=this.currentIndex;o>-1&&o<this.items.length&&(this.items[o].propertyName=t),this.creator.selectElement(e)},t.prototype.onObjSelected=function(e){if(!this.isChangingInternally){var t=this.currentIndex;t>-1&&this.items.splice(t,1),this.items.push({obj:e})}},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.getIndex(this.creator.selectedElement)},enumerable:!1,configurable:!0}),t.prototype.getIndex=function(e){if(!e)return-1;this.updateItems();for(var t=0;t<this.items.length;t++)if(this.items[t].obj==e)return t;return-1},t.prototype.selectElement=function(e){if(!(e<0||e>=this.items.length)){this.isChangingInternally=!0;var t=this.items[e];this.creator.selectElement(t.obj,t.propertyName),this.isChangingInternally=!1}},t.prototype.updateItems=function(){for(var e=this.items.length-1;e>=0;e--){var t=this.items[e].obj;!t||!t.isDisposed&&t.inSurvey||this.items.splice(e,1)}},t}(n.Base),B={root:"spg-root-modern",container:"spg-container-modern",header:"spg-title spg-container-modern__title",body:"spg-body",bodyEmpty:"spg-body spg-body--empty",footer:"spg-footer spg-body__footer spg-clearfix",title:"",description:"",logo:"spg-logo",logoImage:"spg-logo__image",headerText:"spg-header__text",navigationButton:"",completedPage:"spg-completedpage",navigation:{complete:"spg-btn spg-footer__complete-btn",prev:"spg-btn spg-footer__prev-btn",next:"spg-btn spg-footer__next-btn",start:"spg-btn spg-footer__start-btn",preview:"spg-btn spg-footer__preview-btn",edit:"spg-btn spg-footer__edit-btn"},panel:{title:"spg-title spg-panel__title",titleExpandable:"spg-panel__title--expandable",titleOnExpand:"spg-panel__title--expanded",titleOnError:"spg-panel__title--error",description:"spg-description spg-panel__description",container:"spg-panel spg-row__panel",content:"spg-panel__content",icon:"spg-panel__icon",iconExpanded:"spg-panel__icon--expanded",footer:"spg-panel__footer",requiredText:"spg-panel__required-text"},paneldynamic:{root:"spg-paneldynamic",navigation:"spg-paneldynamic__navigation",title:"spg-title spg-question__title",button:"spg-btn",buttonRemove:"spg-paneldynamic__remove-btn",buttonAdd:"spg-paneldynamic__add-btn",progressTop:"spg-paneldynamic__progress spg-paneldynamic__progress--top",progressBottom:"spg-paneldynamic__progress spg-paneldynamic__progress--bottom",buttonPrev:"spg-paneldynamic__prev-btn",buttonNext:"spg-paneldynamic__next-btn",progressContainer:"spg-paneldynamic__progress-container",progress:"spg-progress",progressBar:"spg-progress__bar",progressText:"spg-paneldynamic__progress-text",separator:"spg-paneldynamic__separator"},progress:"spg-progress spg-body__progress",progressBar:"spg-progress__bar",progressText:"spg-progress__text",progressTextInBar:"spg-hidden",page:{root:"spg-page spg-body__page",title:"spg-title spg-page__title",description:"spg-description spg-page__description"},pageTitle:"spg-title spg-page__title",pageDescription:"spg-description spg-page__description",row:"spg-row spg-clearfix",rowMultiple:"spg-row--multiple",question:{mainRoot:"spg-question spg-row__question",flowRoot:"spg-question spg-row__question spg-row__question--flow",asCell:"spg-table__cell",header:"spg-question__header",headerLeft:"spg-question__header--location--left",headerTop:"spg-question__header--location--top",headerBottom:"spg-question__header--location--bottom",content:"spg-question__content",contentLeft:"spg-question__content--left",titleLeftRoot:"spg-question--location--left",titleOnAnswer:"spg-question__title--answer",titleOnError:"spg-question__title--error",title:"spg-title spg-question__title",requiredText:"spg-question__required-text",number:"spg-question__num",description:"spg-description spg-question__description",descriptionUnderInput:"spg-description spg-question__description",comment:"spg-comment",required:"spg-question--required",titleRequired:"spg-question__title--required",indent:0,footer:"spg-question__footer",formGroup:"spg-question__form-group",hasError:"",disabled:"spg-question--disabled"},image:{root:"spg-image",image:"sv_image_image"},error:{root:"spg-question__erbox",icon:"",item:"",locationTop:"spg-question__erbox--location--top",locationBottom:"spg-question__erbox--location--bottom"},checkbox:{root:"spg-selectbase",item:"spg-item spg-checkbox spg-selectbase__item",itemSelectAll:"spg-checkbox--selectall",itemNone:"spg-checkbox--none",itemDisabled:"spg-item--disabled spg-checkbox--disabled",itemChecked:"spg-checkbox--checked",itemHover:"spg-checkbox--allowhover",itemInline:"spg-selectbase__item--inline",label:"spg-checkbox",itemSvgIconId:"#icon-v2check",labelChecked:"",itemControl:"spg-checkbox__control",itemDecorator:"spg-checkbox__svg",controlLabel:"spg-checkbox__caption",materialDecorator:"spg-checkbox__rectangle",other:"spg-comment spg-question__other",column:"spg-selectbase__column"},radiogroup:{root:"spg-selectbase",item:"spg-item spg-radio spg-selectbase__item",itemInline:"spg-selectbase__item--inline",label:"spg-selectbase__label",labelChecked:"",itemDisabled:"spg-item--disabled spg-radio--disabled",itemChecked:"spg-radio--checked",itemHover:"spg-radio--allowhover",itemControl:"spg-visuallyhidden spg-item__control",itemDecorator:"spg-item__svg spg-radio__svg",controlLabel:"spg-item__control-label",materialDecorator:"spg-item__decorator spg-radio__decorator",other:"spg-comment spg-question__other",clearButton:"spg-btn spg-selectbase__clear-btn",column:"spg-selectbase__column"},boolean:{mainRoot:"spg-question spg-row__question spg-question--boolean",root:"",item:"spg-checkbox",control:"spg-checkbox__control",itemChecked:"spg-checkbox--checked",itemIndeterminate:"spg-checkbox--indeterminate",itemDisabled:"spg-checkbox--disabled",svgIconId:"#icon-v2check",label:"spg-checkbox__caption",disabledLabel:"spg-checkbox__label--disabled",itemDecorator:"spg-checkbox__svg",materialDecorator:"spg-checkbox__rectangle"},text:{root:"spg-input spg-text",small:"spg-row__question--small",onError:"spg-input--error"},multipletext:{root:"spg-multipletext",item:"spg-multipletext__item",itemTitle:"spg-multipletext__item-title",row:"spg-multipletext__row",cell:"spg-multipletext__cell"},dropdown:{root:"",small:"spg-row__question--small",control:"spg-input spg-dropdown",selectWrapper:"",other:"spg-comment spg-question__other",onError:"spg-input--error"},imagepicker:{root:"spg-imagepicker",item:"spg-imagepicker__item",itemInline:"spg-imagepicker__item--inline",itemChecked:"spg-imagepicker__item--checked",itemDisabled:"spg-imagepicker__item--disabled",itemHover:"spg-imagepicker__item--allowhover",label:"spg-imagepicker__label",itemControl:"spg-imagepicker__control",image:"spg-imagepicker__image",itemText:"spg-imagepicker__text",clearButton:"spg-btn",other:"spg-comment spg-question__other"},matrix:{tableWrapper:"spg-matrix",root:"spg-table",rowError:"spg-matrix__row--error",cell:"spg-table__cell spg-matrix__cell",headerCell:"spg-table__cell spg-table__cell--header",label:"spg-item spg-radio spg-matrix__label",itemValue:"spg-visuallyhidden spg-item__control spg-radio__control",itemChecked:"spg-radio--checked",itemDisabled:"spg-item--disabled spg-radio--disabled",itemHover:"spg-radio--allowhover",materialDecorator:"spg-item__decorator spg-radio__decorator",itemDecorator:"spg-item__svg spg-radio__svg",cellText:"spg-matrix__text",cellTextSelected:"spg-matrix__text--checked",cellTextDisabled:"spg-matrix__text--disabled"},matrixdropdown:{root:"spg-table",cell:"spg-table__cell",headerCell:"spg-table__cell spg-table__cell--header"},matrixdynamic:{root:"spg-table spg-matrixdynamic",cell:"spg-table__cell",headerCell:"spg-table__cell spg-table__cell--header",button:"spg-btn",detailRow:"spg-table__row spg-table__row--detail",detailButton:"spg-table__cell--detail-button",detailButtonExpanded:"spg-table__cell--detail-button--expanded",detailIcon:"spg-detail-panel__icon",detailIconExpanded:"spg-detail-panel__icon--expanded",detailPanelCell:"spg-table__cell--detail-panel",actionsCell:"spg-table__cell spg-table__cell--actions",buttonAdd:"spg-matrixdynamic__add-btn spg-action-button spg-action-button--large",buttonRemove:"spg-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"spg-matrixdynamic__drag-element",dragDropGhostPositionTop:"spg-matrixdynamic__drag-drop-ghost-position-top",dragDropGhostPositionBottom:"spg-matrixdynamic__drag-drop-ghost-position-bottom",emptyRowsSection:"spg-matrixdynamic__placeholder",emptyRowsText:"spg-matrixdynamic__placeholder-text"},rating:{root:"spg-rating",item:"spg-rating__item",selected:"spg-rating__item--selected",minText:"spg-rating__min-text",itemText:"spg-rating__item-text",maxText:"spg-rating__max-text",disabled:"spg-rating--disabled"},comment:{root:"spg-comment",small:"spg-row__question--small"},expression:"",file:{root:"spg-file",other:"spg-comment spg-question__other",placeholderInput:"spg-visuallyhidden",preview:"spg-file__preview",fileSign:"spg-hidden",fileSignBottom:"spg-file__sign",fileDecorator:"spg-file__decorator",fileInput:"spg-visuallyhidden",noFileChosen:"spg-description spg-file__no-file-chosen",chooseFile:"spg-btn spg-file__choose-btn",disabled:"spg-file__choose-btn--disabled",removeButton:"spg-hidden",removeButtonBottom:"spg-btn spg-file__clean-btn",removeFile:"spg-hidden",removeFileSvg:"spg-file__remove-svg",wrapper:"spg-file__wrapper"},signaturepad:{root:"spg-signaturepad sjs_sp_container",small:"spg-row__question--small",controls:"sjs_sp_controls",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}}},H={pages:[{name:"embed",elements:[{type:"dropdown",name:"framework",width:"284px",minWidth:"284px",maxWidth:"284px",titleLocation:"hidden",defaultValue:"jquery",choices:[{value:"angular",text:"Use Angular version"},{value:"jquery",text:"Use jQuery version"},{value:"knockout",text:"Use Knockout version"},{value:"react",text:"Use React version"},{value:"vue",text:"Use Vue version"}],showOptionsCaption:!1},{type:"dropdown",name:"theme",width:"284px",minWidth:"284px",maxWidth:"284px",startWithNewLine:!1,titleLocation:"hidden",defaultValue:"modern",choices:[{value:"modern",text:"Modern theme"},{value:"default",text:"Default theme"},{value:"orange",text:"Orange theme"},{value:"darkblue",text:"Darkblue theme"},{value:"darkrose",text:"Darkrose theme"},{value:"stone",text:"Stone theme"},{value:"winter",text:"Winter theme"},{value:"winterstone",text:"Winter-Stone theme"},{value:"bootstrap",text:"For bootstrap framework"}],showOptionsCaption:!1},{type:"dropdown",name:"show",width:"284px",minWidth:"284px",maxWidth:"284px",startWithNewLine:!1,titleLocation:"hidden",defaultValue:"page",choices:[{value:"page",text:"Show survey on a page"},{value:"window",text:"Show survey in a window"}],showOptionsCaption:!1},{type:"expression",name:"scripts_expression",visible:!1,expression:"surveyjsEmbedScriptsMarkup({framework}, {theme})"},{type:"comment",name:"scripts",description:"Scripts and styles",readOnly:!0},{type:"expression",name:"html_expression",visible:!1,expression:"surveyjsEmbedHtmlMarkup({framework}, {show})"},{type:"comment",name:"html",visibleIf:"{framework} <> 'knockout' or {show} <> 'window'",description:"HTML",readOnly:!0,rows:1},{type:"expression",name:"javascript_expression",visible:!1,expression:"surveyjsEmbedJavascriptMarkup({framework}, {theme}, {show})"},{type:"comment",name:"javascript",description:"JavaScript",readOnly:!0,rows:14}]}],triggers:[{type:"copyvalue",expression:"{scripts_expression} notempty",setToName:"scripts",fromName:"scripts_expression"},{type:"copyvalue",expression:"{html_expression} notempty",setToName:"html",fromName:"html_expression"},{type:"copyvalue",expression:"{javascript_expression} notempty",setToName:"javascript",fromName:"javascript_expression"}],showNavigationButtons:"none"},Q=(o(2),function(e){function t(t){var o=e.call(this)||this;return n.FunctionFactory.Instance.register("surveyjsEmbedScriptsMarkup",(function(e){var t=e[0],o=e[1],i="\x3c!-- Your platform (".concat(t,") scripts --\x3e\n\n");return"bootstrap"!==o&&(i+='<link href="https://unpkg.com/survey-'.concat(t,"@").concat(n.Version,"/").concat("modern"===o?"modern":"survey",'.css" type="text/css" rel="stylesheet"/>')),i+'\n<script src="https://unpkg.com/survey-'.concat(t,"@").concat(n.Version,"/survey.").concat(t,'.min.js"><\/script>')})),n.FunctionFactory.Instance.register("surveyjsEmbedHtmlMarkup",(function(e){var t=e[0],o=e[1];switch(t){case"angular":return"<ng-app></ng-app>";case"vue":return'<div id="surveyContainer"><survey'.concat("window"===o?"-window":"",' :survey="survey"/></div>');default:return'<div id="surveyContainer"></div>'}})),n.FunctionFactory.Instance.register("surveyjsEmbedJavascriptMarkup",(function(e){var o=e[0],i=e[1],n=e[2],r='Survey.StylesManager.applyTheme("'.concat(i,'");\n\n');r+="var surveyJSON = ".concat(JSON.stringify(t.JSON),";\n\n"),r+='function sendDataToServer(survey) {\n    //send Ajax request to your web server\n    alert("The results are: " + JSON.stringify(survey.data));\n}\n\n';var s="window"===n?"Window":"";switch(o){case"angular":r+='@Component({\n    selector: "ng-app",\n    template: \'<div id="surveyElement"></div>\'\n})',r+="\nexport class AppComponent {\n    ngOnInit() {\n        var survey = new Survey.Model(surveyJSON);\n        survey.onComplete.add(sendDataToServer);\n        Survey.Survey".concat(s,'NG.render("surveyElement", { model: survey });\n    }\n}');break;case"jquery":r+="var survey = new Survey.Model(surveyJSON);\n",r+='$("#surveyContainer").Survey'.concat(s,"({\n    model: survey,\n    onComplete: sendDataToServer\n});");break;case"knockout":r+="var survey = new Survey.Model".concat(s,"(surveyJSON").concat("page"===n?', "surveyContainer"':"",");\n"),r+="window"===n?"survey.show();\n":"",r+="survey.onComplete.add(sendDataToServer);";break;case"react":r+="ReactDOM.render(<Survey.Survey".concat(s,' json={ surveyJSON } onComplete={ sendDataToServer } />, document.getElementById("surveyContainer"));');break;case"vue":r+='var survey = new Survey.Model(surveyJSON);\nsurvey.onComplete.add(sendDataToServer);\nnew Vue({ el: "#surveyContainer", data: { survey: survey } });'}return r})),o.survey=t.createSurvey(H,"embed"),o.survey.css=B,n.settings.readOnlyCommentRenderMode="default",o.survey.onUpdateQuestionCssClasses.add((function(e,t){"comment"===t.question.getType()&&(t.cssClasses.title="sv-question-embed__title")})),o}return d(t,e),p([Object(n.property)()],t.prototype,"survey",void 0),t}(n.Base)),F=function(){function e(e){this.creator=e,e.addPluginTab("embed",this,s("ed.embedSurvey"))}return e.prototype.activate=function(){this.model=new Q(this.creator)},e.prototype.deactivate=function(){return this.model=void 0,!0},e}(),U=function(e){function t(t){var o=e.call(this)||this;return o.creator=t,o.isJSONChanged=!1,o.isProcessingImmediately=!1,o.jsonEditorChangedTimeoutId=-1,o}return d(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.getText()},set:function(e){this.setText(e)},enumerable:!1,configurable:!0}),t.prototype.onEditorActivated=function(){},t.prototype.onPluginActivate=function(){this.text=this.creator.text,this.onEditorActivated(),this.isJSONChanged=!1},t.prototype.onTextChanged=function(){if(-1!==this.jsonEditorChangedTimeoutId&&clearTimeout(this.jsonEditorChangedTimeoutId),this.isProcessingImmediately)this.jsonEditorChangedTimeoutId=-1;else{var e=this;this.jsonEditorChangedTimeoutId=window.setTimeout((function(){e.jsonEditorChangedTimeoutId=-1,e.processErrors(e.text)}),t.updateTextTimeout)}},t.prototype.processErrors=function(e){var t=new y(e);this.setErrors(t.errors)},Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.creator.readOnly},enumerable:!1,configurable:!0}),t.updateTextTimeout=1e3,t}(n.Base),G=function(){function e(e){this.creator=e}return e.prototype.activate=function(){this.model=this.createModel(this.creator)},e.prototype.deactivate=function(){if(this.model){if(!new y(this.model.text).isJsonCorrect)return!1;!this.model.readOnly&&this.model.isJSONChanged&&(this.creator.selectedElement=void 0,this.creator.text=this.model.text,this.creator.selectedElement=this.creator.survey,this.creator.setModified({type:"JSON_EDITOR"})),this.model=void 0}return!0},e}(),J=(o(3),function(e){function t(t){var o=e.call(this,t)||this;return o.aceCanUndo=!1,o.aceCanRedo=!1,o}return d(t,e),t.prototype.getText=function(){return this.aceEditor?this.aceEditor.getValue():""},t.prototype.setText=function(e){this.isProcessingImmediately=!0,this.aceEditor.setValue(e),this.aceEditor.renderer.updateFull(!0),this.aceEditor.getSession().getUndoManager().reset(),this.processErrors(e),this.isProcessingImmediately=!1},t.prototype.init=function(e){if(this.aceEditor=e,this.aceEditor.setReadOnly(this.readOnly),t.aceBasePath)try{ace.config.set("basePath",t.aceBasePath),this.aceEditor.session.setMode("ace/mode/json")}catch(e){}var o=this;this.aceEditor.setShowPrintMargin(!1),this.aceEditor.getSession().on("change",(function(){o.onTextChanged()})),this.aceEditor.getSession().setUseWorker(!0),y.newLineChar=this.aceEditor.session.doc.getNewLineCharacter(),this.onPluginActivate()},t.prototype.updateUndoRedoState=function(){var e=this.aceEditor.getSession().getUndoManager();this.aceCanUndo=e.hasUndo(),this.aceCanRedo=e.hasRedo(),!0===this.aceEditor.isFocused()&&(this.isJSONChanged=!e.isClean())},t.prototype.onTextChanged=function(){this.updateUndoRedoState(),e.prototype.onTextChanged.call(this)},t.prototype.createAnnotations=function(e){for(var t=[],o=0;o<e.length;o++){var i=e[o],n={row:i.position.start.row,column:i.position.start.column,text:i.text,type:"error"};t.push(n)}return t},t.prototype.setErrors=function(e){this.aceEditor.getSession().setAnnotations(this.createAnnotations(e))},t.prototype.onEditorActivated=function(){this.aceEditor.getSession().getUndoManager().markClean(),this.updateUndoRedoState(),this.aceEditor.focus()},t.aceBasePath="",p([Object(n.property)()],t.prototype,"aceCanUndo",void 0),p([Object(n.property)()],t.prototype,"aceCanRedo",void 0),t}(U)),W=function(e){function t(t){var o=e.call(this,t)||this;return t.addPluginTab("editor",o,s("ed.jsonEditor"),"svc-tab-json-editor-ace"),o}return d(t,e),t.prototype.createModel=function(e){return new J(e)},t.hasAceEditor=function(){return"undefined"!=typeof ace},t}(G),K=(o(4),function(e){function t(t){var o=e.call(this,t)||this;return o.ariaLabel=s("ed.jsonEditor"),o.onPluginActivate(),o}return d(t,e),t.prototype.checkKey=function(e,t){if("Tab"===t.key){t.preventDefault();var o=t.target,i=o.selectionStart,n=o.selectionEnd;o.value=o.value.substring(0,i)+"\t"+o.value.substring(n),o.selectionStart=o.selectionEnd=i+1,t.stopPropagation()}return!0},t.prototype.getText=function(){return this._text},t.prototype.setText=function(e){this.isProcessingImmediately=!0,this._text=e,this.processErrors(e),this.isProcessingImmediately=!1},Object.defineProperty(t.prototype,"errorButtonText",{get:function(){return this.canShowErrors?s("ed.jsonHideErrors"):s("ed.jsonShowErrors")},enumerable:!1,configurable:!0}),t.prototype.toggleErrors=function(){this.canShowErrors=!this.canShowErrors},Object.defineProperty(t.prototype,"userFriendlyErrors",{get:function(){if(0===this._errors.length)return[];for(var e=[],t=0;t<this._errors.length-1;t++)e[t]=this._errors[t].text,e[t]+="\n\n";return e[this._errors.length-1]=this._errors[this._errors.length-1].text,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!1,configurable:!0}),t.prototype.onTextChanged=function(){this.isJSONChanged=!0,e.prototype.onTextChanged.call(this)},t.prototype.setErrors=function(e){this._errors=e},p([Object(n.property)({defaultValue:"",onSet:function(e,t){return t.onTextChanged()}})],t.prototype,"_text",void 0),p([Object(n.propertyArray)()],t.prototype,"_errors",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"canShowErrors",void 0),t}(U)),X=function(e){function t(t){var o=e.call(this,t)||this;return t.addPluginTab("editor",o,s("ed.jsonEditor"),"svc-tab-json-editor-textarea"),o}return d(t,e),t.prototype.createModel=function(e){return new K(e)},t}(G),$=(o(5),function(e){function t(){return e.call(this)||this}return d(t,e),Object.defineProperty(t.prototype,"activeDevice",{get:function(){return this.device},set:function(e){this.device=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"landscapeOrientation",{get:function(){return this.landscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFrame",{get:function(){var e=Z[this.activeDevice];return this.simulatorEnabled&&"desktop"!==e.deviceType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"simulatorMainCssClass",{get:function(){return this.hasFrame?"svd-simulator-main--frame":""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"simulatorFrame",{get:function(){if(this.hasFrame){var e=Z[this.activeDevice],t=Y/(e.ppi/e.cssPixelRatio),o=(this.landscapeOrientation?e.height:e.width)/e.cssPixelRatio*t,i=(this.landscapeOrientation?e.width:e.height)/e.cssPixelRatio*t,n=(this.landscapeOrientation?e.frameHeight:e.frameWidth)/e.cssPixelRatio*t,r=(this.landscapeOrientation?e.frameWidth:e.frameHeight)/e.cssPixelRatio*t;return{scale:this.simulatorScaleEnabled?2*t:1,width:o,height:i,frameWidth:n,frameHeight:r,cssClass:e.cssClass+(this.landscapeOrientation?" svd-simulator-frame-landscape":"")}}},enumerable:!1,configurable:!0}),p([Object(n.property)({defaultValue:!0})],t.prototype,"landscape",void 0),p([Object(n.property)()],t.prototype,"survey",void 0),p([Object(n.property)({defaultValue:"desktop"})],t.prototype,"device",void 0),p([Object(n.property)({defaultValue:"l"})],t.prototype,"orientation",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"considerDPI",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"simulatorEnabled",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"simulatorScaleEnabled",void 0),t}(n.Base)),Y=102.69,Z={desktop:{deviceType:"desktop",title:"Desktop"},iPhone5:{cssPixelRatio:2,ppi:326,width:640,height:1136,frameWidth:750,frameHeight:1500,deviceType:"phone",title:"iPhone 5",cssClass:"svd-simulator-iphone5"},iPhone6:{cssPixelRatio:2,ppi:326,width:750,height:1334,frameWidth:960,frameHeight:1750,deviceType:"phone",title:"iPhone 6",cssClass:"svd-simulator-iphone6"},iPhone6plus:{cssPixelRatio:2,ppi:401,width:1080,height:1920,frameWidth:1330,frameHeight:2550,deviceType:"phone",title:"iPhone 6 Plus",cssClass:"svd-simulator-iphone6plus"},iPhone8:{cssPixelRatio:2,ppi:326,width:750,height:1334,frameWidth:990,frameHeight:1860,deviceType:"phone",title:"iPhone 8",cssClass:"svd-simulator-iphone8"},iPhone8plus:{cssPixelRatio:2,ppi:401,width:1080,height:1920,frameWidth:1330,frameHeight:2550,deviceType:"phone",title:"iPhone 8 Plus",cssClass:"svd-simulator-iphone8plus"},iPhoneX:{cssPixelRatio:2,ppi:458,width:1125,height:2436,frameWidth:1330,frameHeight:2680,deviceType:"phone",title:"iPhone X",cssClass:"svd-simulator-iphonex"},iPhoneXmax:{cssPixelRatio:2,ppi:458,width:1242,height:2688,frameWidth:1410,frameHeight:2980,deviceType:"phone",title:"iPhone X Max",cssClass:"svd-simulator-iphonexmax"},iPad:{cssPixelRatio:2,ppi:264,width:1536,height:2048,frameWidth:1837,frameHeight:2563,deviceType:"tablet",title:"iPad",cssClass:"svd-simulator-ipad"},iPadMini:{cssPixelRatio:1,ppi:163,width:768,height:1024,frameWidth:945,frameHeight:1300,deviceType:"tablet",title:"iPad Mini",cssClass:"svd-simulator-ipadmini"},iPadPro:{cssPixelRatio:1,ppi:264,width:1688,height:2388,frameWidth:2008,frameHeight:2980,deviceType:"tablet",title:'iPad Pro 11"',cssClass:"svd-simulator-ipadpro"},iPadPro13:{cssPixelRatio:1,ppi:264,width:2048,height:2732,frameWidth:2360,frameHeight:3300,deviceType:"tablet",title:'iPad Pro 12,9"',cssClass:"svd-simulator-ipadpro13"},androidPhone:{cssPixelRatio:2,ppi:316,width:720,height:1280,frameWidth:850,frameHeight:1630,deviceType:"phone",title:"Android Phone",cssClass:"svd-simulator-androidphone"},androidTablet:{cssPixelRatio:1.5,ppi:149,width:800,height:1280,frameWidth:1070,frameHeight:1480,deviceType:"tablet",title:"Android Tablet",cssClass:"svd-simulator-androidtablet"},win10Phone:{cssPixelRatio:1,ppi:152,width:330,height:568,frameWidth:480,frameHeight:846,deviceType:"phone",title:"Windows 10 Phone",cssClass:"svd-simulator-win10phone"},msSurface:{cssPixelRatio:1,ppi:148,width:768,height:1366,frameWidth:1040,frameHeight:1620,deviceType:"tablet",title:"MS Surface",cssClass:"svd-simulator-mssurface"},genericPhone:{cssPixelRatio:1,deviceType:"phone",title:"",cssClass:"svd-simulator-genphone"}},ee=(o(6),function(e){function t(t){var o=e.call(this)||this;return o.surveyProvider=t,o.pages=new n.ActionContainer,o.simulator=new $,o}return d(t,e),Object.defineProperty(t.prototype,"activeLanguage",{get:function(){return this.getPropertyValue("activeLanguage",this.survey.locale||n.surveyLocalization.defaultLocale)},set:function(e){e!==this.activeLanguage&&(this.setPropertyValue("activeLanguage",e),this.survey.locale=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.simulator.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageActions",{get:function(){return this.pages.actions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPageToolbarVisible",{get:function(){return this.pages.visibleActions.length>0&&!this.surveyProvider.isMobileView},enumerable:!1,configurable:!0}),t.prototype.setJSON=function(e){this.json=e,null!=e&&e.cookieName&&delete e.cookieName,this.simulator.survey=this.surveyProvider.createSurvey(e||{},"test"),this.simulator.survey.css=n.defaultV2Css,this.onSurveyCreatedCallback&&this.onSurveyCreatedCallback(this.survey);var t=this;this.survey.onComplete.add((function(e){t.isRunning=!1})),this.survey.onNavigateToUrl&&this.survey.onNavigateToUrl.add((function(e,t){var o=t.url;if(t.url="",o){var i=s("ed.navigateToMsg")+" '"+o+"'.";this.surveyProvider?this.surveyProvider.notify(i):alert(i)}})),this.survey.onStarted.add((function(e){t.setActivePageItem(t.simulator.survey.currentPage,!0)})),this.survey.onCurrentPageChanged.add((function(e,o){t.activePage=o.newCurrentPage,t.setActivePageItem(o.oldCurrentPage,!1),t.setActivePageItem(o.newCurrentPage,!0)})),this.survey.onPageVisibleChanged.add((function(e,o){t.updatePageItem(o.page)}))},t.prototype.initialize=function(e,t){this.setJSON(e),this.updatePageList(),void 0!==t.showPagesInTestSurveyTab&&(this.showPagesInTestSurveyTab=t.showPagesInTestSurveyTab),this.buildActions()},t.prototype.updatePageItem=function(e){var t=this.getPageItemByPage(e);t&&(t.enabled=e.isVisible)},t.prototype.getCurrentPageItem=function(){return this.pageListItems[this.survey.pages.indexOf(this.survey.currentPage)]},t.prototype.getSelectPageTitle=function(){return this.activePage&&this.getPageTitle(this.activePage,"survey-tester-selected")||s("ts.selectPage")},t.prototype.getPageTitle=function(e,t){void 0===t&&(t="survey-tester");var o=this.surveyProvider.getObjectDisplayName(e,t,e.title);if(o===e.name&&0===o.indexOf("page")){var i=this.survey.pages.indexOf(e);return r.getString("ed.pageTypeName")+" "+(i+1)}return o},t.prototype.updatePageList=function(){for(var e=[],t=0;t<this.survey.pages.length;t++){var o=this.survey.pages[t];e.push({id:o.name,data:o,title:this.getPageTitle(o),enabled:o.isVisible,visible:!0})}this.pageListItems=e},t.prototype.show=function(){this.showInvisibleElements=!1,this.activePage=this.survey.currentPage,this.survey.locale=this.activeLanguage,this.isRunning=!0},t.prototype.testAgain=function(){this.setJSON(this.json),this.updatePageList(),this.show()},t.prototype.buildActions=function(){var e=this,t=[],o=new n.ListModel(this.pageListItems,(function(t){e.activePage=t.data,e.pagePopupModel.toggleVisibility()}),!0,this.getCurrentPageItem()),i=function(t){var i=e.survey.currentPageNo,n=t?1:-1,r=e.survey.visiblePages[i+n],s=e.survey.pages.indexOf(r);e.activePage=e.survey.pages[s],o.selectedItem=e.pageListItems[s]};this.pagePopupModel=new n.PopupModel("sv-list",{model:o},"top","center"),this.prevPageAction&&(this.prevPageAction.css=this.survey&&!this.survey.isFirstPage?"sv-action-bar-item--secondary":"",this.prevPageAction.visible=new n.ComputedUpdater((function(){var t=e.pageListItems,o="test"===e.surveyProvider.activeTab;return e.isRunning&&o&&t.length>1})),this.prevPageAction.enabled=this.survey&&!this.survey.isFirstPage,this.prevPageAction.action=function(){return i(!1)},t.push(this.prevPageAction)),this.selectPageAction=new n.Action({id:"pageSelector",css:"svc-page-selector",title:this.getSelectPageTitle(),visible:this.isRunning&&this.pageListItems.length>1&&this.showPagesInTestSurveyTab,component:"sv-action-bar-item-dropdown",popupModel:this.pagePopupModel,action:function(t){e.pagePopupModel.toggleVisibility()}}),t.push(this.selectPageAction),this.nextPageAction&&(this.nextPageAction.css=this.survey&&!this.survey.isLastPage?"sv-action-bar-item--secondary":"",this.nextPageAction.visible=new n.ComputedUpdater((function(){var t=e.pageListItems,o="test"===e.surveyProvider.activeTab;return e.isRunning&&o&&t.length>1})),this.nextPageAction.enabled=this.survey&&!this.survey.isLastPage,this.nextPageAction.action=function(){return i(!0)},t.push(this.nextPageAction)),this.pages.actions=t,this.pages.containerCss="sv-action-bar--pages"},t.prototype.setActivePageItem=function(e,t){var o=this.getPageItemByPage(e);o&&(o.active=t)},t.prototype.getPageItemByPage=function(e){for(var t=this.pageListItems,o=0;o<t.length;o++)if(t[o].data===e)return t[o];return null},t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),this.pages.hasActions&&("activePage"===t&&(this.prevPageAction.css=this.survey&&0!==this.survey.visiblePages.indexOf(this.activePage)?"sv-action-bar-item--secondary":"",this.prevPageAction.enabled=this.survey&&0!==this.survey.visiblePages.indexOf(this.activePage),this.nextPageAction.css=this.survey&&this.survey.visiblePages.indexOf(this.activePage)!==this.survey.visiblePages.length-1?"sv-action-bar-item--secondary":"",this.nextPageAction.enabled=this.survey&&this.survey.visiblePages.indexOf(this.activePage)!==this.survey.visiblePages.length-1,this.selectPageAction.title=this.getSelectPageTitle()),"isRunning"!==t&&"pageListItems"!==t&&"showPagesInTestSurveyTab"!==t||(this.selectPageAction.popupModel.contentComponentData.model.items=this.pageListItems,this.selectPageAction.popupModel.contentComponentData.model.selectedItem=this.getCurrentPageItem(),this.selectPageAction.visible=this.isRunning&&this.pageListItems.length>1&&this.showPagesInTestSurveyTab))},p([Object(n.property)({defaultValue:!1,onSet:function(e,t){t.simulator.survey.showInvisibleElements=e}})],t.prototype,"showInvisibleElements",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"showPagesInTestSurveyTab",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"isRunning",void 0),p([Object(n.propertyArray)()],t.prototype,"pageListItems",void 0),p([Object(n.property)({onSet:function(e,t){e&&("starting"==t.simulator.survey.state&&t.simulator.survey.start(),t.simulator.survey.currentPage=e)}})],t.prototype,"activePage",void 0),t}(n.Base)),te=function(){function e(e){this.creator=e,e.addPluginTab("test",this,s("ed.testSurvey")),this.createActions().forEach((function(t){return e.toolbar.actions.push(t)}))}return e.prototype.getSimulatorDevicesTitle=function(){return this.model?Z[this.model.simulator.device].title||s("pe.simulator"):""},e.prototype.setDevice=function(e){this.model.simulator.device=e;var t=Z[this.model.simulator.device].deviceType;this.orientationSelectorAction.enabled="desktop"!=t,this.deviceSelectorAction.iconName="icon-device-"+t,this.deviceSelectorAction.title=this.getSimulatorDevicesTitle()},e.prototype.setDefaultLanguageOption=function(e){var t=this,o=!0===e||"all"===e||"auto"===e&&this.model.survey.getUsedLocales().length>1;this.languageSelectorAction.visible=o;var i=[];o&&(i=this.getLanguages("all"!==e?this.model.survey.getUsedLocales():null)),this.languagePopupModel.contentComponentData.model.setItems(i),this.languageListModel.selectedItem=i.filter((function(e){return e.id===t.model.activeLanguage}))[0]},e.prototype.getLanguages=function(e){void 0===e&&(e=null);for(var t=[],o=e&&e.length>1?e:n.surveyLocalization.getLocales(),i=0;i<o.length;i++){var s=o[i];t.push({id:s,title:r.getLocaleName(s)})}return t},e.prototype.updateActions=function(){this.languageSelectorAction.title=r.getLocaleName(this.model.activeLanguage),this.languageSelectorAction.visible=!0,this.creator.showSimulatorInTestSurveyTab&&(this.setDevice(this.model.simulator.device),this.deviceListModel.selectedItem={id:this.model.simulator.device},this.orientationSelectorAction.title=s("pe.landscapeOrientation")),this.creator.showInvisibleElementsInTestSurveyTab&&(this.invisibleToggleAction.css=this.model.showInvisibleElements?"sv-action-bar-item--active":"",this.invisibleToggleAction.visible=this.model.isRunning),null!=this.creator.showDefaultLanguageInTestSurveyTab&&this.setDefaultLanguageOption(this.creator.showDefaultLanguageInTestSurveyTab)},e.prototype.activate=function(){var e=this;this.model=new ee(this.creator),this.model.onSurveyCreatedCallback=function(t){e.creator.onTestSurveyCreated&&e.creator.onTestSurveyCreated.fire(self,{survey:t})},this.update()},e.prototype.update=function(){var e=this;if(this.model){var t={showPagesInTestSurveyTab:this.creator.showPagesInTestSurveyTab};this.model.testAgainAction=this.testAgainAction,this.model.prevPageAction=this.prevPageAction,this.model.nextPageAction=this.nextPageAction,this.model.initialize(this.creator.JSON,t),this.updateActions(),this.model.show(),this.model.onPropertyChanged.add((function(t,o){"isRunning"===o.name&&(e.invisibleToggleAction&&(e.invisibleToggleAction.visible=e.model.isRunning),e.testAgainAction.visible=!e.model.isRunning)}))}},e.prototype.deactivate=function(){return this.model&&(this.model.onSurveyCreatedCallback=void 0,this.model=void 0),this.languageSelectorAction.visible=!1,this.testAgainAction.visible=!1,this.invisibleToggleAction&&(this.invisibleToggleAction.visible=!1),!0},e.prototype.createActions=function(){var e=this,t=[];if(this.testAgainAction=new n.Action({id:"testSurveyAgain",visible:!1,title:s("ed.testSurveyAgain"),action:function(){e.model.testAgain()}}),this.creator.showSimulatorInTestSurveyTab){var o=Object.keys(Z).filter((function(e){return!!Z[e].title})).map((function(e){return{id:e,title:Z[e].title}}));this.deviceListModel=new n.ListModel(o,(function(t){e.setDevice(t.id),i.toggleVisibility()}),!0);var i=new n.PopupModel("sv-list",{model:this.deviceListModel},"bottom","center");this.deviceSelectorAction=new n.Action({id:"deviceSelector",iconName:"icon-device-desktop",component:"sv-action-bar-item-dropdown",mode:"small",visible:new n.ComputedUpdater((function(){var t=e.creator.showSimulatorInTestSurveyTab;return"test"===e.creator.activeTab&&t})),action:function(){i.toggleVisibility()},popupModel:i}),t.push(this.deviceSelectorAction),i.onHide=function(){e.deviceSelectorAction.enabled=!0},i.onShow=function(){e.deviceSelectorAction.enabled=!1},this.orientationSelectorAction=new n.Action({id:"orientationSelector",iconName:"icon-device-rotate",mode:"small",visible:new n.ComputedUpdater((function(){var t=e.creator.showSimulatorInTestSurveyTab;return"test"===e.creator.activeTab&&t})),action:function(){e.model.simulator.landscape=!e.model.simulator.landscape,e.orientationSelectorAction.title=s(e.model.simulator.landscape?"pe.landscapeOrientation":"pe.portraitOrientation")}}),t.push(this.orientationSelectorAction)}return this.creator.showInvisibleElementsInTestSurveyTab&&(this.invisibleToggleAction=new n.Action({id:"showInvisible",iconName:"icon-invisible-items",mode:"small",needSeparator:new n.ComputedUpdater((function(){return!e.creator.isMobileView})),title:s("ts.showInvisibleElements"),visible:!1,action:function(){e.model.showInvisibleElements=!e.model.showInvisibleElements,e.invisibleToggleAction.css=e.model.showInvisibleElements?"sv-action-bar-item--active":""}}),t.push(this.invisibleToggleAction)),this.languageListModel=new n.ListModel([],(function(t){e.model.activeLanguage=t.id,e.languageSelectorAction.title=r.getLocaleName(t.id),e.languagePopupModel.toggleVisibility()}),!0),this.languagePopupModel=new n.PopupModel("sv-list",{model:this.languageListModel},"bottom","center"),this.languagePopupModel.onHide=function(){e.languageSelectorAction.enabled=!0},this.languagePopupModel.onShow=function(){e.languageSelectorAction.enabled=!1},this.languageSelectorAction=new n.Action({id:"languageSelector",iconName:"icon-language",visible:!1,component:"sv-action-bar-item-dropdown",action:function(){e.languagePopupModel.toggleVisibility()},popupModel:this.languagePopupModel,mode:new n.ComputedUpdater((function(){return e.creator.isMobileView?"small":"large"}))}),t.push(this.languageSelectorAction),this.designerAction=new n.Action({id:"svd-designer",iconName:"icon-preview",needSeparator:!0,action:function(){e.creator.makeNewViewActive("designer")},active:new n.ComputedUpdater((function(){return"test"===e.creator.activeTab})),visible:new n.ComputedUpdater((function(){return"test"===e.creator.activeTab})),title:this.creator.getLocString("ed.designer"),showTitle:!1}),this.prevPageAction=new n.Action({id:"prevPage",iconName:"icon-arrow-left_16x16",visible:!1}),this.nextPageAction=new n.Action({id:"nextPage",iconName:"icon-arrow-right_16x16",visible:!1}),t},e.prototype.addFooterActions=function(){this.creator.footerToolbar.actions.push(this.testAgainAction),this.invisibleToggleAction&&this.creator.footerToolbar.actions.push(this.invisibleToggleAction),this.languageSelectorAction&&this.creator.footerToolbar.actions.push(this.languageSelectorAction),this.creator.footerToolbar.actions.push(this.prevPageAction),this.creator.footerToolbar.actions.push(this.nextPageAction),this.creator.footerToolbar.actions.push(this.designerAction)},e}(),oe=function(){function e(e,t){void 0===t&&(t=null),this.survey=e,this.options=t}return e.prototype.toDisplayText=function(e){if(!this.survey)return e;this.showTitles=!!this.options&&1==this.options.showTitlesInExpressions;var t=(new n.ConditionsParser).parseExpression(e);if(!t)return e;if(t.getType)return this.toDisplayTextCore(t);if(!this.showTitles)return e;var o=[];return t.setVariables(o),this.replaceVariables(e,o)},e.prototype.toDisplayTextCore=function(e){this.currentQuestion=null;var t=this,o=!0,i=function(e){var n=o;return o=!1,t.showTitles&&"variable"==e.getType()?t.getQuestionText(e):t.showTitles&&"const"==e.getType()?t.getDisplayText(e):"binary"==e.getType()?(t.proceedBinary(e),t.getDisplayBinary(e,n,i)):"unary"==e.getType()?t.getDisplayUnary(e,i):void 0};return e.toString(i)},e.prototype.getQuestionText=function(e){var t=this.getQuestionByName(e.variable);if(t&&t.title)return k(t.title)},e.prototype.getDisplayText=function(e){if(this.currentQuestion){var t=this.currentQuestion.getDisplayValue(!0,e.correctValue);return t?new n.Const(t).toString():void 0}},e.prototype.getDisplayOperand=function(e,t){return e?e.toString(t):""},e.prototype.getDisplayOperator=function(t){var o=e.operatorText[t];return o||r.getString("op."+t)},e.prototype.getDisplayBinary=function(e,t,o){return(t?"":"(")+this.getDisplayOperand(e.leftOperand,o)+" "+this.getDisplayOperator(e.operator)+" "+this.getDisplayOperand(e.rightOperand,o)+(t?"":")")},e.prototype.getDisplayUnary=function(e,t){var o=e.expression.toString(t),i=this.getDisplayOperator(e.operator);return"empty"==e.operator||"notempty"==e.operator?o+" "+i:i+" "+o},e.prototype.proceedBinary=function(e){e.isArithmetic||e.isConjunction?this.currentQuestion=null:(this.currentQuestion=this.getQuestionFromOperands(e.leftOperand,e.rightOperand),this.currentQuestion||(this.currentQuestion=this.getQuestionFromOperands(e.rightOperand,e.leftOperand)))},e.prototype.getQuestionFromOperands=function(e,t){if(!e||!t)return null;if("variable"!=e.getType())return null;var o=t.getType();return"const"!=o&&"function"!=o&&"array"!=o?null:this.getQuestionByName(e.variable)},e.prototype.replaceVariables=function(e,t){for(var o=0;o<t.length;o++)e=this.replaceVariable(e,t[o]);return e},e.prototype.replaceVariable=function(e,t){var o=this.getQuestionByName(t);return o&&o.title?e.replace(k(t),k(o.title)):e},e.prototype.getQuestionByName=function(e){return this.survey.getQuestionByValueName(e)},e.operatorText={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",power:"^",mod:"%",negate:"!"},e}(),ie=function(){function e(){}return e.prototype.remove=function(e,t){var o=(new n.ConditionsParser).parseExpression(e);if(!o)return e;if(this.wasRemoved=!1,o.getType){var i=this.processOperand(o,t);return this.wasRemoved?i?i.toString():"":e}return e},e.prototype.processOperand=function(e,t){return e?"variable"==e.getType()?this.processVariable(e,t):"unary"==e.getType()?this.processUnary(e,t):"binary"==e.getType()?this.proceedBinary(e,t):e:null},e.prototype.processVariable=function(e,t){return e.variable!==t?e:(this.wasRemoved=!0,null)},e.prototype.processUnary=function(e,t){return this.processOperand(e.expression,t)?e:(this.wasRemoved=!0,null)},e.prototype.proceedBinary=function(e,t){var o=this.processOperand(e.leftOperand,t),i=this.processOperand(e.rightOperand,t);if(o&&i)return o!==e.leftOperand||i!==e.rightOperand?new n.BinaryOperand(e.operator,o,i,e.isArithmetic):e;if(!o&&!i)return null;var r=o||i;return"binary"==r.getType()?r:null},e}();function ne(e){return r.getString("ed.lg."+e)}var re=function(){function e(e,t,o){void 0===o&&(o=null),this.logicType=e,this.survey=t,this.options=o,this.mergeWithBaseClass()}return e.expressionToDisplayText=function(e,t,o){return new oe(e,t).toDisplayText(o)},e.prototype.mergeWithBaseClass=function(){if(this.logicType.baseClass){var e=se.baseTypes[this.logicType.baseClass];if(e)for(var t in e)this.logicType[t]||(this.logicType[t]=e[t])}},Object.defineProperty(e.prototype,"name",{get:function(){return this.logicType.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseClass",{get:function(){return this.logicType.baseClass},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propertyName",{get:function(){return this.logicType.propertyName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasVisibleElements",{get:function(){return!0!==this.logicType.isInvisible},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dynamicPropertyName",{get:function(){return this.logicType.dynamicPropertyName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dependedOnPropertyName",{get:function(){return this.logicType.dependedOnPropertyName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!!this.showInUI&&(!this.logicType.showIf||this.logicType.showIf(this.survey))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showTitlesInExpression",{get:function(){return!!this.options&&this.options.showTitlesInExpressions},enumerable:!1,configurable:!0}),e.prototype.createNewObj=function(e){var t=n.Serializer.createClass(this.baseClass);return e&&t.fromJSON(e.toJSON()),t.survey=this.survey,t.setOwner&&t.setOwner(this.survey),t},e.prototype.cloneElement=function(e){return this.isTrigger?this.createNewObj(e):e},e.prototype.areElementsEqual=function(e,t){return e===t||!(!this.isTrigger||e.getType()!==t.getType())&&n.Helpers.isTwoValueEquals(e.toJSON(),t.toJSON())},e.prototype.saveNewElement=function(e){var t=this.logicType.getCollection?this.logicType.getCollection(this.survey):null;!t&&this.isTrigger&&(t=this.survey.triggers),t&&t.indexOf(e)<0&&t.push(e)},Object.defineProperty(e.prototype,"showInUI",{get:function(){return!1!==this.logicType.showInUI},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUniqueItem",{get:function(){return!0===this.logicType.isUniqueItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"questionNames",{get:function(){return this.logicType.questionNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return ne(this.name+"Name")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return ne(this.name+"Description")},enumerable:!1,configurable:!0}),e.prototype.getParentElement=function(e){return this.logicType.getParentElement?this.logicType.getParentElement(e):null},Object.defineProperty(e.prototype,"hasSelectorChoices",{get:function(){return!!this.logicType.getSelectorChoices},enumerable:!1,configurable:!0}),e.prototype.getSelectorChoices=function(e,t){return this.hasSelectorChoices?this.logicType.getSelectorChoices(e,t):null},e.prototype.getDisplayText=function(e){var t=ne(this.name+"Text");if(this.logicType.getDisplayText)return this.logicType.getDisplayText(e,t,this);this.logicType.getElementName&&(e=this.getElementByName(this.logicType.getElementName(e)));var o=this.getElementDisplayName(e);if(o){var i=this.getParentElement(e),n=this.getElementDisplayName(i);return t.format(o,n)}return t},e.prototype.getElementDisplayName=function(e){if(!e)return"";var t="";return this.showTitlesInExpression&&(t=e.title),t||(t=e.name||""),k(t)},e.prototype.getElementByName=function(e){if(!this.survey)return null;var t=this.survey.getQuestionByName(e);return t||this.survey.getPageByName(e)},e.prototype.formatElName=function(e){var t=this.getElementByName(e);return this.getElementDisplayName(t)},e.prototype.formatExpression=function(t){return e.expressionToDisplayText(this.survey,this.options,t)},e.prototype.supportContext=function(e){return!!this.logicType.supportContext&&this.logicType.supportContext(e)},Object.defineProperty(e.prototype,"isTrigger",{get:function(){return!!this.baseClass&&this.baseClass.indexOf("trigger")>-1},enumerable:!1,configurable:!0}),e}();var se=function(){function e(){}return e.baseTypes={panel:{showIf:function(e){return e.getAllPanels().length>0},getSelectorChoices:function(e,t){return e.getAllPanels()}},question:{showIf:function(e){return e.getAllQuestions().length>0},supportContext:function(e){return Array.isArray(e.templateElements)},getParentElement:function(e){return e?e.parentQuestion:null},getSelectorChoices:function(e,t){for(var o=[],i=e.getAllQuestions(),r=0;r<i.length;r++){var s=i[r];if(t||o.push(s),s instanceof n.QuestionPanelDynamicModel&&(!t||t===s))for(var a=s.templateElements,l=0;l<a.length;l++)o.push(a[l])}return o}},matrixdropdowncolumn:{showIf:function(e){return function(e){for(var t=e.getAllQuestions(),o=0;o<t.length;o++){var i=t[o];if(i instanceof n.QuestionMatrixDropdownModelBase&&i.columns.length>0)return!0}return!1}(e)},supportContext:function(e){return Array.isArray(e.columns)},getParentElement:function(e){return e?e.colOwner:null},getSelectorChoices:function(e,t){for(var o=[],i=e.getAllQuestions(),r=0;r<i.length;r++){var s=i[r];if(s instanceof n.QuestionMatrixDropdownModelBase&&(!t||t===s))for(var a=s.columns,l=0;l<a.length;l++)o.push(a[l])}return o}}},e.types=[{name:"page_visibility",baseClass:"page",propertyName:"visibleIf",showIf:function(e){return e.pages.length>1},getSelectorChoices:function(e,t){return e.pages}},{name:"panel_visibility",baseClass:"panel",propertyName:"visibleIf"},{name:"panel_enable",baseClass:"panel",propertyName:"enableIf"},{name:"question_visibility",baseClass:"question",propertyName:"visibleIf"},{name:"question_enable",baseClass:"question",propertyName:"enableIf"},{name:"question_require",baseClass:"question",propertyName:"requiredIf"},{name:"column_visibility",baseClass:"matrixdropdowncolumn",propertyName:"visibleIf"},{name:"column_enable",baseClass:"matrixdropdowncolumn",propertyName:"enableIf"},{name:"column_require",baseClass:"matrixdropdowncolumn",propertyName:"requiredIf"},{name:"expression_expression",baseClass:"expression",propertyName:"expression",showInUI:!1},{name:"matrixdropdowncolumn_totalExpression",baseClass:"matrixdropdowncolumn",propertyName:"totalExpression",showInUI:!1},{name:"trigger_complete",baseClass:"completetrigger",propertyName:"expression",isUniqueItem:!0,isInvisible:!0},{name:"trigger_setvalue",baseClass:"setvaluetrigger",propertyName:"expression",dynamicPropertyName:"setValue",dependedOnPropertyName:"setToName",questionNames:["setToName"],getDisplayText:function(e,t,o){return t.format(o.formatElName(e.setToName),e.setValue)}},{name:"trigger_copyvalue",baseClass:"copyvaluetrigger",propertyName:"expression",questionNames:["setToName","fromName"],getDisplayText:function(e,t,o){return t.format(o.formatElName(e.setToName),o.formatElName(e.fromName))}},{name:"trigger_skip",baseClass:"skiptrigger",propertyName:"expression",questionNames:["gotoName"],isUniqueItem:!0,getElementName:function(e){return e.gotoName}},{name:"trigger_runExpression",baseClass:"runexpressiontrigger",propertyName:"expression",questionNames:["setToName"],getDisplayText:function(e,t,o){var i=ne("trigger_runExpressionText1");(i=i.format(o.formatExpression(e.runExpression)),e.setToName)&&(i+=ne("trigger_runExpressionText2").format(o.formatElName(e.setToName)));return i}},{name:"completedHtmlOnCondition",baseClass:"htmlconditionitem",propertyName:"expression",isUniqueItem:!0,getCollection:function(e){return e.completedHtmlOnCondition}},{name:"trigger_runExpression_Expression",baseClass:"runexpressiontrigger",propertyName:"runExpression",showInUI:!1},{name:"question_expressionValidator",baseClass:"expressionvalidator",propertyName:"expression",showInUI:!1},{name:"matrix_rowsVisibleIf",baseClass:"matrix",propertyName:"rowsVisibleIf",showInUI:!1},{name:"matrix_columnsVisibleIf",baseClass:"matrix",propertyName:"columnsVisibleIf",showInUI:!1},{name:"matrixdropdown_rowsVisibleIf",baseClass:"matrixdropdown",propertyName:"rowsVisibleIf",showInUI:!1},{name:"select_choicesVisibleIf",baseClass:"selectbase",propertyName:"choicesVisibleIf",showInUI:!1},{name:"select_choicesEnableIf",baseClass:"selectbase",propertyName:"choicesEnableIf",showInUI:!1},{name:"itemvalue_visibleIf",baseClass:"itemvalue",propertyName:"visibleIf",showInUI:!1},{name:"itemvalue_enableIf",baseClass:"itemvalue",propertyName:"enableIf",showInUI:!1},{name:"calculatedValue",baseClass:"calculatedvalue",propertyName:"expression",showInUI:!1}],e}(),ae=function(){function e(e,t,o){this.surveyValue=o,this.logicTypeValue=e,this.elementValue=t}return Object.defineProperty(e.prototype,"logicType",{get:function(){return this.logicTypeValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.element&&this.logicType?this.logicType.getParentElement(this.element):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),e.prototype.apply=function(e,t){if(void 0===t&&(t=!1),this.element&&this.logicType&&(this.element[this.logicType.propertyName]=e,!e&&n.Serializer.isDescendantOf(this.element.getType(),"surveytrigger"))){var o=this.survey.triggers.indexOf(this.element);o>-1&&this.survey.triggers.splice(o,1)}},e.prototype.renameQuestion=function(e,t){if(this.element)for(var o=this.questionNames,i=0;i<o.length;i++){var n=this.element[o[i]];n&&n.toLowerCase()==e.toLowerCase()&&(this.element[o[i]]=t)}},e.prototype.clone=function(){var t=this.logicType.cloneElement(this.element);return new e(this.logicType,t,this.survey)},e.prototype.equals=function(e){return this.logicType===e.logicType&&this.logicType.areElementsEqual(this.element,e.element)},Object.defineProperty(e.prototype,"name",{get:function(){return this.logicType?this.logicType.displayName:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logicTypeName",{get:function(){return this.logicType?this.logicType.name:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logicTypeDescription",{get:function(){return this.logicType?this.logicType.description:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.logicType?this.logicType.getDisplayText(this.element):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteActionText",{get:function(){return ne("deleteAction")},enumerable:!1,configurable:!0}),e.prototype.getLocString=function(e){return r.getString(e)},e.prototype.isSuitableByQuestionName=function(e){var t=this.elementName===e||0===this.elementName.indexOf(e+".");return t||(t=this.questionNamesValues.filter((function(t){return t===e||0===t.indexOf(e+".")})).length>0),t},e.prototype.isSuitableByLogicType=function(e){return!this.logicTypeName||e===this.logicTypeName},e.prototype.addQuestionNames=function(e){var t=this.elementOwnerName;this.elementName&&-1===e.indexOf(t)&&e.push(t),this.questionNamesValues.forEach((function(t){t&&-1===e.indexOf(t)&&e.push(t)}))},Object.defineProperty(e.prototype,"questionNames",{get:function(){return this.logicType&&this.logicType.questionNames?this.logicType.questionNames:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementName",{get:function(){if(!this.element)return"";var e="",t=this.getOwnerElement();return t&&t!==this.element&&(e=t.name+"."),e+this.element.name||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementOwnerName",{get:function(){var e=this.getOwnerElement();return e&&e.name||""},enumerable:!1,configurable:!0}),e.prototype.getOwnerElement=function(){if(!this.element)return null;var e=this.parentElement;return e||this.element},Object.defineProperty(e.prototype,"questionNamesValues",{get:function(){var e=this;return this.questionNames.map((function(t){return e.element[t]}))},enumerable:!1,configurable:!0}),e}(),le=function(){function e(t,o){void 0===o&&(o=""),this.owner=t,this.expression=o,this.idValue=++e.counter,this.isNew=!1,this.isModified=!1,this.actionsValue=[],this.removedActions=[]}return Object.defineProperty(e.prototype,"actions",{get:function(){return this.actionsValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"logicItem"+this.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"survey",{get:function(){return this.owner.survey},enumerable:!1,configurable:!0}),e.prototype.getVisibleLogicTypes=function(){return this.owner.getVisibleLogicTypes()},e.prototype.getDisplayText=function(){var e=this.getExpressionAsDisplayText(),t="";return this.actions.forEach((function(e){t+=", "+e.text})),e&&t?(this.ifText+" "+e+t).replace(new RegExp("({|})","gm"),"'"):r.getString("ed.lg.itemEmptyExpressionText")},e.prototype.edit=function(){this.owner&&this.owner.editItem(this)},e.prototype.remove=function(){this.owner&&this.owner.removeItem(this)},Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return!!this.owner&&this.owner.readOnly},enumerable:!1,configurable:!0}),e.prototype.addNewAction=function(e){this.actions.push(e)},e.prototype.removeAction=function(e){this.replaceActionCore(null,e)},e.prototype.replaceAction=function(e,t){t?this.replaceActionCore(e,t):this.addNewAction(e)},e.prototype.clone=function(){for(var t=new e(this.owner,this.expression),o=0;o<this.actions.length;o++)t.addNewAction(this.actions[o].clone());return t},e.prototype.equals=function(e){if(this.expression!==e.expression)return!1;if(this.actions.length!==e.actions.length)return!1;for(var t=0;t<this.actions.length;t++)if(!this.actions[t].equals(e.actions[t]))return!1;return!0},e.prototype.replaceActionCore=function(e,t){this.removedActions.push(t);var o=this.actions.indexOf(t);o>-1&&(e?this.actions.splice(o,1,e):this.actions.splice(o,1))},e.prototype.apply=function(e){e?this.removeSameActions():this.removeActions();for(var t=0;t<this.removedActions.length;t++)this.removedActions[t].apply("");this.removedActions=[],this.applyExpression(e,!1)},e.prototype.renameQuestion=function(e,t){if(e&&t){this.renameQuestionInExpression(e,t);for(var o=this.actions,i=0;i<o.length;i++)o[i].renameQuestion(e,t)}},e.prototype.removeQuestion=function(e){this.removeQuestionInExpression(e)},e.prototype.getQuestionNames=function(){var e=[];return this.getQuestionNamesFromExpression(e),this.getQuestionNamesFromActions(e),e},e.prototype.getActionTypes=function(){return this.actions.map((function(e){return e.logicTypeName}))},e.prototype.getContext=function(){var e=this.expression;if(!e)return null;if(!R.getQuestionContextIndexInfo(e,"{"))return null;for(var t=0;t<this.actions.length;t++){var o=this.actions[t].parentElement;if(o)return o}return null},e.prototype.getQuestionNamesFromExpression=function(e){new n.ConditionRunner(this.expression).getVariables().forEach((function(t){-1===e.indexOf(t)&&e.push(t)}))},e.prototype.getQuestionNamesFromActions=function(e){this.actions.forEach((function(t){return t.addQuestionNames(e)}))},e.prototype.getExpressionAsDisplayText=function(){return this.owner?this.owner.getExpressionAsDisplayText(this.expression):this.expression},Object.defineProperty(e.prototype,"editText",{get:function(){return r.getString("pe.edit")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteText",{get:function(){return r.getString("pe.delete")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ifText",{get:function(){return r.getString("pe.if")},enumerable:!1,configurable:!0}),e.prototype.isSuitable=function(e,t){return void 0===t&&(t=""),!e&&!t||(e?t?(this.isSuitableInExpression(e)||this.isSuitableByNameInActions(e))&&this.isSuitableByLogicTypeInActions(t):this.isSuitableInExpression(e)||this.isSuitableByNameInActions(e):this.isSuitableByLogicTypeInActions(t))},e.prototype.isSuitableInExpression=function(e){return-1!==this.expression.indexOf(k(e))||-1!==this.expression.indexOf("'"+e+".")},e.prototype.isSuitableByNameInActions=function(e){return this.actions.some((function(t){return t.isSuitableByQuestionName(e)}))},e.prototype.isSuitableByLogicTypeInActions=function(e){return this.actions.some((function(t){return t.isSuitableByLogicType(e)}))},e.prototype.renameQuestionInExpression=function(e,t){if(this.expression){var o=this.expression,i=this.expression.toLocaleLowerCase();e=k(e.toLowerCase()),t=k(t);for(var n=i.lastIndexOf(e,i.length);n>-1;)o=o.substring(0,n)+t+o.substr(n+e.length,+o.length),n=(i=i.substring(0,n)).lastIndexOf(e,i.length);o!=this.expression&&this.applyExpression(o,!0)}},e.prototype.removeQuestionInExpression=function(e){if(this.expression){var t=(new ie).remove(this.expression,e);t!=this.expression&&this.applyExpression(t,!0)}},e.prototype.applyExpression=function(e,t){this.expression=e;for(var o=this.actions,i=0;i<o.length;i++)o[i].apply(e,t)},e.prototype.removeActions=function(){for(var e=this.actions,t=e.length-1;t>=0;t--)this.removeAction(e[t])},e.prototype.removeSameActions=function(){for(var e=this.actions,t=e.length-1;t>=0;t--)for(var o=t-1;o>=0;o--)if(e[t].equals(e[o])){this.removeAction(e[t]);break}},e.counter=0,e}(),ue=(o(7),function(e){function t(t,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.survey=t,i.options=o,i.invisibleItems=[],i.onLogicItemSaved=new n.Event,i.onLogicItemValidation=new n.Event,i.onLogicItemRemoving=new n.Event,i.onLogicItemRemoved=new n.Event,i.options||(i.options=new c),i.readOnly=i.optionsReadOnly,i.update(),i.koAfterRender=function(){},i}return d(t,e),Object.defineProperty(t,"visibleActions",{get:function(){return u.logic.visibleActions},set:function(e){u.logic.visibleActions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"types",{get:function(){return se.types},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.onEndEditing(),this.survey=void 0},Object.defineProperty(t.prototype,"editableItem",{get:function(){return this.editableItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.modeValue},set:function(e){if(this.modeValue!==e){var t=this.mode;this.modeValue=e,this.errorText="","view"!=e||"edit"!=t&&"new"!=t||this.onEndEditing()}},enumerable:!1,configurable:!0}),t.prototype.getLocString=function(e){return r.getString(e)},t.prototype.getTypeByName=function(e){for(var t=0;t<this.logicTypes.length;t++)if(this.logicTypes[t].name==e)return this.logicTypes[t];return null},t.prototype.update=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),e&&(this.survey=e),t&&(this.options=t),this.logicTypes=this.createLogicTypes(),this.updateVisibleItems(),this.invisibleItems=this.buildItems(!1),this.readOnly=this.optionsReadOnly,this.mode="view"},t.prototype.updateVisibleItems=function(){this.items=this.buildItems(!0),this.editableItemValue=null},Object.defineProperty(t.prototype,"optionsReadOnly",{get:function(){return!!this.options&&this.options.readOnly},enumerable:!1,configurable:!0}),t.prototype.saveEditableItem=function(){if(!this.editableItem||this.hasError())return!1;this.options&&this.options.startUndoRedoTransaction(),this.onEditableItemApply();var e=this.items.indexOf(this.editableItem)<0;e&&this.items.push(this.editableItem);var t=!e||this.editableItem.isNew;return this.editableItem.isNew=!1,this.onItemChanged(this.editableItem,t?"new":"modify"),this.options&&this.options.stopUndoRedoTransaction(),this.onLogicItemSaved.fire(this,{item:this.editableItem}),!0},t.prototype.saveEditableItemAndBack=function(){var e=this.saveEditableItem();return e&&(this.mode="view"),e},t.prototype.onEditableItemApply=function(){},t.prototype.onItemChanged=function(e,t){this.onChangedCallback&&this.onChangedCallback(e,t)},t.prototype.renameQuestion=function(e,t){this.renameQuestionCore(e,t,this.items),this.renameQuestionCore(e,t,this.invisibleItems)},t.prototype.removeQuestion=function(e){this.removeQuestionCore(e,this.items),this.removeQuestionCore(e,this.invisibleItems)},t.prototype.hasError=function(){if(!this.editableItem)return!0;if(this.hasErrorInUI())return!0;var e=new n.ExpressionRunner(this.getExpressionText()),t={item:this.editableItem,error:"",usedNamesInExpression:e.getVariables(),actions:this.getEditingActions()};this.onLogicItemValidation.fire(this,t),this.errorText=t.error;var o=this.survey.creator;return this.errorText&&o&&o.notify(this.errorText,"error"),!!this.errorText},t.prototype.getUsedQuestions=function(){var e=this,t={};this.items.forEach((function(o){o.getQuestionNames().forEach((function(o){var i=e.survey.getQuestionByName(o);i&&!t[o]&&(t[o]=i)}))}));var o=[];return Object.keys(t).forEach((function(e){t[e]&&o.push(t[e])})),o},t.prototype.getUsedActionTypes=function(){var e=this,t={};this.items.forEach((function(o){o.getActionTypes().forEach((function(o){t[o]||(t[o]=e.logicTypes.filter((function(e){return e.name==o}))[0])}))}));var o=[];return Object.keys(t).forEach((function(e){t[e]&&o.push(t[e])})),o},t.prototype.hasErrorInUI=function(){return!1},t.prototype.getExpressionText=function(){return""},t.prototype.getEditingActions=function(){return[]},t.prototype.onReadOnlyChanged=function(){},t.prototype.renameQuestionCore=function(e,t,o){for(var i=0;i<o.length;i++)o[i].renameQuestion(e,t)},t.prototype.removeQuestionCore=function(e,t){for(var o=0;o<t.length;o++)t[o].removeQuestion(e)},t.prototype.addNew=function(){this.options&&this.options.startUndoRedoTransaction();var e=new le(this);e.isNew=!0,this.items.push(e),this.editItemCore(e),this.options&&this.options.stopUndoRedoTransaction()},t.prototype.editItem=function(e){this.options&&this.options.startUndoRedoTransaction(),this.editItemCore(e),this.options&&this.options.stopUndoRedoTransaction()},t.prototype.editItemCore=function(e){this.editableItemValue=e,this.onStartEditing(),this.mode=e.isNew?"new":"edit"},t.prototype.onStartEditing=function(){},t.prototype.onEndEditing=function(){this.editableItemValue=null},t.prototype.canRemoveItem=function(e){var t={item:e,allowRemove:!0};return this.onLogicItemRemoving.fire(this,t),t.allowRemove},t.prototype.removeItem=function(e,t){if(void 0===t&&(t=!0),!t||this.canRemoveItem(e)){this.options&&this.options.startUndoRedoTransaction(),e.apply("");var o=this.items.indexOf(e);o>-1&&this.items.splice(o,1),this.onItemChanged(e,"delete"),this.options&&this.options.stopUndoRedoTransaction(),this.onLogicItemRemoved.fire(this,{item:e})}},t.prototype.addAction=function(e,t){void 0===t&&(t=null);var o=this.createNewAction(e,t);return this.editableItem.addNewAction(o),o},t.prototype.addNewAction=function(){return this.addAction(null,null)},t.prototype.createNewAction=function(e,t){return new ae(e,t,this.survey)},t.prototype.getVisibleLogicTypes=function(){for(var e=[],t=this.logicTypes,o=0;o<t.length;o++)t[o].visible&&e.push(t[o]);return e},t.prototype.removeAction=function(e){this.editableItem&&(this.editableItem.removeAction(e),0==this.editableItem.actions.length&&this.addNewAction())},t.prototype.getExpressionAsDisplayText=function(e){return re.expressionToDisplayText(this.survey,this.options,e)},t.prototype.buildItems=function(e){for(var t=[],o={},i=this.getAllElements(),n=0;n<i.length;n++)this.buildItemsByElement(i[n],t,o,e);return t},t.prototype.getAllElements=function(){var e=[];return this.AddElements(this.survey.pages,e),this.AddElements(se.baseTypes.question.getSelectorChoices(this.survey,null),e),this.AddElements(this.survey.getAllPanels(),e),this.AddElements(this.survey.triggers,e),this.AddElements(this.survey.completedHtmlOnCondition,e),this.AddElements(this.survey.calculatedValues,e),this.AddElements(se.baseTypes.matrixdropdowncolumn.getSelectorChoices(this.survey,null),e),this.AddElements(this.getValidators(),e),this.AddElements(this.getItemValues(),e),e},t.prototype.getValidators=function(){for(var e=[],t=this.survey.getAllQuestions(),o=0;o<t.length;o++)this.AddElements(t[o].validators,e);return e},t.prototype.getItemValues=function(){for(var e=[],t=this.survey.getAllQuestions(),o=0;o<t.length;o++){var i=t[o],r=i.choices;if(r){var s=n.Serializer.findProperty(i.getType(),"choices");s&&"itemvalue[]"===s.type&&this.AddElements(r,e)}}return e},t.prototype.AddElements=function(e,t){for(var o=0;o<e.length;o++)t.push(e[o])},t.prototype.buildItemsByElement=function(e,t,o,i){for(var r=this.getElementAllTypes(e),s=0;s<this.logicTypes.length;s++){var a=this.logicTypes[s];if(a.showInUI===i){var l=e[a.propertyName];if(r.indexOf(a.baseClass)>-1&&!n.Helpers.isValueEmpty(l)){var u=this.getExpressionHashKey(l),c=o[u];c||(c=new le(this,l),o[u]=c,t.push(c));var p=this.createNewAction(a,e);c.addNewAction(p)}}}},t.prototype.getExpressionHashKey=function(e){return e.replace(" ","").toLowerCase()},t.prototype.getElementAllTypes=function(e){var t=[],o=e.getType();for(t.push(o);o&&"base"!=o;){var i=n.Serializer.findClass(o);if(!i)break;(o=i.parentName)&&t.push(o)}return t},t.prototype.createLogicTypes=function(){for(var e=[],o=t.visibleActions,i=0;i<t.types.length;i++)o.length>0&&o.indexOf(t.types[i].name)<0||e.push(new re(t.types[i],this.survey,this.options));return e},p([Object(n.propertyArray)()],t.prototype,"items",void 0),p([Object(n.propertyArray)()],t.prototype,"logicTypes",void 0),p([Object(n.property)()],t.prototype,"errorText",void 0),p([Object(n.property)({onSet:function(e,t){t.onReadOnlyChanged()}})],t.prototype,"readOnly",void 0),p([Object(n.property)()],t.prototype,"placeholderHtml",void 0),t}(n.Base)),ce=o(1),pe=function(){function e(e){this.objValue=e,this.editableObjValue=this.createEditableObj()}return e.isCopyObject=function(e){return!!e&&e.isCopy},e.getSurvey=function(t){if(t instanceof n.SurveyModel||t&&t.getType&&"survey"==t.getType())return e.getOriginalSurvey(t);if(t instanceof n.MatrixDropdownColumn&&t.colOwner)return t.colOwner.survey;if(t){if(t.survey)return e.getOriginalSurvey(t.survey);if(t.owner)return e.getSurvey(t.owner);if(t.errorOwner)return e.getSurvey(t.errorOwner);if(t.locOwner)return e.getSurvey(t.locOwner)}var o=e.getOriginalObject(t);return o&&o!==t?e.getSurvey(o):null},e.getOriginalObject=function(e){return e&&e.originalObj?e.originalObj:e},e.getOriginalSurvey=function(t){return e.getOriginalObject(t)},Object.defineProperty(e.prototype,"obj",{get:function(){return this.objValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editableObj",{get:function(){return this.editableObjValue},enumerable:!1,configurable:!0}),e.prototype.isPropertyChanged=function(e){return"pages"!=e&&!n.Helpers.isTwoValueEquals(this.obj[e],this.editableObj[e])},e.prototype.apply=function(e){this.isPropertyChanged(e)&&(this.obj[e]=this.editableObj[e])},e.prototype.reset=function(){this.assignProperties(this.editableObj)},e.prototype.applyAll=function(e){void 0===e&&(e=[]);for(var t=this.getProperties(e),o=0;o<t.length;o++)this.apply(t[o])},e.prototype.getProperties=function(e){var t=[],o=this.getObjJson(this.editableObj),i=this.getObjJson(this.obj);for(var n in o)e.indexOf(n)>-1||t.push(n);for(var n in i)e.indexOf(n)>-1||t.indexOf(n)>-1||t.push(n);return t},e.prototype.createEditableObj=function(){var e=this.obj.getType(),t=n.Serializer.createClass(e);return null==t&&"survey"==e&&(t=new n.SurveyModel),this.assignProperties(t),"matrixdropdowncolumn"==e&&(t.colOwner=this.obj.colOwner),"survey"!=e&&(t.setSurveyImpl?t.setSurveyImpl(this.obj.survey):this.obj.survey&&!t.survey&&(t.survey=this.obj.survey)),this.obj.parent&&(t.parent=this.obj.parent),t.isCopy=!0,t.originalObj=this.obj,t},e.prototype.assignProperties=function(e){(new n.JsonObject).toObject(this.getObjJson(),e)},e.prototype.getObjJson=function(e){void 0===e&&(e=null),e||(e=this.obj);var t=new n.JsonObject;return t.lightSerializing=!0,t.toJsonObject(e)},e}(),de=function(){function e(){}return e.definition={question:{properties:["name","title","description",{name:"visible"},{name:"isRequired"},{name:"readOnly"},{name:"visibleIf",tab:"logic"},{name:"enableIf",tab:"logic"},{name:"requiredIf",tab:"logic"},{name:"bindings",tab:"logic"},{name:"defaultValueExpression",tab:"logic"},{name:"page",tab:"layout"},{name:"startWithNewLine",tab:"layout"},{name:"hideNumber",tab:"layout"},{name:"state",tab:"layout"},{name:"titleLocation",tab:"layout"},{name:"descriptionLocation",tab:"layout"},{name:"indent",tab:"layout"},{name:"width",tab:"layout"},{name:"minWidth",tab:"layout"},{name:"maxWidth",tab:"layout"},{name:"valueName",tab:"data"},{name:"defaultValue",tab:"data"},{name:"correctAnswer",tab:"data"},{name:"useDisplayValuesInTitle",tab:"data"},{name:"clearIfInvisible",tab:"data"},{name:"requiredErrorText",tab:"validation"},{name:"validators",tab:"validation"}],tabs:[{name:"logic",index:100},{name:"layout",index:200},{name:"data",index:300},{name:"validation",index:400}]},comment:{properties:[{name:"rows",tab:"layout"},{name:"cols",tab:"layout"},"placeHolder",{name:"maxLength",tab:"validation"},{name:"textUpdateMode",tab:"data"},{name:"autoGrow",tab:"layout"}]},file:{properties:["hasComment","commentText","commentPlaceHolder","allowMultiple","allowImagesPreview","acceptedTypes",{name:"showPreview"},{name:"storeDataAsText"},"maxSize","imageHeight","imageWidth","waitForUpload","needConfirmRemoveFile"]},html:{properties:["html"]},matrixdropdownbase:{properties:["cellType","optionsCaption","detailPanelMode","detailPanelShowOnAdding",{name:"showHeader",tab:"layout"},{name:"showColumnHeader",tab:"layout"},{name:"columnsVisibleIf",tab:"logic"},{name:"columnLayout",tab:"layout"},{name:"horizontalScroll",tab:"layout"},{name:"columnColCount",tab:"layout"},{name:"columnMinWidth",tab:"layout"}],tabs:[{name:"columns",index:10},{name:"rows",index:11},{name:"choices",index:12}]},matrixdynamic:{properties:["allowAddRows","allowRemoveRows","allowRowsDragAndDrop","rowCount","minRowCount","maxRowCount","addRowLocation","addRowText","removeRowText","confirmDelete","confirmDeleteText",{name:"hideColumnsIfEmpty",tab:"columns"},{name:"emptyRowsText",tab:"columns"},{name:"defaultRowValue",tab:"data"},{name:"defaultValueFromLastRow",tab:"data"},{name:"keyName",tab:"validation"},{name:"keyDuplicationError",tab:"validation"}]},matrixdropdown:{properties:["totalText",{name:"rowsVisibleIf",tab:"logic"},{name:"rowTitleWidth",tab:"layout"},{name:"keyDuplicationError",tab:"validation"}]},matrix:{properties:[{name:"isAllRowRequired",tab:"validation"},{name:"showHeader",tab:"layout"},{name:"showColumnHeader",tab:"layout"},{name:"rowsOrder",tab:"rows"},{name:"hideIfRowsEmpty",tab:"rows"},{name:"columnsVisibleIf",tab:"logic"},{name:"rowsVisibleIf",tab:"logic"}],tabs:[{name:"columns",index:10},{name:"rows",index:11},{name:"cells",index:500}]},multipletext:{properties:[{name:"colCount",tab:"layout"},{name:"itemSize",tab:"layout"}],tabs:[{name:"items",index:10}]},rating:{properties:["hasComment","commentText","commentPlaceHolder",{name:"rateMin",tab:"rateValues"},{name:"rateMax",tab:"rateValues"},{name:"rateStep",tab:"rateValues"},{name:"minRateDescription",tab:"rateValues"},{name:"maxRateDescription",tab:"rateValues"},{name:"displayRateDescriptionsAsExtremeItems",tab:"rateValues"}],tabs:[{name:"rateValues",index:10}]},selectbase:{properties:["hasComment","commentText","commentPlaceHolder",{name:"choicesFromQuestion",tab:"choices"},{name:"choicesFromQuestionMode",tab:"choices"},{name:"choicesOrder",tab:"choices"},{name:"colCount",tab:"layout"},{name:"hasOther",tab:"choices"},{name:"otherText",tab:"choices"},{name:"otherPlaceHolder",tab:"choices"},{name:"hasNone",tab:"choices"},{name:"noneText",tab:"choices"},{name:"hideIfChoicesEmpty",tab:"logic"},{name:"choicesVisibleIf",tab:"logic"},{name:"choicesEnableIf",tab:"logic"},{name:"otherErrorText",tab:"validation"}],tabs:[{name:"choices",index:10},{name:"choicesByUrl",index:11}]},checkbox:{properties:[{name:"hasSelectAll",tab:"choices"},{name:"selectAllText",tab:"choices"},{name:"maxSelectedChoices",tab:"choices"}]},radiogroup:{properties:[{name:"showClearButton",tab:"choices"}]},dropdown:{properties:["optionsCaption","autoComplete",{name:"choicesMin",tab:"choices"},{name:"choicesMax",tab:"choices"},{name:"choicesStep",tab:"choices"},{name:"showOptionsCaption",tab:"choices"}]},imagepicker:{properties:["multiSelect","showLabel","contentMode","imageFit","imageHeight","imageWidth"]},image:{properties:["imageLink","contentMode","imageFit","imageHeight","imageWidth","text"]},"itemvalue[]@choices":{properties:[{name:"visibleIf"},{name:"enableIf"}],tabs:[{name:"general"}]},"itemvalue[]@rows":{properties:[{name:"visibleIf"}],tabs:[{name:"general"}]},"itemvalue[]@columns":{properties:[{name:"visibleIf"}],tabs:[{name:"general"}]},text:{properties:["inputType","min","max","step","placeHolder","autoComplete","dataList",{name:"minValueExpression",tab:"logic"},{name:"maxValueExpression",tab:"logic"},{name:"size",tab:"layout"},{name:"maxLength",tab:"validation"},{name:"minErrorText",tab:"validation"},{name:"maxErrorText",tab:"validation"},{name:"textUpdateMode",tab:"data"}]},boolean:{properties:["label","labelTrue","labelFalse","showTitle",{name:"valueTrue",tab:"data"},{name:"valueFalse",tab:"data"}]},expression:{properties:["expression","currency","displayStyle","format","maximumFractionDigits","minimumFractionDigits","useGrouping"]},matrixdropdowncolumn:{properties:["name","title"]},"matrixdropdowncolumn@default":{properties:["cellType","name","title","isRequired","readOnly","isUnique","showInMultipleColumns","width","minWidth",{name:"visibleIf",tab:"logic"},{name:"enableIf",tab:"logic"},{name:"requiredIf",tab:"logic"},{name:"totalType",tab:"totals"},{name:"totalDisplayStyle",tab:"totals"},{name:"totalCurrency",tab:"totals"},{name:"totalFormat",tab:"totals"},{name:"totalExpression",tab:"totals"}],tabs:[{name:"general",index:5},{name:"logic",index:20},{name:"totals",index:40}]},"matrixdropdowncolumn@checkbox":{properties:[{name:"hasOther",tab:"choices"},{name:"otherText",tab:"choices"},{name:"choicesOrder",tab:"choices"},{name:"colCount",tab:"choices"},{name:"hasSelectAll",tab:"choices"},{name:"hasNone",tab:"choices"},{name:"noneText",tab:"choices"},{name:"maxSelectedChoices",tab:"choices"},{name:"selectAllText",tab:"choices"}],tabs:[{name:"choices",index:10},{name:"choicesByUrl",index:11}]},"matrixdropdowncolumn@radiogroup":{properties:[{name:"hasOther",tab:"choices"},{name:"otherText",tab:"choices"},{name:"choicesOrder",tab:"choices"},{name:"colCount",tab:"choices"},{name:"hasNone",tab:"choices"},{name:"noneText",tab:"choices"}],tabs:[{name:"choices",index:10},{name:"choicesByUrl",index:11}]},"matrixdropdowncolumn@dropdown":{properties:[{name:"hasOther",tab:"choices"},{name:"otherText",tab:"choices"},{name:"choicesOrder",tab:"choices"},{name:"optionsCaption",tab:"choices"},{name:"hasNone",tab:"choices"},{name:"noneText",tab:"choices"}],tabs:[{name:"choices",index:10},{name:"choicesByUrl",index:11}]},"matrixdropdowncolumn@text":{properties:["inputType","min","max","step","placeHolder","maxLength"],tabs:[{name:"validators",index:10}]},"matrixdropdowncolumn@comment":{properties:["rows","placeHolder","maxLength"],tabs:[{name:"validators",index:10}]},"matrixdropdowncolumn@boolean":{properties:["defaultValue","labelTrue","labelFalse","valueTrue","valueFalse"]},"matrixdropdowncolumn@expression":{properties:["displayStyle","currency"],tabs:[{name:"expression",index:10}]},"matrixdropdowncolumn@rating":{properties:["rateValues",{name:"rateMin",tab:"rateValues"},{name:"rateMax",tab:"rateValues"},{name:"rateStep",tab:"rateValues"},{name:"minRateDescription",tab:"rateValues"},{name:"maxRateDescription",tab:"rateValues"}],tabs:[{name:"rateValues",index:5}]},multipletextitem:{properties:["inputType","name","title","isRequired","maxLength","size","placeHolder","requiredErrorText","validators"]},"multipletext@items":{properties:["name","title"]},calculatedvalue:{properties:["name","expression","includeIntoResult"]},"calculatedvalue@items":{properties:["name","expression"]},paneldynamic:{properties:["renderMode","panelCount","minPanelCount","maxPanelCount","panelsState",{name:"allowAddPanel"},{name:"allowRemovePanel"},"panelAddText","panelRemoveText","templateTitle","templateDescription","confirmDelete","confirmDeleteText","panelPrevText","panelNextText","showQuestionNumbers","showRangeInProgress",{name:"defaultPanelValue",tab:"data"},{name:"defaultValueFromLastPanel",tab:"data"},{name:"templateTitleLocation",tab:"layout"},{name:"panelRemoveButtonLocation",tab:"layout"},{name:"keyName",tab:"validation"},{name:"keyDuplicationError",tab:"validation"}]},panelbase:{properties:["name","title","description","visible","readOnly",{name:"visibleIf",tab:"logic"},{name:"enableIf",tab:"logic"},{name:"requiredIf",tab:"logic"},{name:"questionTitleLocation",tab:"layout"}],tabs:[{name:"logic",index:100},{name:"layout",index:200},{name:"data",index:300},{name:"validation",index:400}]},panel:{properties:["isRequired",{name:"requiredErrorText",tab:"validation"},{name:"page",tab:"layout"},{name:"startWithNewLine",tab:"layout"},{name:"state",tab:"layout"},{name:"questionsOrder",tab:"layout"},{name:"indent",tab:"layout"},{name:"innerIndent",tab:"layout"},{name:"width",tab:"layout"},{name:"showNumber",tab:"numbering"},{name:"showQuestionNumbers",tab:"numbering"},{name:"questionStartIndex",tab:"numbering"},{name:"minWidth",tab:"layout"},{name:"maxWidth",tab:"layout"}],tabs:[{name:"numbering",index:350}]},page:{properties:["navigationTitle","navigationDescription","maxTimeToFinish",{name:"questionsOrder",tab:"layout"},{name:"navigationButtonsVisibility",tab:"layout"}]},survey:{properties:["title","description","showTitle","locale","mode","cookieName","widthMode",{name:"showPreviewBeforeComplete",tab:"navigation"},{name:"pagePrevText",tab:"navigation"},{name:"pageNextText",tab:"navigation"},{name:"completeText",tab:"navigation"},{name:"previewText",tab:"navigation"},{name:"editText",tab:"navigation"},{name:"startSurveyText",tab:"navigation"},{name:"showNavigationButtons",tab:"navigation"},{name:"showPrevButton",tab:"navigation"},{name:"firstPageIsStarted",tab:"navigation"},{name:"goNextPageAutomatic",tab:"navigation"},{name:"showProgressBar",tab:"navigation"},{name:"progressBarType",tab:"navigation"},{name:"questionsOnPageMode",tab:"navigation"},{name:"questionTitleLocation",tab:"question"},{name:"questionDescriptionLocation",tab:"question"},{name:"showQuestionNumbers",tab:"question"},{name:"questionTitlePattern",tab:"question"},{name:"requiredText",tab:"question"},{name:"questionStartIndex",tab:"question"},{name:"questionErrorLocation",tab:"question"},{name:"focusFirstQuestionAutomatic",tab:"question"},{name:"questionsOrder",tab:"question"},{name:"maxTextLength",tab:"question"},{name:"maxOthersLength",tab:"question"},{name:"autoGrowComment",tab:"question"},{name:"showPageTitles",tab:"pages"},{name:"showPageNumbers",tab:"pages"},{name:"calculatedValues",tab:"logic"},{name:"triggers",tab:"logic"},{name:"clearInvisibleValues",tab:"data"},{name:"textUpdateMode",tab:"data"},{name:"sendResultOnPageNext",tab:"data"},{name:"storeOthersAsComment",tab:"data"},{name:"focusOnFirstError",tab:"validation"},{name:"checkErrorsMode",tab:"validation"},{name:"navigateToUrl",tab:"showOnCompleted"},{name:"showCompletedPage",tab:"showOnCompleted"},{name:"completedHtml",tab:"showOnCompleted"},{name:"navigateToUrlOnCondition",tab:"showOnCompleted"},{name:"completedHtmlOnCondition",tab:"showOnCompleted"},{name:"loadingHtml",tab:"showOnCompleted"},{name:"completedBeforeHtml",tab:"showOnCompleted"},{name:"maxTimeToFinish",tab:"timer"},{name:"maxTimeToFinishPage",tab:"timer"},{name:"showTimerPanel",tab:"timer"},{name:"showTimerPanelMode",tab:"timer"},{name:"logo",tab:"logo"},{name:"logoPosition",tab:"logo"},{name:"logoWidth",tab:"logo"},{name:"logoHeight",tab:"logo"},{name:"logoFit",tab:"logo"}],tabs:[{name:"navigation",index:100},{name:"question",index:200},{name:"pages",index:250},{name:"logic",index:300},{name:"data",index:400},{name:"validation",index:500},{name:"showOnCompleted",index:600},{name:"timer",index:700}]},"page@survey":{properties:["name","title"]}},e}(),he=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return this.property?this.property.name:""},enumerable:!1,configurable:!0}),e}(),me=function(){this.visible=!0,this.index=0,this.properties=[]},ge=function(){function e(e,t,o,i,r,s){void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null),this.obj=e,this.options=t,this.parentObj=r,this.parentProperty=s,this.tabs=[],this.showModeValue=i,this.properties=n.Serializer.getPropertiesByObj(this.obj),this.fillPropertiesHash(),this.buildTabs(o)}return e.prototype.getProperty=function(e){var t=this.propertiesHash[e];return t&&t.visible?t.property:null},Object.defineProperty(e.prototype,"showMode",{get:function(){return this.showModeValue?this.showModeValue:"form"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].visible&&this.tabs[e].properties.length>0)return!1;return!0},enumerable:!1,configurable:!0}),e.prototype.fillPropertiesHash=function(){this.propertiesHash={};for(var e=0;e<this.properties.length;e++){var t=this.properties[e];this.propertiesHash[t.name]={property:t,visible:R.isPropertyVisible(this.obj,t,this.options,this.showMode,this.parentObj,this.parentProperty)}}},e.prototype.isJSONPropertyVisible=function(e){var t=this.propertiesHash[e.name];return!!t&&t.visible},e.prototype.getTabByName=function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].name==e)return this.tabs[t];return null},e.prototype.getTabs=function(){return this.tabs},e.prototype.getProperties=function(e){for(var t=[],o=0;o<e.properties.length;o++)t.push(e.properties[o].property);return t},e.prototype.buildTabs=function(e){e||(e=this.obj.getType());for(var t=this.getAllDefinitionsByClass(e),o=[],i=t.length-1;i>=0;i--){for(var n=t[i],r=n.tabs?n.tabs.length-1:-1;r>=0;r--)o.indexOf(n.tabs[r].name)>-1||this.addPropertyIntoTab(n.tabs[r],!0)&&o.push(n.tabs[r].name);for(r=n.properties?n.properties.length-1:-1;r>=0;r--){var s=n.properties[r].name||n.properties[r];-1===o.indexOf(s)&&(o.push(s),this.addPropertyIntoTab(n.properties[r]))}}for(i=this.tabs.length-1;i>=0;i--)this.movePropertiesToNextProperties(this.tabs[i].properties),this.tabs[i].visible?this.sortProperties(this.tabs[i].properties):this.tabs.splice(i,1);this.tabs.sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}))},e.prototype.addPropertyIntoTab=function(e,t){if(void 0===t&&(t=!1),t){var o=this.getTabOrCreate(e.name);e.index>0&&(o.index=e.index),!1===e.visible&&(o.visible=!1),e.title&&(o.title=e.title)}var i="string"==typeof e,n=i?e:e.name,r=this.propertiesHash[n];if(!r)return!1;if(!i&&!1===e.visible)return!1;if(!r.visible&&(i||!i&&!0!==e.visible))return!1;var s=t?e.name:u.propertyGrid.generalTabName;t||i||!e.tab||(s=e.tab);var a=new he;return a.property=r.property,a.category=!i&&e.category?e.category:"",a.title=!i&&e.title?e.title:"",a.onSameLine=this.isPropertyOnSameLine(r.property.nextToProperty),a.createdFromTabName=t,this.getTabOrCreate(s).properties.unshift(a),!0},e.prototype.movePropertiesToNextProperties=function(e){for(var t=[].concat(e),o=0;o<t.length;o++){var i=this.getNextToNameProperty(t[o].property),n=this.getTabByPropertyName(i);if(n){var r=this.getPropertyByNameInTab(n,i),s=n.properties.indexOf(r);n.properties.splice(s+1,0,t[o]),e.splice(e.indexOf(t[o]),1)}}},e.prototype.getTabByPropertyName=function(e){if(!e)return null;this.isPropertyOnSameLine(e)&&(e=e.substr(1));for(var t=0;t<this.tabs.length;t++)if(this.getPropertyByNameInTab(this.tabs[t],e))return this.tabs[t];return null},e.prototype.getNextToNameProperty=function(e){return e.nextToProperty?this.isPropertyOnSameLine(e.nextToProperty)?e.nextToProperty.substr(1):e.nextToProperty:""},e.prototype.isPropertyOnSameLine=function(e){return!!e&&"*"===e[0]},e.prototype.getPropertyByNameInTab=function(e,t){for(var o=e.properties,i=0;i<o.length;i++)if(o[i].name==t)return o[i];return null},e.prototype.getTabOrCreate=function(e){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].name==e)return this.tabs[t];var o=new me;return o.name=e,e==u.propertyGrid.generalTabName&&(o.index=-1),this.tabs.unshift(o),o},e.prototype.getAllDefinitionsByClass=function(e){var t=[];if(e.indexOf("@")>-1&&de.definition[e]){var o=e.substring(0,e.indexOf("@")+1)+"default";return o!=e&&de.definition[o]&&t.push(de.definition[o]),t.push(de.definition[e]),t}for(var i=e,r={},s=!1;i;){var a=n.Serializer.findClass(i);if(!a)break;var l=de.definition[a.name];if(l){if(l.properties)for(var c=0;c<l.properties.length;){var p=l.properties[c],d="string"==typeof p?p:p.name,h=u.propertyGrid.generalTabName;"string"!=typeof p&&p.tab&&(h=p.tab);var m=this.propertiesHash[d]?this.propertiesHash[d].property:null,g=this.getJsonPropertyCategory(m);g&&g!==h?l.properties.splice(c,1):(r[d]=!0,c++)}if(l.tabs)for(c=0;c<l.tabs.length;c++)s=s||"others"==l.tabs[c].name,r[l.tabs[c].name]=!0;t.unshift(l)}i=a.parentName}return s||this.addNonTabProperties(t,r),t},e.prototype.getJsonPropertyCategory=function(e){return e&&e.category?e.category:null},e.prototype.addNonTabProperties=function(e,t){for(var o={properties:[],tabs:[]},i=[],n=0;n<this.properties.length;n++){var r=this.properties[n];if(this.isJSONPropertyVisible(r)&&!t[r.name]){var s=this.getJsonPropertyCategory(r),a=s||(0==e.length?u.propertyGrid.generalTabName:"others");if(i.indexOf(a)<0&&a!=u.propertyGrid.generalTabName&&(i.push(a),o.tabs.push({name:a,index:"others"==a?1e3:10*i.length})),r.categoryIndex>-1&&i.indexOf(a)>-1)for(var l=0;l<o.tabs.length;l++)o.tabs[l].name==a&&(o.tabs[l].index=r.categoryIndex);o.properties.push({name:this.properties[n].name,tab:a})}}o.properties.length>0&&e.push(o)},e.prototype.sortProperties=function(e){if(Array.isArray(e))for(var t=[].concat(e),o=0;o<t.length;o++){var i=t[o].property.visibleIndex;if(t[o].createdFromTabName&&(i=0),!(i<0)){var n=e.indexOf(t[o]);n>-1&&e.splice(n,1),i<e.length?e.splice(i,0,t[o]):e.push(t[o])}}},e}(),ye=function(){function e(){this.locsCache={}}return Object.defineProperty(e,"instance",{get:function(){return e.instanceValue||(e.instanceValue=new e),e.instanceValue},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.locsCache={}},e.prototype.getHelpText=function(e,t){if(!e||!t)return"";var o=this.getCacheId(e,t),i=this.locsCache[o];return void 0===i&&(i=this.getPropertyHelpLocName(e,t),this.locsCache[o]=i),this.hasLocString(i)?this.getLocString(i):""},e.prototype.getCacheId=function(e,t){return e.getType()+"_"+t.name},e.prototype.getPropertyHelpLocName=function(e,t){for(var o=this.getHelpPropertyClassNames(e,t),i=0;i<o.length;i++){var n="pehelp."+o[i]+"_"+t.name;if(this.hasLocString(n))return n}var r="pehelp."+t.name;return this.hasLocString(r)?r:(r="pe."+t.type+"Help",this.hasLocString(r)?r:"")},e.prototype.getHelpPropertyClassNames=function(e,t){if(!e)return[];for(var o=e.getType(),i=[],r=n.Serializer.findClass(o);r;){if(i.push(r.name),r.find(t.name))return i;r=r.parentName?n.Serializer.findClass(r.parentName):null}return i},e.prototype.hasLocString=function(e){return r.hasString(e)},e.prototype.getLocString=function(e){return r.getString(e)},e}();function fe(e,t){if(!Array.isArray(e))return null;for(var o=0;o<e.length;o++)if(e[o].id===t)return e[o];return null}function ve(e,t,o){var i=fe(t,"remove-row");i&&(i.component="sv-action-bar-item",i.iconName="icon-delete",i.css="spg-action-button spg-action-button--danger",i.title=e.removeRowText,i.showTitle=!1,i.visibleIndex=10,i.action=function(){e.removeRowUI(o)})}function be(e,t,o){void 0===t&&(t=!0),void 0===o&&(o=!0),e.showNavigationButtons="none",e.showPageTitles=!1,e.focusFirstQuestionAutomatic=!1,e.showQuestionNumbers="off",o&&(e.questionTitleLocation="left"),e.showProgressBar="off",t&&(e.textUpdateMode="onTyping"),e.requiredText=""}n.FunctionFactory.Instance.register("propertyVisibleIf",(function(e){return!!(this.question&&this.question.obj&&this.question.property)&&this.question.property.visibleIf(this.question.obj)}));var we=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=!0),this.options=e,this.options||(this.options=new c),t&&this.setupSurvey()}return e.prototype.setupSurvey=function(){this.editSurveyValue=this.createSurvey()},Object.defineProperty(e.prototype,"editSurvey",{get:function(){return this.editSurveyValue},enumerable:!1,configurable:!0}),e.prototype.hasErrors=function(){return this.editSurvey.hasErrors(!0,!0)},e.prototype.createSurvey=function(){var e=this.getSurveyJSON();return be(e,!0,!1),this.options.createSurvey(e,this.getSurveyCreationReason())},e.prototype.dispose=function(){this.editSurvey&&this.editSurvey.dispose()},e}(),xe={editors:new Array,fitHash:{},clearHash:function(){this.fitHash={}},register:function(e){this.editors.push(e)},getEditor:function(e,t){if(!e)return null;if(t)for(var o=this.editors.length-1;o>=0;o--){var i=this.editors[o];if(i.fit(e,t))return i}var n=this.fitHash[e.id];if(n)return n;var r=this.isEditorFit(e);return r||this.isEditorFit(e,!0)},isEditorFit:function(e,t){void 0===t&&(t=!1);for(var o=this.editors.length-1;o>=0;o--){var i=this.editors[o];if(!t&&i.fit(e)||t&&i.isDefault&&i.isDefault())return this.fitHash[e.id]=i,i}return null},getJSON:function(e,t,o,i){var n=this.getEditor(t,i);return n?n.getJSON(e,t,o):null},onCreated:function(e,t,o,i){var n=this.getEditor(o);n&&n.onCreated&&n.onCreated(e,t,o,i)},onAfterRenderQuestion:function(e,t,o){var i=this.getEditor(t);i&&i.onAfterRenderQuestion&&i.onAfterRenderQuestion(e,t,o)},onMatrixCellCreated:function(e,t,o){var i=this.getEditor(t);i&&i.onMatrixCellCreated&&i.onMatrixCellCreated(o.question.obj,o)},onMatrixCellValueChanged:function(e,t,o){var i=this.getEditor(t);i&&i.onMatrixCellValueChanged&&i.onMatrixCellValueChanged(e,o);var n=o.row;if(n){var r=n.getQuestionByName(o.columnName);r&&n.runCondition({},{question:r})}},onMatrixAllowRemoveRow:function(e,t,o){var i=this.getEditor(t);return!i||!i.onMatrixAllowRemoveRow||i.onMatrixAllowRemoveRow(e,o)},onGetMatrixRowAction:function(e,t,o,i){var n=this.getEditor(t);n&&n.onGetMatrixRowAction&&n.onGetMatrixRowAction(e,o,i)},onUpdateQuestionCssClasses:function(e,t,o){var i=this.getEditor(t);i&&i.onUpdateQuestionCssClasses&&i.onUpdateQuestionCssClasses(e,o)},onGetQuestionTitleActions:function(e,t,o){var i=this.getEditor(t);i&&i.onGetQuestionTitleActions&&i.onGetQuestionTitleActions(e,o)},onValueChanged:function(e,t,o){var i=this.getEditor(t);i&&i.onValueChanged&&i.onValueChanged(e,t,o)},onMasterValueChanged:function(e,t,o){var i=this.getEditor(t);i&&i.onMasterValueChanged&&i.onMasterValueChanged(e,t,o)}},Ce=function(){function e(e,t){this.obj=e,this.options=t}return e.prototype.onGetQuestionTitleActions=function(e){var t=e.question,o=t.property,i=xe.getEditor(o);if(i){var n=[],r=!t.isReadOnly;!!i.clearPropertyValue&&(!i.canClearPropertyValue||i.canClearPropertyValue(this.obj,o,t,this.options))&&n.push(this.createClearValueAction(i,o,t,r)),i.createPropertyEditorSetup&&(r&&(r=!i.isPropertyEditorSetupEnabled||i.isPropertyEditorSetupEnabled(this.obj,o,e.question,this.options)),n.push(this.createEditorSetupAction(i,o,t,r)));var s=this.createPropertyHelpAction(t);s&&n.push(s),n.length>0&&(e.titleActions=n)}},e.prototype.createClearValueAction=function(e,t,o,i){var r=this;return{id:"property-grid-clear",title:s("pe.clear"),showTitle:!1,iconName:"icon-clear",css:"spg-action-button spg-action-button--danger",enabled:i,visible:new n.ComputedUpdater((function(){var e=o.obj[t.name];return Array.isArray(e)?e.length>0:!!e})),action:function(){e.clearPropertyValue(o.obj,t,o,r.options)}}},e.prototype.showModalPropertyEditor=function(e,t,o){return e.showModalPropertyEditor(e,t,o,this.options)},e.prototype.createEditorSetupAction=function(e,t,o,i){var n=this;return{id:"property-grid-setup",iconName:t.isArray?"icon-fast-entry":"icon-wizard",css:"spg-action-button",enabled:i,title:s("pe.edit"),showTitle:!1,action:function(){return n.showModalPropertyEditor(e,t,o)}}},e.prototype.createPropertyHelpAction=function(e){var t=this;if(!e.description)return null;var o=new n.Action({title:"",id:"property-grid-help",css:"spg-action-button",iconName:this.getHelpActionIconName(e),showTitle:!1,action:function(){e.descriptionLocation="hidden"!=e.descriptionLocation?"hidden":"underTitle",o.iconName=t.getHelpActionIconName(e)}});return o},e.prototype.getHelpActionIconName=function(e){return"hidden"!=e.descriptionLocation?"icon-description-hide":"icon-description"},e}(),Te=function(){function e(e,t,o,i){void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null),this.obj=e,this.options=t,this.parentObj=o,this.parentProperty=i}return e.isPropertyReadOnly=function(e,t,o,i,n){var r=e.readOnly;return t&&o&&(r=t.onIsPropertyReadOnlyCallback(o,e,r,i,n)),r},e.getClassNameProperty=function(e){if(e&&e.getClassNameProperty)return e.getClassNameProperty()},e.prototype.toJSON=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=void 0),this.createJSON(e,t)},e.prototype.createColumnsJSON=function(e,t){for(var o=[],i=0;i<t.length;i++){var n=this.getColumnPropertyJSON(e,t[i]);n&&o.push(n)}return o},e.prototype.setupObjPanel=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=void 0),e.fromJSON(this.toJSON(t,o)),this.onQuestionsCreated(e)},e.prototype.onQuestionsCreated=function(e){for(var t=n.Serializer.getPropertiesByObj(this.obj),o={},i=0;i<t.length;i++)o[t[i].name]=t[i];var r=e.questions;for(i=0;i<r.length;i++){var s=r[i],a=o[s.name];s.property=a,s.obj=this.obj,s.options=this.options;var l=this.getVisibilityOnEvent(a);s.readOnly=s.readOnly||this.isPropertyReadOnly(a),s.visible=s.visible&&l,a.visibleIf&&(s.visibleIf=l?"propertyVisibleIf() = true":""),s.descriptionLocation="hidden";var u=ye.instance.getHelpText(this.obj,a);u&&(s.description=u),xe.onCreated(this.obj,s,a,this.options),this.options.onPropertyEditorCreatedCallback(this.obj,a,s)}},e.prototype.getVisibilityOnEvent=function(e,t){return void 0===t&&(t=""),this.options.onCanShowPropertyCallback(this.obj,e,t,this.parentObj,this.parentProperty)},e.prototype.isPropertyReadOnly=function(t){return e.isPropertyReadOnly(t,this.options,this.obj,this.parentObj,this.parentProperty)},e.prototype.getClasPropName=function(){if(this.parentObj&&this.parentProperty)return this.parentProperty.name;var t=e.getClassNameProperty(this.obj);return t&&this.obj[t]?this.obj[t]:void 0},e.prototype.createJSON=function(e,t){void 0===t&&(t=void 0);var o=void 0,i=this.getClasPropName();i&&("itemvalue"===(o=this.obj.getType())&&(o+="[]"),o+="@"+i);for(var n=new ge(this.obj,null,o,void 0,this.parentObj,this.parentProperty).getTabs(),r={},s=0;s<n.length;s++)!1!==n[s].visible&&(r[n[s].name]=this.createPanelProps(n[s],0==s,t));var a={elements:[]};for(var l in r)if(l==u.propertyGrid.generalTabName&&e){var c=r[l].elements;for(s=0;s<c.length;s++)a.elements.push(c[s])}else a.elements.push(r[l]);return a},e.prototype.createPanelProps=function(e,t,o){for(var i=this.createPanelJSON(e.name,e.title,t),n=0;n<e.properties.length;n++){var r=e.properties[n],s=this.createQuestionJSON(r.property,r.title,!1,o);r.onSameLine&&(s.startWithNewLine=!1,this.updateQuestionJSONOnSameLine(s),i.elements.length>0&&this.updateQuestionJSONOnSameLine(i.elements[i.elements.length-1])),s&&i.elements.push(s)}return i},e.prototype.updateQuestionJSONOnSameLine=function(e){e.titleLocation="left",e.minWidth="50px"},e.prototype.createPanelJSON=function(e,t,o){return{type:"panel",name:e,title:this.getPanelTitle(e,t),state:o?"expanded":"collapsed",elements:[]}},e.prototype.createQuestionJSON=function(e,t,o,i){if(void 0===o&&(o=!1),!this.isPropertyVisible(e,o?"list":"")&&o)return null;var n=xe.getJSON(this.obj,e,this.options,i);return n?(n.name=e.name,n.visible=e.visible,n.isReadOnly=e.readOnly,n.isRequired=e.isRequired,n.requiredErrorText=r.getString("pe.propertyIsEmpty"),n.title=this.getQuestionTitle(e,t),n):null},e.prototype.getColumnPropertyJSON=function(e,t){if(!e)return null;var o=n.Serializer.findProperty(e,t);if(!o)return null;var i=this.createQuestionJSON(o,"",!0,void 0);return i?(i.name=o.name,i.title=this.getQuestionTitle(o,""),o.isUnique&&(i.isUnique=o.isUnique),i.type&&(i.cellType=i.type,delete i.type),"buttongroup"===i.cellType&&(i.cellType="dropdown"),o.visibleIf&&(i.visibleIf="propertyVisibleIf() = true"),i.isReadOnly&&(i.readOnly=i.isReadOnly,delete i.isReadOnly),i):null},e.prototype.isPropertyVisible=function(e,t){return!!e.visible&&(!t||!e.showMode||t==e.showMode)},e.prototype.getPanelTitle=function(e,t){return t||r.getString("pe.tabs."+e)},e.prototype.getQuestionTitle=function(e,t){return e.displayName?e.displayName:t&&t!==e.name?t:r.getPropertyNameInEditor(e.name)},e}(),Se=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=new c),this.isCellCreating=!1,this.options=t,this.obj=e}return e.prototype.refresh=function(){this.setObj(this.objValue)},Object.defineProperty(e.prototype,"obj",{get:function(){return this.objValue},set:function(e){this.objValue!==e&&this.setObj(e)},enumerable:!1,configurable:!0}),e.prototype.selectProperty=function(e,t){if(void 0===t&&(t=!0),this.survey){var o=this.survey.getQuestionByName(e);if(o){for(var i=this.survey.getAllPanels(),n=0;n<i.length;n++){var r=i[n];r===o.parent?r.expand():r.collapse()}t&&o.focus()}}},e.prototype.setObjFromAction=function(e,t){this.changedFromActionCallback?this.changedFromActionCallback(e,t):this.setObj(e)},e.prototype.setObj=function(e){var t=this;this.objValue=e,this.classNameProperty=this.obj?Te.getClassNameProperty(this.obj):"",this.classNameValue=this.classNameProperty?this.obj[this.classNameProperty]:void 0,this.titleActionsCreator=this.obj?new Ce(this.obj,this.options):void 0;var o=this.getSurveyJSON();this.options.readOnly&&(o.mode="display"),this.surveyValue&&(this.surveyValue.onValidateQuestion.clear(),this.surveyValue.onValueChanging.clear(),this.surveyValue.onValueChanged.clear(),this.surveyValue.onMatrixCellValueChanging.clear(),this.surveyValue.onMatrixCellValidate.clear(),this.surveyValue.onMatrixCellValueChanged.clear(),this.surveyValue.editingObj=void 0,this.surveyValue.data={},this.surveyValue.dispose()),this.surveyValue=this.createSurvey(o),this.surveyValue.css=B;var i=this.surveyValue.createNewPage("p1");this.obj&&(new Te(this.obj,this.options).setupObjPanel(i,!1),this.survey.addPage(i),this.survey.checkErrorsMode="onValueChanging",this.survey.onValueChanged.add((function(e,o){t.onValueChanged(o)})),this.survey.onValueChanging.add((function(e,o){t.onValueChanging(o)})),this.survey.onValidateQuestion.add((function(e,o){t.onValidateQuestion(o)})),this.survey.onGetQuestionTitleActions.add((function(e,o){t.titleActionsCreator.onGetQuestionTitleActions(o),t.onGetQuestionTitleActions(o);var i=o.question;t.options.onPropertyEditorUpdateTitleActionsCallback(t.obj,i.property,i,o.titleActions)})),this.survey.onGetPanelTitleActions.add((function(e,t){t.titleActions.splice(0,t.titleActions.length)})),this.survey.onMatrixCellCreated.add((function(e,o){t.onMatrixCellCreated(o)})),this.survey.onMatrixCellValueChanging.add((function(e,o){t.onMatrixCellValueChanging(o)})),this.survey.onMatrixCellValidate.add((function(e,o){t.onMatrixCellValidate(o)})),this.survey.onMatrixCellValueChanged.add((function(e,o){t.onMatrixCellValueChanged(o)})),this.survey.onMatrixAllowRemoveRow.add((function(e,o){o.allow=t.getMatrixAllowRemoveRow(o.question,o.row)})),this.survey.onMatrixRowAdded.add((function(e,o){t.onMatrixRowAdded(o)})),this.survey.onGetMatrixRowActions.add((function(e,o){t.onGetMatrixRowAction(o)})),this.survey.onUpdateQuestionCssClasses.add((function(e,o){t.onUpdateQuestionCssClasses(o)})),this.survey.onAfterRenderQuestion.add((function(e,o){t.onAfterRenderQuestion(o)})),this.survey.editingObj=this.obj,this.objValueChangedCallback&&this.objValueChangedCallback(),this.updateDependedPropertiesEditors(),this.survey.onFocusInPanel.add((function(e,o){if(t.currentlySelectedPanel!==o.panel){var i=o.panel.getFirstQuestionToFocus();t.currentlySelectedProperty=i?i.name:"",t.currentlySelectedPanel=o.panel}})),this.survey.onFocusInQuestion.add((function(e,o){t.currentlySelectedProperty=o.question.name,t.currentlySelectedPanel=o.question.parent})),this.survey.getAllQuestions().map((function(e){return e.allowRootStyle=!1})))},Object.defineProperty(e.prototype,"options",{get:function(){return this.optionsValue},set:function(e){this.optionsValue=e||new c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),e.prototype.validate=function(){if(this.survey)return!this.survey.hasErrors(!0,!0)},e.prototype.collapseCategory=function(e){var t=this.survey.getPanelByName(e);t&&t.collapse()},e.prototype.expandCategory=function(e){var t=this.survey.getPanelByName(e);t&&t.expand()},e.prototype.collapseAllCategories=function(){for(var e=this.survey.getAllPanels(),t=0;t<e.length;t++)e[t].collapse()},e.prototype.expandAllCategories=function(){for(var e=this.survey.getAllPanels(),t=0;t<e.length;t++)e[t].expand()},e.prototype.createSurvey=function(e){return this.options.createSurvey(e,"property-grid")},e.prototype.getSurveyJSON=function(){var e={};return be(e,!0,!1),e},e.prototype.onValidateQuestion=function(e){var t=e.question;t&&t.property&&(t.isRequired&&n.Helpers.isValueEmpty(e.value)?e.error=r.getString("pe.propertyIsEmpty"):e.error=this.options.onGetErrorTextOnValidationCallback(t.property.name,this.obj,e.value))},e.prototype.onValueChanging=function(e){var t=e.question;if(t&&t.property){var o={obj:this.obj,propertyName:t.property.name,value:e.oldValue,newValue:e.value,doValidation:!1};this.options.onValueChangingCallback(o),e.value=o.newValue}},e.prototype.onValueChanged=function(e){var t=e.question;t&&t.property&&(this.changeDependedProperties(t),xe.onValueChanged(this.obj,t.property,t),this.classNameProperty&&e.name===this.classNameProperty&&this.classNameValue!==e.value&&this.setObj(this.obj))},e.prototype.changeDependedProperties=function(e){var t=e.property.getDependedProperties();if(t)for(var o=0;o<t.length;o++){var i=t[o],r=this.survey.getQuestionByName(i);r&&(this.updateDependedPropertiesEditor(r),n.Helpers.isTwoValueEquals(r.value,this.survey.getValue(i))||(r.value=this.survey.getValue(i)),xe.onMasterValueChanged(this.obj,r.property,r))}},e.prototype.updateDependedPropertiesEditor=function(e){var t=e.obj;if(t){var o=e.property;o&&o.onPropertyEditorUpdate&&o.onPropertyEditorUpdate(t,e)}},e.prototype.updateDependedPropertiesEditors=function(){for(var e=this.survey.getAllQuestions(),t=0;t<e.length;t++)this.updateDependedPropertiesEditor(e[t])},e.prototype.onAfterRenderQuestion=function(e){xe.onAfterRenderQuestion(this.obj,e.question.property,e)},e.prototype.onMatrixCellCreated=function(e){this.isCellCreating=!0,xe.onMatrixCellCreated(this.obj,e.question.property,e),this.isCellCreating=!1;var t=e.row.editingObj;if(t){var o=n.Serializer.findProperty(t.getType(),e.columnName);if(o){var i=this.getMatrixAllowEditRow(e.question,e.row);e.cellQuestion.readOnly=!i||Te.isPropertyReadOnly(o,this.options,t,this.obj,e.question.property)}}},e.prototype.onMatrixCellValueChanging=function(e){if(!this.isCellCreating){var t={obj:e.row.editingObj,propertyName:e.columnName,value:e.oldValue,newValue:e.value,doValidation:!1};this.options.onValueChangingCallback(t),e.value=t.newValue}},e.prototype.onMatrixCellValidate=function(e){if(!this.isCellCreating){var t=e.question.getColumnByName(e.columnName);t&&t.isRequired&&n.Helpers.isValueEmpty(e.value)?e.error=r.getString("pe.propertyIsEmpty"):e.error=this.options.onGetErrorTextOnValidationCallback(e.columnName,e.row.editingObj,e.value)}},e.prototype.onGetMatrixRowAction=function(e){var t=this;xe.onGetMatrixRowAction(this.obj,e.question.property,e,(function(o){t.setObjFromAction(o,e.question.name)}))},e.prototype.onUpdateQuestionCssClasses=function(e){xe.onUpdateQuestionCssClasses(this.obj,e.question.property,e)},e.prototype.onGetQuestionTitleActions=function(e){xe.onGetQuestionTitleActions(this.obj,e.question.property,e)},e.prototype.onMatrixCellValueChanged=function(e){this.isCellCreating||xe.onMatrixCellValueChanged(this.obj,e.question.property,e)},e.prototype.getMatrixAllowRemoveRow=function(e,t){return void 0===t.allowDeleteRow&&this.calculateMatrixAllowOperations(e,t),t.allowDeleteRow},e.prototype.getMatrixAllowEditRow=function(e,t){return!e.readOnly&&(void 0===t.allowEditRow&&this.calculateMatrixAllowOperations(e,t),t.allowEditRow)},e.prototype.calculateMatrixAllowOperations=function(e,t){var o={allowDelete:this.onMatrixAllowRemoveRow(e,t),allowEdit:!0};this.options.onCollectionItemAllowingCallback(this.obj,e.property,e.value,t.editingObj,o),t.allowDeleteRow=o.allowDelete,t.allowEditRow=o.allowEdit},e.prototype.onMatrixAllowRemoveRow=function(e,t){var o=xe.onMatrixAllowRemoveRow(this.obj,e.property,t);return o=this.options.onCollectionItemDeletingCallback(this.obj,e.property,e.value,t.editingObj)&&o,this.options.onCanDeleteItemCallback(this.obj,t.editingObj,o)},e.prototype.onMatrixRowAdded=function(e){var t=e.row.editingObj;n.Serializer.isDescendantOf(t.getType(),"itemvalue")&&this.options.onItemValueAddedCallback(this.obj,e.question.property.name,e.row.editingObj,e.question.value),n.Serializer.isDescendantOf(t.getType(),"matrixdropdowncolumn")&&this.options.onMatrixDropdownColumnAddedCallback(this.obj,e.row.editingObj,e.question.value)},e}(),Pe=function(){function e(){}return e.prototype.showModalPropertyEditor=function(e,t,o,i,r){var s=this,a=e.createPropertyEditorSetup(o.obj,t,o,i);return a?("condition"!==t.type&&(a.editSurvey.css=n.defaultV2Css),a.editSurvey.onGetMatrixRowActions.add((function(e,t){ve(t.question,t.actions,t.row)})),n.settings.showModal?(n.settings.showModal("survey",{survey:a.editSurvey,model:a.editSurvey},(function(){return s.onModalPropertyEditorClosed(e,t,o,i,"apply"),r&&r("apply"),a.apply()}),(function(){s.onModalPropertyEditorClosed(e,t,o,i,"cancel"),r&&r("cancel")}),"sv-property-editor",o.title,i.isMobileView?"overlay":"popup"),this.onModalPropertyEditorShown(e,t,o,i),a):a):null},e.prototype.onModalPropertyEditorShown=function(e,t,o,i){},e.prototype.onModalPropertyEditorClosed=function(e,t,o,i,n){},e.prototype.isSupportGrouping=function(){return!1},e.prototype.onUpdateQuestionCssClasses=function(e,t){if(this.isSupportGrouping()){var o=t.question;if(o&&o.parent){var i=o.parent.elements.indexOf(o);i<1||o.parent.elements[i-1].getType()===o.getType()&&(t.cssClasses.mainRoot+=" spg-row-narrow__question")}}},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e,t){return"boolean"==e.type||"switch"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"boolean",default:!1,renderAs:"checkbox",titleLocation:"hidden"}},t.prototype.isSupportGrouping=function(){return!0},t}(Pe),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.updateMaxLength=function(e,t){return e.maxLength>0&&(t.maxLength=e.maxLength),t},t}(Pe),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"string"==e.type},t.prototype.isDefault=function(){return!0},t.prototype.getJSON=function(e,t,o){var i=this.updateMaxLength(t,{type:"text"});return"name"==t.name&&(i.textUpdateMode="onBlur"),i},t}(Oe),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"number"==e.type},t.prototype.getJSON=function(e,t,o){var i={type:"text",inputType:"number",textUpdateMode:"onBlur"};return void 0!==t.minValue&&(i.min=t.minValue),void 0!==t.maxValue&&(i.max=t.maxValue),i},t}(Pe),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"text"===e.type},t.prototype.getJSON=function(e,t,o){return this.updateMaxLength(t,{type:"comment"})},t}(Oe),Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"html"===e.type},t.prototype.getJSON=function(e,t,o){return this.updateMaxLength(t,{type:"comment"})},t}(Oe),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"color"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"text",inputType:"color"}},t}(Pe),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"string[]"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"comment"}},t.prototype.onCreated=function(e,t,o){t.valueFromDataCallback=function(e){return Array.isArray(e)?e.join("\n"):""},t.valueToDataCallback=function(e){return e?Array.isArray(e)&&!e.split?e:e.split("\n"):[]}},t}(Pe),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return this.isLocaleProp(e)||e.hasChoices},t.prototype.getJSON=function(e,t,o){var i=t.getChoices(e),n={type:this.renderAsButtonGroup(t,i)?"buttongroup":"dropdown",choices:i,showOptionsCaption:!1},r=this.getEmptyJsonItemValue(t,i);return r&&(n.showOptionsCaption=!0,n.optionsCaption=r.text),n},Object.defineProperty(t.prototype,"canRenderAsButtonGroup",{get:function(){return u.propertyGrid.useButtonGroup},enumerable:!1,configurable:!0}),t.prototype.renderAsButtonGroup=function(e,t){if(this.isLocaleProp(e))return!1;if(!this.canRenderAsButtonGroup||!t||0==t.length||t.length>4)return!1;for(var o=0,i=0;i<t.length;i++){var n=this.getLocalizedText(e,t[i].value?t[i].value:t[i]);o+=n?n.length:0}return o<u.propertyGrid.maxCharsInButtonGroup},t.prototype.onCreated=function(e,t,o){this.setChoices(e,t,o),t.displayValueCallback=function(e){return e||t.optionsCaption}},t.prototype.onMasterValueChanged=function(e,t,o){this.setChoices(e,o,t)},t.prototype.setChoicesCore=function(e,t,o){o&&Array.isArray(o)&&0!=o.length&&(e.choices=this.choicesFromPropChoices(t,o))},t.prototype.isLocaleProp=function(e){return"locale"===e.name},t.prototype.getLocalizedText=function(e,t){var o;if(this.isLocaleProp(e)&&(o=r.getLocaleName(t)))return o;if("cellType"===e.name&&(o=r.getString("qt."+t)))return o;return null===t?null:r.getPropertyValue(t)},t.prototype.choicesFromPropChoices=function(e,t){for(var o=[],i=0;i<t.length;i++){var r=this.getJsonItem(e,t[i]);n.Helpers.isValueEmpty(r.value)||o.push(r)}return o},t.prototype.getJsonItem=function(e,t){var o={value:void 0!==t.value?t.value:t},i=t.text?t.text:"";return i||(i=this.getLocalizedText(e,o.value)),i&&i!=o.value&&(o.text=i),o},t.prototype.setChoices=function(e,t,o){var i=this,n=o.getChoices(e,(function(e){i.setChoicesCore(t,o,e)}));this.setChoicesCore(t,o,n)},t.prototype.getEmptyJsonItemValue=function(e,t){if(!t)return null;for(var o=0;o<t.length;o++){var i=t[o],r=void 0!==i.value?i.value:i;if(n.Helpers.isValueEmpty(r))return this.getJsonItem(e,i)}return null},t}(Pe),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"set"==e.type||"multiplevalues"==e.type},t.prototype.getJSON=function(t,o,i){var r=e.prototype.getJSON.call(this,t,o,i),s=!!n.Serializer.findClass("tagbox");return r.type=s?"tagbox":"checkbox",r.hasSelectAll=!s,r},t}(je),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return e.hasChoices&&"page"==e.name},Object.defineProperty(t.prototype,"canRenderAsButtonGroup",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onCreated=function(t,o,i){e.prototype.onCreated.call(this,t,o,i),o.valueFromDataCallback=function(e){return e?e.name:""},o.valueToDataCallback=function(e){if(e&&t&&t.getSurvey())return t.getSurvey().getPageByName(e)}},t}(je),ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"question"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"dropdown",optionsCaption:r.getString("pe.conditionSelectQuestion"),choices:this.getChoices(e,t,o)}},t.prototype.getChoices=function(e,t,o){var i=this,n=pe.getSurvey(e);if(!n)return[];var r=this.getQuestions(n,e);r||(r=[]);var s=!!o&&o.showTitlesInExpressions,a=r.map((function(e){var t=s?e.locTitle.renderedHtml:e.name;return{value:i.getItemValue(e),text:t}}));return R.sortItems(a),a},t.prototype.getQuestions=function(e,t){return e.getAllQuestions()},t.prototype.getItemValue=function(e){return e.name},t}(Pe),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"question_selectbase"==e.type},t.prototype.getQuestions=function(t,o){for(var i=e.prototype.getQuestions.call(this,t,o),r=[],s=0;s<i.length;s++)i[s]!==o&&n.Serializer.isDescendantOf(i[s].getType(),"selectbase")&&r.push(i[s]);return r},t}(ke),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"questionvalue"==e.type},t.prototype.getItemValue=function(e){return e.getValueName()},t}(ke);xe.register(new Ee),xe.register(new _e),xe.register(new Ne),xe.register(new Ae),xe.register(new Ve),xe.register(new Ie),xe.register(new je),xe.register(new Le),xe.register(new De),xe.register(new Me),xe.register(new ke),xe.register(new qe),xe.register(new Re),n.QuestionFactory.Instance.registerQuestion("buttongroup",(function(e){return new n.QuestionButtonGroupModel(e)}));o(8);var ze={root:"st-root-modern",container:"st-container-modern",header:"st-title st-container-modern__title",body:"st-body",bodyEmpty:"st-body st-body--empty",footer:"st-footer st-body__footer st-clearfix",title:"",description:"",logo:"st-logo",logoImage:"st-logo__image",headerText:"st-header__text",navigationButton:"",completedPage:"st-completedpage",navigation:{complete:"st-btn st-footer__complete-btn",prev:"st-btn st-footer__prev-btn",next:"st-btn st-footer__next-btn",start:"st-btn st-footer__start-btn",preview:"st-btn st-footer__preview-btn",edit:"st-btn st-footer__edit-btn"},panel:{title:"st-title st-panel__title",titleExpandable:"st-panel__title--expandable",titleOnExpand:"st-panel__title--expanded",titleOnError:"st-panel__title--error",description:"st-description st-panel__description",container:"st-element st-panel st-row__panel",content:"st-panel__content",icon:"st-panel__icon",iconExpanded:"st-panel__icon--expanded",footer:"st-panel__footer",requiredText:"st-panel__required-text"},paneldynamic:{root:"st-paneldynamic",navigation:"st-paneldynamic__navigation",title:"st-title st-question__title",button:"st-btn",buttonRemove:"st-paneldynamic__remove-btn",buttonAdd:"st-paneldynamic__add-btn",progressTop:"st-paneldynamic__progress st-paneldynamic__progress--top",progressBottom:"st-paneldynamic__progress st-paneldynamic__progress--bottom",buttonPrev:"st-paneldynamic__prev-btn",buttonNext:"st-paneldynamic__next-btn",progressContainer:"st-paneldynamic__progress-container",progress:"st-progress",progressBar:"st-progress__bar",progressText:"st-paneldynamic__progress-text",separator:"st-paneldynamic__separator",panelWrapper:"st-paneldynamic__panel-wrapper",panelWrapperInRow:"st-paneldynamic__panel-wrapper--in-row"},progress:"st-progress st-body__progress",progressBar:"st-progress__bar",progressText:"st-progress__text",progressTextInBar:"st-hidden",page:{root:"st-page st-body__page",title:"st-title st-page__title",description:"st-description st-page__description"},pageTitle:"st-title st-page__title",pageDescription:"st-description st-page__description",row:"st-row st-clearfix",question:{mainRoot:"st-element st-question st-row__question",flowRoot:"st-element st-question st-row__question st-row__question--flow",asCell:"st-table__cell",header:"st-question__header",headerLeft:"st-question__header--location--left",headerTop:"st-question__header--location--top",headerBottom:"st-question__header--location--bottom",content:"st-question__content",contentLeft:"st-question__content--left",titleLeftRoot:"",titleOnAnswer:"st-question__title--answer",titleOnError:"st-question__title--error",title:"st-title st-question__title",requiredText:"st-question__required-text",number:"st-question__num",description:"st-description st-question__description",descriptionUnderInput:"st-description st-question__description",comment:"st-comment",required:"st-question--required",titleRequired:"st-question__title--required",indent:20,footer:"st-question__footer",formGroup:"st-question__form-group",hasError:"",disabled:"st-question--disabled"},image:{root:"st-image",image:"sv_image_image"},error:{root:"st-question__erbox",icon:"",item:"",locationTop:"st-question__erbox--location--top",locationBottom:"st-question__erbox--location--bottom"},checkbox:{root:"st-selectbase",item:"st-item st-checkbox st-selectbase__item",itemSelectAll:"st-checkbox--selectall",itemNone:"st-checkbox--none",itemDisabled:"st-item--disabled st-checkbox--disabled",itemChecked:"st-item--checked st-checkbox--checked",itemHover:"st-item--allowhover st-checkbox--allowhover",itemInline:"st-selectbase__item--inline",label:"st-selectbase__label",labelChecked:"",itemControl:"st-visuallyhidden st-item__control st-checkbox__control",itemDecorator:"st-item__svg st-checkbox__svg",controlLabel:"st-item__control-label",materialDecorator:"st-item__decorator st-checkbox__decorator",other:"st-comment st-question__other",column:"st-selectbase__column"},radiogroup:{root:"st-selectbase",item:"st-item st-radio st-selectbase__item",itemInline:"st-selectbase__item--inline",label:"st-selectbase__label",labelChecked:"",itemDisabled:"st-item--disabled st-radio--disabled",itemChecked:"st-item--checked st-radio--checked",itemHover:"st-item--allowhover st-radio--allowhover",itemControl:"st-visuallyhidden st-item__control st-radio__control",itemDecorator:"st-item__svg st-radio__svg",controlLabel:"st-item__control-label",materialDecorator:"st-item__decorator st-radio__decorator",other:"st-comment st-question__other",clearButton:"st-btn st-selectbase__clear-btn",column:"st-selectbase__column"},boolean:{mainRoot:"st-question st-row__question st-question--boolean",root:"",item:"st-boolean",control:"st-boolean__control st-visuallyhidden",itemChecked:"st-boolean--checked",itemIndeterminate:"st-boolean--indeterminate",itemDisabled:"st-boolean--disabled",label:"st-boolean__label",switch:"st-boolean__switch",disabledLabel:"st-checkbox__label--disabled",itemDecorator:"st-checkbox__hidden",materialDecorator:"st-checkbox__rectangle",sliderText:"",slider:"st-boolean__thumb"},text:{root:"st-input st-text",small:"st-row__question--small",controlDisabled:"st-input--disabled",onError:"st-input--error"},multipletext:{root:"st-multipletext",item:"st-multipletext__item",itemTitle:"st-multipletext__item-title",row:"st-multipletext__row",cell:"st-multipletext__cell"},dropdown:{root:"st-selectbase",small:"st-row__question--small",control:"st-input st-dropdown",selectWrapper:"",other:"st-comment st-question__other",onError:"st-input--error",label:"st-selectbase__label",item:"st-item st-radio st-selectbase__item",itemDisabled:"st-item--disabled st-radio--disabled",itemChecked:"st-item--checked st-radio--checked",itemHover:"st-item--allowhover st-radio--allowhover",itemControl:"st-visuallyhidden st-item__control st-radio__control",itemDecorator:"st-item__svg st-radio__svg",controlDisabled:"st-input--disabled",controlLabel:"st-item__control-label",materialDecorator:"st-item__decorator st-radio__decorator"},imagepicker:{root:"st-imagepicker",item:"st-imagepicker__item",itemInline:"st-imagepicker__item--inline",itemChecked:"st-imagepicker__item--checked",itemDisabled:"st-imagepicker__item--disabled",itemHover:"st-imagepicker__item--allowhover",label:"st-imagepicker__label",itemControl:"st-imagepicker__control",image:"st-imagepicker__image",itemText:"st-imagepicker__text",clearButton:"st-btn",other:"st-comment st-question__other"},matrix:{mainRoot:"st-question st-row__question st-scrollable",tableWrapper:"st-matrix",root:"st-table",rowError:"st-matrix__row--error",cell:"st-table__cell st-matrix__cell",headerCell:"st-table__cell st-table__cell--header",label:"st-item st-radio st-matrix__label",itemValue:"st-visuallyhidden st-item__control st-radio__control",itemChecked:"st-radio--checked",itemDisabled:"st-item--disabled st-radio--disabled",itemHover:"st-radio--allowhover",materialDecorator:"st-item__decorator st-radio__decorator",itemDecorator:"st-item__svg st-radio__svg",cellText:"st-matrix__text",cellTextSelected:"st-matrix__text--checked",cellTextDisabled:"st-matrix__text--disabled"},matrixdropdown:{mainRoot:"st-question st-row__question st-scrollable",root:"st-table",cell:"st-table__cell",headerCell:"st-table__cell st-table__cell--header"},matrixdynamic:{mainRoot:"st-question st-row__question st-scrollable",root:"st-table st-matrixdynamic",cell:"st-table__cell",headerCell:"st-table__cell st-table__cell--header",button:"st-btn",detailRow:"st-table__row st-table__row--detail",detailButton:"st-table__cell--detail-button",detailButtonExpanded:"st-table__cell--detail-button--expanded",detailIcon:"st-detail-panel__icon",detailIconExpanded:"st-detail-panel__icon--expanded",detailPanelCell:"st-table__cell--detail-panel",actionsCell:"st-table__cell st-table__cell--actions",buttonAdd:"st-matrixdynamic__add-btn",buttonRemove:"st-matrixdynamic__remove-btn",iconAdd:"",iconRemove:""},rating:{root:"st-rating",item:"st-rating__item",itemHover:"st-rating__item--allowhover",selected:"st-rating__item--selected",minText:"st-rating__item-text st-rating__min-text",itemText:"st-rating__item-text",maxText:"st-rating__item-text st-rating__max-text",itemDisabled:"st-rating__item--disabled"},comment:{root:"st-comment",small:"st-row__question--small"},expression:"",file:{root:"st-file",other:"st-comment st-question__other",placeholderInput:"st-visuallyhidden",preview:"st-file__preview",fileSign:"st-hidden",fileSignBottom:"st-file__sign",fileDecorator:"st-file__decorator",fileInput:"st-visuallyhidden",noFileChosen:"st-description st-file__no-file-chosen",chooseFile:"st-btn st-file__choose-btn",disabled:"st-file__choose-btn--disabled",removeButton:"st-hidden",removeButtonBottom:"st-btn st-file__clean-btn",removeFile:"st-hidden",removeFileSvg:"st-file__remove-svg",wrapper:"st-file__wrapper"},signaturepad:{root:"st-signaturepad sjs_sp_container",small:"st-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}}},Be=function(e){function t(t,o){var i=e.call(this)||this;return i.name=t,i.translation=o,i}return d(t,e),Object.defineProperty(t.prototype,"isGroup",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.fillLocales=function(e){},t.prototype.mergeLocaleWithDefault=function(e){},t.prototype.makeObservable=function(){this.fireOnObjCreating()},t.prototype.fireOnObjCreating=function(e){void 0===e&&(e=null),this.translation&&(e||(e=this),this.translation.fireOnObjCreating(e))},t}(n.Base),He=function(e){function t(t,o){var i=e.call(this)||this;return i.locString=t,i.locale=o,i.text=i.locString.getLocaleText(i.locale),i}return d(t,e),t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),"text"===t&&this.locString.setLocaleText(this.locale,i)},t.prototype.getType=function(){return"translationitemstring"},p([Object(n.property)()],t.prototype,"text",void 0),p([Object(n.property)()],t.prototype,"placeholder",void 0),t}(n.Base),Qe=function(e){function t(t,o,i,n,r,s){void 0===i&&(i=""),void 0===s&&(s=null);var a=e.call(this,t,n)||this;a.name=t,a.locString=o,a.defaultValue=i,a.context=r,a.property=s,a.translation&&(a.readOnly=a.translation.readOnly),a.hashValues={};var l=a;return a.afterRender=function(e,t){l.translation&&l.translation.translateItemAfterRender(l,e,t.locale)},a.fireOnObjCreating(),a}return d(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.property?this.property.maxLength:-1},enumerable:!1,configurable:!0}),t.prototype.makeObservable=function(){for(var t in e.prototype.makeObservable.call(this),this.hashValues)this.fireOnObjCreating(this.hashValues[t])},t.prototype.getType=function(){return"translationitem"},Object.defineProperty(t.prototype,"text",{get:function(){return this.customText?this.customText:this.localizableName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localizableName",{get:function(){return r.getPropertyName(this.name)},enumerable:!1,configurable:!0}),t.prototype.getLocText=function(e){return this.locString.getLocaleText(e)},t.prototype.setLocText=function(e,t){this.locString.setLocaleText(e,t),this.translation.tranlationChangedCallback&&this.translation.tranlationChangedCallback(e,this.name,t,this.context)},t.prototype.values=function(e){if(!this.hashValues[e]){var t=new He(this.locString,e);e||(t.placeholder=this.defaultValue),this.hashValues[e]=t,this.fireOnObjCreating(t)}return this.hashValues[e]},t.prototype.fillLocales=function(e){for(var t=this.getKeys(),o=0;o<t.length;o++){var i=t[o];i&&e.indexOf(i)<0&&i!==n.LocalizableString.defaultLocale&&e.push(i)}},t.prototype.toJSON=function(){var e=this.locString.getJson();return(e=this.correctJSON(e))&&"string"!=typeof e?e:{default:e}},t.prototype.correctJSON=function(e){if(!e||"string"==typeof e)return e;if(Array.isArray(e))return e.join("\n");for(var t in e)Array.isArray(e[t])&&(e[t]=e[t].join("\n"));return e},t.prototype.getKeys=function(){return this.locString.getLocales()},t.prototype.mergeLocaleWithDefault=function(e){var t=this.locString.getLocaleText(e);t&&(this.locString.setLocaleText("",t),this.locString.setLocaleText(e,null))},p([Object(n.property)({defaultValue:!1})],t.prototype,"readOnly",void 0),t}(Be),Fe=function(e){function t(t,o,i,n,r){void 0===i&&(i=null),void 0===n&&(n=""),void 0===r&&(r=!1);var s=e.call(this,t,i)||this;return s.name=t,s.obj=o,s.text=n,s.hasIndent=r,s.isRootValue=!1,s.removeLocale=function(e){s.translation&&s.translation.removeLocale(e)},s.text||(s.text=t),s.reset(),s.fireOnObjCreating(),s}return d(t,e),t.prototype.getType=function(){return"translationgroup"},Object.defineProperty(t.prototype,"items",{get:function(){return this.itemValues},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locItems",{get:function(){return this.itemValues.filter((function(e){return e instanceof Qe}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.isRootValue},enumerable:!1,configurable:!0}),t.prototype.setAsRoot=function(){this.isRootValue=!0},t.prototype.getItemByName=function(e){for(var t=0;t<this.itemValues.length;t++)if(this.itemValues[t].name==e)return this.itemValues[t];return null},Object.defineProperty(t.prototype,"groups",{get:function(){return this.itemValues.filter((function(e){return e instanceof t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGroup",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locales",{get:function(){return this.translation?this.translation.locales:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeLocaleText",{get:function(){return r.getString("pe.remove")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localeCount",{get:function(){return Array.isArray(this.locales)?this.locales.length:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locWidth",{get:function(){var e=this.localeCount;return e<2?"100%":Math.floor(100/e).toString()+"%"},enumerable:!1,configurable:!0}),t.prototype.getLocaleName=function(e){return this.translation?this.translation.getLocaleName(e):r.getLocaleName(e)},t.prototype.reset=function(){this.itemValues=[],this.fillItems()},t.prototype.fillLocales=function(e){for(var t=0;t<this.items.length;t++)this.items[t].fillLocales(e)},t.prototype.makeObservable=function(){e.prototype.makeObservable.call(this);for(var t=0;t<this.items.length;t++)this.items[t].makeObservable()},Object.defineProperty(t.prototype,"showAllStrings",{get:function(){return!this.translation||this.translation.showAllStrings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasItems",{get:function(){if(this.locItems.length>0)return!0;for(var e=this.groups,t=0;t<e.length;t++)if(e[t].hasItems)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.mergeLocaleWithDefault=function(e){this.itemValues.forEach((function(t){return t.mergeLocaleWithDefault(e)}))},t.prototype.fillItems=function(){if(this.isItemValueArray(this.obj))this.createItemValuesLocale();else if(this.obj&&this.obj.getType){for(var e=this.getLocalizedProperties(this.obj),o=0;o<e.length;o++){var i=e[o],n=this.createTranslationItem(this.obj,e[o]);n&&this.itemValues.push(n)}e=this.getArrayProperties(this.obj);for(o=0;o<e.length;o++){i=e[o];var s=this.obj[i.name];if(this.isItemValueArray(s)){var a=new t(i.name,s,this.translation,r.getPropertyName(i.name),!0);a.hasItems&&this.itemValues.push(a)}else this.createGroups(s,i)}this.sortItems()}},t.prototype.sortItems=function(){u.translation.sortByName&&this.itemValues.sort((function(e,t){return e.name?t.name?e.name.localeCompare(t.name):1:-1}))},t.prototype.getLocalizedProperties=function(e){for(var t=[],o=n.Serializer.getPropertiesByObj(e),i=0;i<o.length;i++){var r=o[i];r.isSerializable&&r.isLocalizable&&(!r.readOnly&&r.visible&&t.push(r))}return t},t.prototype.getArrayProperties=function(e){for(var t=[],o=n.Serializer.getPropertiesByObj(e),i=0;i<o.length;i++){var r=o[i];if(!1!==r.isSerializable){var s=e[r.name];s&&Array.isArray(s)&&s.length>0&&t.push(r)}}return t},t.prototype.createTranslationItem=function(e,t){var o=this.getDefaultValue(e,t),i=e[t.serializationProperty];return i&&(this.showAllStrings||o||!i.isEmpty)?this.translation&&!this.translation.canShowProperty(e,t,i.isEmpty)?null:new Qe(t.name,i,o,this.translation,e,t):null},t.prototype.getDefaultValue=function(e,t){if("title"==t.name&&t.isLocalizable&&t.serializationProperty){var o=e[t.serializationProperty];if(o&&"page"!=e.getType()&&(o.onGetTextCallback||o.onRenderedHtmlCallback))return e.name}return""},t.prototype.isItemValueArray=function(e){return!!e&&Array.isArray(e)&&e.length>0&&!!e[0]&&!!e[0].getType&&!!e[0].setData&&!!e[0].setLocText},t.prototype.createGroups=function(e,o){for(var i=0;i<e.length;i++){var n=e[i];if(n&&n.getType){var s=n.name,a=n.title||s;if(!s){var l="["+i.toString()+"]";s=o.name+l,a=r.getPropertyName(o.name)+l}var u=new t(s,n,this.translation,a);u.hasItems&&this.itemValues.push(u)}}},t.prototype.createItemValuesLocale=function(){for(var e=0;e<this.obj.length;e++){var t=this.obj[e];if(this.showAllStrings||!t.locText.isEmpty||isNaN(t.value)){var o=new Qe(t.value,t.locText,t.value,this.translation,t);this.itemValues.push(o),this.addCustomPropertiesForItemValue(this.obj[e],o)}}},t.prototype.addCustomPropertiesForItemValue=function(e,t){for(var o=this.getLocalizedProperties(e),i=0;i<o.length;i++)if("text"!=o[i].name){var n=this.createTranslationItem(e,o[i]);n&&(n.customText=t.text+" ("+n.localizableName+")",n.name=e.value+"."+n.name,this.itemValues.push(n))}},p([Object(n.property)({defaultValue:!0})],t.prototype,"showHeader",void 0),t}(Be),Ue=function(e){function t(t,o,i){void 0===o&&(o=null),void 0===i&&(i=!0);var n=e.call(this)||this;n.options=o,n.hasUI=i,n.chooseLanguageActions=[],n.options||(n.options=new c);var r=n;return n.exportToCSVFileUI=function(){r.exportToSCVFile("survey_translation.csv")},n.importFromCSVFileUI=function(e){e.files.length<1||(r.importFromCSVFile(e.files[0]),e.value="")},n.settingsSurveyValue=n.createSettingsSurvey(),n.survey=t,n.setupToolbarItems(),n}return d(t,e),t.prototype.getType=function(){return"translation"},t.prototype.makeObservable=function(e){this.onBaseObjCreatingCallback=e,this.fireOnObjCreating(this),this.root.makeObservable()},t.prototype.fireOnObjCreating=function(e){this.onBaseObjCreatingCallback&&this.onBaseObjCreatingCallback(e)},Object.defineProperty(t.prototype,"settingsSurvey",{get:function(){return this.settingsSurveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localesQuestion",{get:function(){return this.settingsSurvey.getQuestionByName("locales")},enumerable:!1,configurable:!0}),t.prototype.createSettingsSurvey=function(){var e=this,t=this.getSettingsSurveyJSON();be(t);var o=this.options.createSurvey(t,"translation_settings");return o.css=B,o.css.root+=" st-properties",o.onValueChanged.add((function(t,o){"locales"==o.name&&e.updateLocales()})),o.onGetPanelTitleActions.add((function(t,o){if("languages"==o.panel.name){var i=new n.Action({id:"svc-translation-choose-language",iconName:"icon-add",component:"sv-action-bar-item-dropdown",popupModel:e.chooseLanguagePopupModel,action:function(t){e.chooseLanguagePopupModel.toggleVisibility()}});o.titleActions=[i]}})),o},t.prototype.updateLocales=function(){if(this.localesQuestion){var e=[""],t=this.localesQuestion.value;Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)e.push(t[o]);this.locales=e,this.canMergeLocaleWithDefault=this.hasLocale(this.defaultLocale)}},t.prototype.getSettingsSurveyJSON=function(){var e=this.getLocaleName("");return{elements:[{type:"panel",name:"languages",elements:[{type:"checkbox",name:"defaultLanguage",titleLocation:"hidden",readOnly:!0,choices:[e],defaultValue:[e]},{type:"checkbox",name:"locales",choicesVisibleIf:"{selLocales} contains {item}",titleLocation:"hidden",maxSelectedChoices:u.translation.maximumSelectedLocales}],title:r.getString("ed.translationLanguages")}]}},t.prototype.getSurveyLocales=function(){for(var e=new Array,t=n.surveyLocalization.supportedLocales,o=Array.isArray(t)&&t.length>0?t:n.surveyLocalization.getLocales(),i={},r=0;r<o.length;r++)this.addLocaleIntoChoices(o[r],e,i);(o=this.settingsSurvey.getValue("selLocales"))||(o=[]);for(r=0;r<o.length;r++)this.addLocaleIntoChoices(o[r],e,i);return[e,o]},t.prototype.updateSettingsSurveyLocales=function(){var e=this.getSurveyLocales(),t=e[0],o=e[1];this.localesQuestion.choices=t;var i=[];o||(o=[]);for(var n=0;n<o.length;n++)this.localeInitialVisibleCallback&&!this.localeInitialVisibleCallback(o[n])||i.push(o[n]);var r=u.translation.maximumSelectedLocales;r>0&&i.length>r&&i.splice(r),this.localesQuestion.value=i},t.prototype.resetStringsSurvey=function(){this.hasUI&&(this.stringsSurvey=this.createStringsSurvey(),this.stringsHeaderSurvey=this.createStringsHeaderSurvey(),this.updateReadOnly())},t.prototype.createStringsSurvey=function(){var e=this,t={autoGrowComment:!0};be(t,!1);var o=this.options.createSurvey(t,"translation_strings");o.lazyRendering=!0,o.skeletonComponentName="sd-translation-line-skeleton",o.startLoadingFromJson(),o.css=ze,o.addNewPage("page"),this.addTranslationGroupIntoStringsSurvey(o.pages[0],this.root,null),o.data=this.getStringsSurveyData(o),o.endLoadingFromJson();var i=function(e,t){var o=n.ItemValue.getItemByValue(e.rows,t);return o?o.translationData:null};return o.onMatrixCellCreated.add((function(t,o){if(o.cell.question instanceof n.QuestionCommentModel){var r=o.cell.question,s=i(o.question,o.row.name);e.setPlaceHolder(r,s,o.columnName);var a=!!s&&s.locString.getIsMultiple();r.acceptCarriageReturn=a,s&&(r.maxLength=s.maxLength),a||(r.rows=1)}})),o.onMatrixCellValueChanged.add((function(t,o){var n=i(o.question,o.row.name);n&&(n.setLocText(o.columnName,o.value),"default"==o.columnName&&o.row.cells.forEach((function(t){e.updateCellPlaceholdersByDefault(t,o.value,n)})))})),o.currentPage=o.pages[0],o},t.prototype.setPlaceHolder=function(e,t,o){var i=t.context,s=r.getString("ed.translationPlaceHolder",o);i instanceof n.SurveyModel?e.placeHolder=n.surveyLocalization.getString(t.name,o)||s:i instanceof n.PageModel||"title"!==t.name?e.placeHolder=s:e.placeHolder=i[t.name]||i.name},t.prototype.updateCellPlaceholdersByDefault=function(e,t,o){t?e.question.placeHolder=t:this.setPlaceHolder(e.question,o,e.column.name)},t.prototype.createStringsHeaderSurvey=function(){var e={};be(e,!1);var t=this.options.createSurvey(e,"translation_strings_header");t.css=ze;var o=t.addNewPage("page"),i=n.Serializer.createClass("matrixdropdown");return i.name="stringsHeader",i.titleLocation="hidden",this.addLocaleColumns(i),o.addQuestion(i),t.currentPage=t.pages[0],t},t.prototype.addTranslationGroupIntoStringsSurvey=function(e,t,o){for(var i=0;i<t.items.length;i++)if(!t.items[i].isGroup){var r=t.items[i];if(0==e.questions.length){var s=n.Serializer.createClass("matrixdropdown");s.cellType="comment",s.titleLocation="hidden",s.name=this.getStringsSurveyQuestionName(t,o),s.showHeader=!1,e.addQuestion(s),this.addLocaleColumns(s)}var a=e.questions[0],l=new n.ItemValue(r.name,r.text);l.translationData=r,a.rows.push(l)}for(i=0;i<t.items.length;i++)if(t.items[i].isGroup){r=t.items[i];var u=n.Serializer.createClass("panel");u.name=r.name,e.addElement(u),u.title=r.text,r.hasIndent&&(u.cssClasses.panel.content+=" st-panel-indent"),this.addTranslationGroupIntoStringsSurvey(u,r,t)}},t.prototype.addLocaleColumns=function(e){var t=this.getSelectedLocales();e.rowTitleWidth="300px";var o="calc((100% - "+e.rowTitleWidth+")/"+(t.length+1)+")";e.addColumn("default",this.getLocaleName("")).width=o;for(var i=0;i<t.length;i++){e.addColumn(t[i],this.getLocaleName(t[i])).width=o}},t.prototype.getStringsSurveyQuestionName=function(e,t){return null==t||e.obj.name==e.name?e.name+"_props":t.name+"_"+e.name},t.prototype.getStringsSurveyData=function(e){for(var t={},o=e.getAllQuestions(),i=0;i<o.length;i++)t[o[i].name]=this.getStringsQuestionData(o[i]);return t},t.prototype.getStringsQuestionData=function(e){for(var t={},o=0;o<e.rows.length;o++){var i=e.rows[o],n=i.translationData.toJSON();n&&(t[i.value]=n)}return t},t.prototype.updateHeaderStringsSurveyColumns=function(){if(this.stringsHeaderSurvey){var e=this.stringsHeaderSurvey.getQuestionByName("stringsHeader");e.columns=[],this.addLocaleColumns(e)}},t.prototype.updateStringsSurveyColumns=function(){if(this.stringsSurvey)for(var e=this.stringsSurvey.getAllQuestions(),t=0;t<e.length;t++){var o=e[t];o.beginUpdate(),o.columns=[],this.addLocaleColumns(o),o.endUpdate()}},t.prototype.addLocaleIntoChoices=function(e,t,o){e&&!o[e]&&(o[e]=!0,t.push(new n.ItemValue(e,r.getLocaleName(e))))},t.prototype.addLocaleIntoValue=function(e,t){this.addLocaleIntoValueCore("selLocales",e),t&&this.addLocaleIntoValueCore("locales",e)},t.prototype.addLocaleIntoValueCore=function(e,t){if(t){var o=this.settingsSurvey.getValue(e);Array.isArray(o)||(o=[]),o.indexOf(t)<0&&("locales"!==e||o.length<u.translation.maximumSelectedLocales)&&(o.push(t),this.settingsSurvey.setValue(e,o))}},t.prototype.isLocaleVisible=function(e){return e!==n.surveyLocalization.defaultLocale&&!this.hasLocale(e)},t.prototype.setupToolbarItems=function(){var e=this;this.chooseLanguageActions=this.getSurveyLocales()[0].map((function(t){return{id:t.value,title:t.text,data:t,visible:e.isLocaleVisible(t.value)}})),this.chooseLanguagePopupModel=new n.PopupModel("sv-list",{model:new n.ListModel(this.chooseLanguageActions,(function(t){e.addLocale(t.id),e.chooseLanguagePopupModel.toggleVisibility()}),!1)},"bottom","left")},t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),"canMergeLocaleWithDefault"===t&&(this.mergeLocaleWithDefaultText=this.getMergeLocaleWithDefaultText()),"locales"===t&&(this.updateHeaderStringsSurveyColumns(),this.updateStringsSurveyColumns())},t.prototype.getMergeLocaleWithDefaultText=function(){if(!this.canMergeLocaleWithDefault)return"";var e=this.getLocaleName(this.defaultLocale);return r.getString("ed.translationMergeLocaleWithDefault").format(e)},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},set:function(e){this.surveyValue=e,this.reset()},enumerable:!1,configurable:!0}),t.prototype.reset=function(){var e=this.filteredPage?this.filteredPage:this.survey,t=this.filteredPage?e.name:"survey";this.root=new Fe(t,e,this),this.root.setAsRoot(),this.root.reset(),this.resetLocales(),this.isEmpty=!this.root.hasItems,this.updateSettingsSurveyLocales(),this.updateLocales(),this.resetStringsSurvey()},t.prototype.updateReadOnly=function(){this.stringsSurvey&&(this.stringsSurvey.mode=this.readOnly?"display":"edit")},t.prototype.canShowProperty=function(e,t,o){var i=!o||R.isPropertyVisible(e,t,this.options);return this.translationStringVisibilityCallback?this.translationStringVisibilityCallback(e,t.name,i):i},Object.defineProperty(t.prototype,"defaultLocale",{get:function(){return n.surveyLocalization.defaultLocale},enumerable:!1,configurable:!0}),t.prototype.getLocaleName=function(e){return r.getLocaleName(e,this.defaultLocale)},t.prototype.removeLocale=function(e){if(this.hasLocale(e)){var t=this.locales.indexOf(e),o=this.locales;o.splice(t,1),this.locales=o,this.canMergeLocaleWithDefault=this.hasLocale(this.defaultLocale)}},t.prototype.hasLocale=function(e){for(var t=this.locales,o=0;o<t.length;o++)if(t[o]==e)return!0;return!1},t.prototype.addLocale=function(e){this.hasLocale(e)||this.addLocaleIntoValue(e,!0);var t=this.chooseLanguageActions.filter((function(t){return t.id===e}));Array.isArray(t)&&1==t.length&&(t[0].visible=this.isLocaleVisible(e))},t.prototype.resetLocales=function(){var e=[""];this.root.fillLocales(e),this.setLocales(e)},t.prototype.getSelectedLocales=function(){var e=this.localesQuestion.value;return Array.isArray(e)?e:[]},t.prototype.setSelectedLocales=function(e){this.localesQuestion.value=e},Object.defineProperty(t.prototype,"noStringsText",{get:function(){return r.getString("ed.translationNoStrings")},enumerable:!1,configurable:!0}),t.prototype.exportToCSV=function(){var e=[],o=[],i=this.locales;o.push("description â†“ - language â†’");for(var n=0;n<i.length;n++)o.push(i[n]?i[n]:"default");e.push(o);var r={};for(var s in this.fillItemsHash("",this.root,r),r){var a=[s],l=r[s];for(n=0;n<i.length;n++){var c=l.locString.getLocaleText(i[n]);a.push(c||0!=n?c:l.defaultValue)}e.push(a)}var p=u.translation.exportPrefix;return p||(p=""),p+Object(ce.unparse)(e,{quoteChar:'"',escapeChar:'"',delimiter:t.csvDelimiter,header:!0,newline:t.newLineDelimiter,skipEmptyLines:!1,columns:null})},t.prototype.importFromNestedArray=function(e){var o=this,i=e.shift().slice(1);"default"===i[0]&&(i[0]="");var n=new t(this.survey,this.options,!1);n.showAllStrings=!0;var r={};this.fillItemsHash("",n.root,r),e.forEach((function(e){var t=e.shift().trim();if(t){var n=r[t];n&&o.updateItemWithStrings(n,e,i)}})),this.reset(),this.importFinishedCallback&&this.importFinishedCallback()},t.prototype.exportToSCVFile=function(e){var t=this.exportToCSV(),o=new Blob([t],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(o,e);else{var i=window.document.createElement("a");i.href=window.URL.createObjectURL(o),i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},t.prototype.importFromCSVFile=function(e){var t=this;Object(ce.parse)(e,{complete:function(e,o){t.importFromNestedArray(e.data)}})},t.prototype.mergeLocaleWithDefault=function(){this.hasLocale(this.defaultLocale)&&(this.root.mergeLocaleWithDefault(this.defaultLocale),this.settingsSurveyValue.setValue("selLocales",[]),this.settingsSurveyValue.setValue("locales",[]),this.reset())},t.prototype.translateItemAfterRender=function(e,t,o){if(this.translateItemAfterRenderCallback){if(Array.isArray(t))for(var i=0;i<t.length;i++)if("TEXTAREA"==t[i].tagName){t=t[i];break}this.translateItemAfterRenderCallback(e,t,o)}},t.prototype.updateItemWithStrings=function(e,t,o){for(var i=0;i<t.length&&i<o.length;i++){var n=t[i].trim();n&&(e.values(o[i]).text=n)}},t.prototype.fillItemsHash=function(e,t,o){var i=this,n=e?e+"."+t.name:t.name;t.locItems.forEach((function(e){o[n+"."+e.name]=e})),t.groups.forEach((function(e){return i.fillItemsHash(n,e,o)}))},t.prototype.setLocales=function(e){this.settingsSurvey.setValue("setLocales",[]),this.localesQuestion.value=[];for(var t=0;t<e.length;t++)this.addLocaleIntoValue(e[t],!1)},t.prototype.dispose=function(){this.importFinishedCallback=void 0,this.availableTranlationsChangedCallback=void 0,this.tranlationChangedCallback=void 0},t.csvDelimiter=",",t.newLineDelimiter="\n",p([Object(n.propertyArray)()],t.prototype,"locales",void 0),p([Object(n.property)()],t.prototype,"canMergeLocaleWithDefault",void 0),p([Object(n.property)()],t.prototype,"mergeLocaleWithDefaultText",void 0),p([Object(n.property)({defaultValue:!1,onSet:function(e,t){t.updateReadOnly()}})],t.prototype,"readOnly",void 0),p([Object(n.property)()],t.prototype,"root",void 0),p([Object(n.property)({defaultValue:!1,onSet:function(e,t){t.reset()}})],t.prototype,"showAllStrings",void 0),p([Object(n.property)({onSet:function(e,t){t.reset()}})],t.prototype,"filteredPage",void 0),p([Object(n.property)()],t.prototype,"stringsSurvey",void 0),p([Object(n.property)()],t.prototype,"stringsHeaderSurvey",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"isEmpty",void 0),t}(n.Base),Ge=function(){function e(e){this.creator=e,e.addPluginTab("translation",this),this.sidebarTab=this.creator.sidebar.addTab("translation"),this.sidebarTab.caption=r.getString("ed.translationPropertyGridTitle"),this.createActions().forEach((function(t){return e.toolbar.actions.push(t)}))}return e.prototype.activate=function(){var e=this;this.model=new Ue(this.creator.survey,this.creator),this.model.readOnly=this.creator.readOnly,this.model.translationStringVisibilityCallback=function(t,o,i){var n={obj:t,propertyName:o,visible:i};return!e.creator.onTranslationStringVisibility.isEmpty&&e.creator.onTranslationStringVisibility.fire(self,n),n.visible},this.model.localeInitialVisibleCallback=function(t){var o={locale:t,isSelected:!0};return e.creator.onTranslationLocaleInitiallySelected.fire(e.creator,o),o.isSelected},this.sidebarTab.model=this.model.settingsSurvey,this.sidebarTab.componentName="survey-widget",this.creator.sidebar.activeTab=this.sidebarTab.id,this.mergeLocaleWithDefaultAction.title=this.model.mergeLocaleWithDefaultText,this.mergeLocaleWithDefaultAction.tooltip=this.model.mergeLocaleWithDefaultText,this.mergeLocaleWithDefaultAction.visible=this.model.canMergeLocaleWithDefault,this.filterPageAction.visible=this.creator.survey.pageCount>1,this.updateFilterPageAction(!0),this.filterStringsAction.visible=!0,this.updateFilterStrigsAction(!0),this.importCsvAction.visible=!0,this.exportCsvAction.visible=!0,this.pagePopupModel.contentComponentData.model.setItems([{id:null,title:this.showAllPagesText}].concat(this.creator.survey.pages.map((function(t){return{id:t.name,title:e.creator.getObjectDisplayName(t,"survey-translation",t.title)}}))),!1),this.model.onPropertyChanged.add((function(t,o){"filteredPage"===o.name&&e.updateFilterPageAction(),"showAllStrings"===o.name&&e.updateFilterStrigsAction(),"canMergeLocaleWithDefault"===o.name&&(e.mergeLocaleWithDefaultAction.visible=e.model.canMergeLocaleWithDefault),"mergeLocaleWithDefaultText"===o.name&&(e.mergeLocaleWithDefaultAction.title=e.model.mergeLocaleWithDefaultText,e.mergeLocaleWithDefaultAction.tooltip=e.model.mergeLocaleWithDefaultText)})),this.model.reset()},e.prototype.update=function(){this.model&&(this.model.survey=this.creator.survey)},e.prototype.deactivate=function(){return this.model=void 0,this.sidebarTab.visible=!1,this.filterStringsAction.visible=!1,this.filterPageAction.visible=!1,this.mergeLocaleWithDefaultAction.visible=!1,this.importCsvAction.visible=!1,this.exportCsvAction.visible=!1,!0},Object.defineProperty(e.prototype,"selectLanguageOptionsCaption",{get:function(){return r.getString("ed.translationAddLanguage")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showAllStringsText",{get:function(){return r.getString("ed.translationShowAllStrings")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showUsedStringsOnlyText",{get:function(){return r.getString("ed.translationShowUsedStringsOnly")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showAllPagesText",{get:function(){return r.getString("ed.translationShowAllPages")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportToCSVText",{get:function(){return r.getString("ed.translationExportToSCVButton")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"importFromCSVText",{get:function(){return r.getString("ed.translationImportFromSCVButton")},enumerable:!1,configurable:!0}),e.prototype.createActions=function(){var e=this,t=[],o=r.getString("ed.translationMergeLocaleWithDefault").format("");return this.createFilterPageAction(),t.push(this.filterPageAction),this.createFilterStringsAction(),t.push(this.filterStringsAction),this.mergeLocaleWithDefaultAction=new n.Action({id:"svd-translation-merge_locale_withdefault",visible:!1,title:o,tooltip:o,component:"sv-action-bar-item",mode:"small",needSeparator:!0,action:function(){e.model.mergeLocaleWithDefault()}}),t.push(this.mergeLocaleWithDefaultAction),this.importCsvAction=new n.Action({id:"svc-translation-import",iconName:"icon-import",tooltip:this.importFromCSVText,title:this.importFromCSVText,visible:!1,mode:"small",component:"sv-action-bar-item",needSeparator:!0,action:function(){document&&(e.inputFileElement||(e.inputFileElement=document.createElement("input"),e.inputFileElement.type="file",e.inputFileElement.style.display="none",e.inputFileElement.onchange=function(){e.model.importFromCSVFileUI(e.inputFileElement)}),e.inputFileElement.click())}}),t.push(this.importCsvAction),this.exportCsvAction=new n.Action({id:"svc-translation-export",iconName:"icon-export",tooltip:this.exportToCSVText,title:this.exportToCSVText,visible:!1,mode:"small",component:"sv-action-bar-item",action:function(){e.model.exportToSCVFile("survey_translation.csv")}}),t.push(this.exportCsvAction),t},e.prototype.createFilterPageAction=function(){var e=this;this.pagePopupModel=new n.PopupModel("sv-list",{model:new n.ListModel([{id:null,title:this.showAllPagesText}],(function(t){e.model.filteredPage=t.id?e.creator.survey.getPageByName(t.id):null,e.pagePopupModel.toggleVisibility()}),!0)},"bottom","center"),this.filterPageAction=new n.Action({id:"svc-translation-filter-page",title:this.getFilterPageActionTitle(),visible:!1,component:"sv-action-bar-item-dropdown",mode:"small",popupModel:this.pagePopupModel,action:function(t){e.pagePopupModel.toggleVisibility()}})},e.prototype.createFilterStringsAction=function(){var e=this;this.stringsPopupModel=new n.PopupModel("sv-list",{model:new n.ListModel([{id:"show-all-strings",title:this.showAllStringsText},{id:"show-used-strings-only",title:this.showUsedStringsOnlyText}],(function(t){e.model.showAllStrings="show-all-strings"===t.id,e.stringsPopupModel.toggleVisibility()}),!0)},"bottom","center"),this.filterStringsAction=new n.Action({id:"svc-translation-show-all-strings",title:this.getFilterStringsActionTitle(),visible:!1,component:"sv-action-bar-item-dropdown",mode:"small",popupModel:this.stringsPopupModel,action:function(){e.stringsPopupModel.toggleVisibility()}})},e.prototype.updateFilterStrigsAction=function(e){void 0===e&&(e=!1);var t=this.getFilterStringsActionTitle();if(this.filterStringsAction.title=t,e){this.filterStringsAction.needSeparator=this.filterPageAction.visible;var o=this.stringsPopupModel.contentComponentData.model;o.selectedItem=o.actions.filter((function(e){return e.title===t}))[0]}},e.prototype.updateFilterPageAction=function(e){if(void 0===e&&(e=!1),this.filterPageAction.title=this.getFilterPageActionTitle(),e){var t=this.pagePopupModel.contentComponentData.model,o=this.model.filteredPage?this.model.filteredPage.name:null;t.selectedItem=t.actions.filter((function(e){return e.id===o}))[0]}},e.prototype.getFilterPageActionTitle=function(){return this.model&&this.model.filteredPage&&this.creator.getObjectDisplayName(this.model.filteredPage,"survey-translation",this.model.filteredPage.title)||this.showAllPagesText},e.prototype.getFilterStringsActionTitle=function(){return this.model&&!this.model.showAllStrings?this.showUsedStringsOnlyText:this.showAllStringsText},e}(),Je={root:"",container:"",header:"",body:"",bodyEmpty:"",footer:"",title:"",description:"",logo:"",logoImage:"",headerText:"",navigationButton:"",completedPage:"",navigation:{complete:"",prev:"",next:"",start:"",preview:"",edit:""},panel:{title:"",titleExpandable:"",titleOnExpand:"",titleOnError:"",description:"",container:"sl-panel",content:"",icon:"",iconExpanded:"",footer:"sl-panel__footer",requiredText:"sl-panel__required-text"},paneldynamic:{mainRoot:"",root:"",navigation:"",title:"",button:"",buttonRemove:"",buttonAdd:"svc-logic-operator sl-paneldynamic__add-btn",progressTop:"",progressBottom:"",buttonPrev:"",buttonNext:"",progressContainer:"",progress:"",progressBar:"",progressText:"",separator:"sv-hidden",panelWrapper:"",panelWrapperInRow:"sl-panel-wrapper--in-row"},progress:"",progressBar:"",progressText:"",progressTextInBar:"",page:{root:"",title:"",description:""},pageTitle:"",pageDescription:"",row:"sl-row",rowMultiple:"sl-row--multiple",question:{mainRoot:"sl-question",flowRoot:"",asCell:"",header:"sl-question__header",headerLeft:"sl-question__header--left",headerTop:"",headerBottom:"",content:"",contentLeft:"",titleLeftRoot:"",titleOnAnswer:"",titleOnError:"",title:"sl-question__title",requiredText:"sl-question__required-text",number:"",description:"",descriptionUnderInput:"",comment:"",required:"",titleRequired:"",indent:0,footer:"",formGroup:"",hasError:"",disabled:""},image:{root:""},error:{root:"",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"",item:"",itemSelectAll:"",itemNone:"",itemDisabled:"",itemChecked:"",itemHover:"",itemInline:"",label:"",labelChecked:"",itemControl:"",itemDecorator:"",controlLabel:"",materialDecorator:"",other:"",column:""},radiogroup:{root:"",item:"",itemInline:"",label:"",labelChecked:"",itemDisabled:"",itemChecked:"",itemHover:"",itemControl:"",itemDecorator:"",controlLabel:"",materialDecorator:"",other:"",clearButton:"",column:""},boolean:{mainRoot:"",root:"",item:"",control:"",itemChecked:"",itemIndeterminate:"",itemDisabled:"",label:"",switch:"",disabledLabel:"",itemDecorator:"",materialDecorator:"",sliderText:"",slider:""},text:{root:"",small:"",controlDisabled:"",onError:""},multipletext:{root:"",item:"",itemTitle:"",row:"",cell:""},dropdown:{root:"",small:"",control:"",selectWrapper:"",other:"",onError:"",label:"",item:"",itemDisabled:"",itemChecked:"",itemHover:"",itemControl:"",itemDecorator:"",controlDisabled:"",controlLabel:"",materialDecorator:""},imagepicker:{root:"",item:"",itemInline:"",itemChecked:"",itemDisabled:"",itemHover:"",label:"",itemControl:"",image:"",itemText:"",clearButton:"",other:""},matrix:{mainRoot:"",tableWrapper:"",root:"",row:"",rowAdditional:"",rowError:"",cell:"",headerCell:"",label:"",itemValue:"",itemChecked:"",itemDisabled:"",itemHover:"",materialDecorator:"",itemDecorator:"",cellText:"",cellTextSelected:"",cellTextDisabled:""},matrixdropdown:{mainRoot:"",root:"",row:"",rowAdditional:"",cell:"",headerCell:""},matrixdynamic:{mainRoot:"sl-question st-row__question st-scrollable",root:"sl-table st-matrixdynamic",row:"sl-table__row",rowAdditional:"sl-table__row--additional",cell:"sl-table__cell",headerCell:"sl-table__cell st-table__cell--header",button:"sl-btn",detailRow:"sl-table__row st-table__row--detail",detailButton:"sl-table__cell--detail-button",detailButtonExpanded:"sl-table__cell--detail-button--expanded",detailIcon:"sl-detail-panel__icon",detailIconExpanded:"sl-detail-panel__icon--expanded",detailPanelCell:"sl-table__cell--detail-panel",actionsCell:"sl-table__cell sl-table__cell--actions st-table__cell--actions",buttonAdd:"sl-matrixdynamic__add-btn",buttonRemove:"sl-matrixdynamic__remove-btn",iconAdd:"",iconRemove:""},rating:{root:"",item:"",itemHover:"",selected:"",minText:"",itemText:"",maxText:"",itemDisabled:""},comment:{mainRoot:"",root:"spg-comment sl-comment",small:""},expression:"",file:{root:"",other:"",placeholderInput:"",preview:"",fileSign:"",fileSignBottom:"",fileDecorator:"",fileInput:"",noFileChosen:"",chooseFile:"",disabled:"",removeButton:"",removeButtonBottom:"",removeFile:"",removeFileSvg:"",wrapper:""},signaturepad:{root:"",small:"",controls:"",placeholder:"",clearButton:""},saveData:{root:"",saving:"",error:"",success:"",saveAgainButton:""},window:{root:"",body:"",header:{root:"",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},embeddedsurvey:{mainRoot:"sl-embedded-survey"}},We=function(){this.conjunction="and",this.operator="equal"},Ke=function(e){function t(t){var o=e.call(this)||this;return o.survey=t,o}return d(t,e),t.prototype.getOperatorText=function(){var e=this.operator;return"equal"==e?"=":"notequal"==e?"<>":"greater"==e?">":"less"==e?"<":"greaterorequal"==e?">=":"lessorequal"==e?"<=":e},t.prototype.getValueText=function(){var e=this.value;if(!e)return e;if(!Array.isArray(e))return this.valToText(e);for(var t="[",o=0;o<e.length;o++)t+=this.valToText(e[o]),o<e.length-1&&(t+=", ");return t+="]"},Object.defineProperty(t.prototype,"isValueRequired",{get:function(){return"empty"!==this.operator&&"notempty"!==this.operator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return!(!this.questionName||this.isValueRequired&&n.Helpers.isValueEmpty(this.value))},enumerable:!1,configurable:!0}),t.prototype.toExpression=function(){var e=k(this.getQuestionValueByName())+" "+this.getOperatorText();return this.isValueRequired&&(e+=" "+this.getValueText()),e},t.prototype.getQuestionValueByName=function(){var e=this.survey.getQuestionByName(this.questionName);return e&&e.name!=e.getValueName()&&this.questionName!=e.getValueName()?this.questionName.replace(e.name,e.getValueName()):this.questionName},t.prototype.valToText=function(e){return"true"==e||"false"==e||this.isNumeric(e)?e:"["==e[0]?e.replace(/(?!^)(['])(?!$)/g,"\\$1"):(this.isQuote(e[0])||(e="'"+e),this.isQuote(e[e.length-1])||(e+="'"),e.replace(/(?!^)(['"])(?!$)/g,"\\$1"))},t.prototype.isNumeric=function(e){return!("string"==typeof e&&e.length>1&&"0"===e[0]&&"x"!==e[1])&&!isNaN(e)},t.prototype.isQuote=function(e){return"'"==e||'"'==e},t}(We),Xe=function(){function e(e){void 0===e&&(e=null),this.hasValue=e}return e.prototype.build=function(e){if(!e)return[];var t;return(t=(new n.ConditionsParser).parseExpression(e))?this.buildEditorItems(t):[]},e.prototype.buildEditorItems=function(e){var t=[];return this.buildEditorItemsCore(e,t,"")||(t=[]),t},e.prototype.buildEditorItemsCore=function(e,t,o){if("unary"==e.getType())return this.buildEditorItemsAddUnaryOperand(e,t);if("binary"!==e.getType())return!1;var i=e;return!(i.isArithmetic&&!i.isConjunction)&&(i.isConjunction?this.buildEditorItemsAddConjunction(i,t,o):this.buildEditorItemsAddBinaryOperand(i,t))},e.prototype.buildEditorItemsAddConjunction=function(e,t,o){var i=e.conjunction;if("or"==i&&o&&o!=i)return!1;if(!this.buildEditorItemsCore(e.leftOperand,t,i))return!1;var n=t.length;return!!this.buildEditorItemsCore(e.rightOperand,t,i)&&(t[n].conjunction=e.conjunction,!0)},e.prototype.buildEditorItemsAddBinaryOperand=function(e,t){var o=this.getOperandByType(e,"variable"),i=this.getArrayValueFromOperand(e),n=i?null:this.getOperandByType(e,"const");if(!o||!n&&!i&&this.canShowValueByOperator(e.operator))return!1;if(!this.isVariableInSurvey(o.variable))return!1;var r=new We;return r.questionName=o.variable,r.operator=e.leftOperand!==o?this.getOppositeOperator(e.operator):e.operator,i&&(r.value=i),n&&(r.value=n.correctValue),t.push(r),!0},e.prototype.isVariableInSurvey=function(e){return!this.hasValue||this.hasValue(e)},e.prototype.getArrayValueFromOperand=function(e){var t=this.getOperandByType(e,"array");if(!t||!t.values)return null;var o=t.values;if(!Array.isArray(o)||0==o.length)return null;for(var i=[],n=0;n<o.length;n++){var r=o[n];if(r){if("const"!=r.getType())return null;i.push(r.correctValue)}}return 0==i.length?null:i},e.prototype.buildEditorItemsAddUnaryOperand=function(e,t){var o=e.operator;if("empty"!==o&&"notempty"!=o)return!1;var i=e.expression;if(null==i||"variable"!=i.getType())return!1;var n=i.variable;if(!this.isVariableInSurvey(n))return!1;var r=new We;return r.questionName=n,r.operator=o,t.push(r),!0},e.prototype.getOppositeOperator=function(e){return"less"==e?"greater":"greater"==e?"less":"lessorequal"==e?"greaterorequal":"greaterorequal"==e?"lessorequal":e},e.prototype.getOperandByType=function(e,t){return e.rightOperand?e.leftOperand.getType()!==t&&e.rightOperand.getType()!==t||e.leftOperand.getType()==t&&e.rightOperand.getType()==t?null:e.leftOperand.getType()==t?e.leftOperand:e.rightOperand:null},e.prototype.canShowValueByOperator=function(e){return"empty"!=e&&"notempty"!=e},e}();n.FunctionFactory.Instance.register("questionValueVisibleIf",(function(e){return 2===e.length&&(!(!e[0]||!e[1])&&("empty"!==e[1]&&"notempty"!==e[1]))}));var $e=function(e){function t(t,o,i,n){void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n="");var r=e.call(this,i)||this;return r.propertyName=n,r.addConditionQuestionsHash={},r.isModalValue=!0,r.isSettingPanelValues=!1,r.calculatedValueQuestion=null,r.surveyValue=t,r.objectValue=o,r.panelValue=r.editSurvey.getQuestionByName("panel"),r.textEditorValue=r.editSurvey.getQuestionByName("textEditor"),r.options.maxLogicItemsInCondition&&(r.panel.maxPanelCount=r.options.maxLogicItemsInCondition),r.allConditionQuestions=r.createAllConditionQuestions(),r.editSurvey.onValueChanged.add((function(e,t){r.onValueChanged(t)})),r.editSurvey.onDynamicPanelAdded.add((function(e,t){r.onPanelAdded()})),r.editSurvey.onDynamicPanelRemoved.add((function(e,t){0==t.question.panelCount&&t.question.addPanel(),r.panel.panelCount>0&&(r.panel.panels[0].getQuestionByName("questionName").titleLocation="left")})),r.editSurvey.onDynamicPanelItemValueChanged.add((function(e,t){r.onPanelValueChanged(t.panel,t.name)})),r.editSurvey.css=Je,r.editSurvey.onUpdateQuestionCssClasses.add((function(e,t){r.onUpdateQuestionCssClasses(t)})),r.text=r.object&&r.propertyName?r.object[r.propertyName]:"",r}return d(t,e),t.canParseExpression=function(e){return!e||!!(new n.ConditionsParser).parseExpression(e)},t.canBuildExpression=function(e){return!e||!!t.canParseExpression(e)&&(new Xe).build(e).length>0},Object.defineProperty(t.prototype,"title",{get:function(){return this.panel.title},set:function(e){this.panel.title=e,this.textEditor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModal",{get:function(){return this.isModalValue},set:function(e){e!==this.isModalValue&&(this.isModalValue=e)},enumerable:!1,configurable:!0}),t.prototype.getSurveyJSON=function(){return{elements:[{type:"paneldynamic",titleLocation:"hidden",name:"panel",panelRemoveButtonLocation:"right",panelAddText:r.getString("pe.addCondition"),minPanelCount:1,maxPanelCount:1,startWithNewLine:!1,templateElements:[{name:"conjunction",type:"dropdown",titleLocation:"hidden",showOptionsCaption:!1,visibleIf:"{panelIndex} > 0",choices:[{value:"and",text:r.getString("pe.and")},{value:"or",text:r.getString("pe.or")}]},{name:"questionName",type:"dropdown",title:r.getString("pe.if"),titleLocation:"left",startWithNewLine:!1,isRequired:!0},{name:"operator",type:"dropdown",titleLocation:"hidden",startWithNewLine:!1,showOptionsCaption:!1,isRequired:!0,enableIf:"{panel.questionName} notempty"},{name:"removeAction",type:"linkvalue",titleLocation:"hidden",showOptionsCaption:!1,visible:!1,startWithNewLine:!1,showValueInLink:!1,allowClear:!1,showClear:!1},{name:"questionValue",type:"text",visible:!1}]},{type:"comment",titleLocation:"hidden",name:"textEditor",textUpdateMode:"onTyping",placeHolder:r.getString("pe.emptyExpressionPlaceHolder"),visible:!1}]}},t.prototype.getSurveyCreationReason=function(){return"condition-builder"},Object.defineProperty(t.prototype,"text",{get:function(){return this.getText()},set:function(e){this.isModal||t.canBuildExpression(e)?(this.textEditor.value=e,this.showBuilder(e)):(this.panel.panelCount=0,this.showTextEditor(e))},enumerable:!1,configurable:!0}),t.prototype.isModified=function(e){if(this.textEditor.visible)return e!=this.text;var t=this.getEditorItems(),o=e?(new n.ConditionsParser).parseExpression(e):null;if(!o)return!(1==t.length&&!t[0].questionName);if(!this.isReady)return!0;var i=(new n.ConditionsParser).parseExpression(this.text);return!o.isEqual(i)},Object.defineProperty(t.prototype,"context",{get:function(){return this.contextValue},set:function(e){e!==this.context&&(this.contextValue=e,this.updateNamesOnContextChanged(),this.onContextChanged&&this.onContextChanged(e))},enumerable:!1,configurable:!0}),t.prototype.processText=function(e){this.panel.panelCount=0;var t=(new Xe).build(e);this.buildPanels(t)},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"object",{get:function(){return this.objectValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textEditor",{get:function(){return this.textEditorValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){if(this.textEditor.visible)return t.canParseExpression(this.textEditor.value);for(var e=0;e<this.panel.panels.length;e++)if(!this.createEditorItemFromPanel(this.panel.panels[e]).isReady)return!1;return!0},enumerable:!1,configurable:!0}),t.prototype.apply=function(){return!!this.isReady&&(this.object&&this.propertyName?(this.object[this.propertyName]=this.text,!0):void 0)},t.prototype.setIsFastEntry=function(e){e?this.showTextEditor(this.text):this.panel.visible||this.showBuilder(this.text)},t.prototype.buildPanels=function(e){this.panel.panelCount=e.length;for(var t=0;t<e.length;t++)this.setItemToPanel(e[t],this.panel.panels[t]);0==this.panel.panelCount&&this.panel.addPanel()},t.prototype.setItemToPanel=function(e,t){this.isSettingPanelValues=!0,t.getQuestionByName("conjunction").value=e.conjunction,t.getQuestionByName("operator").choices=this.getOperators(),t.getQuestionByName("operator").value=e.operator,t.getQuestionByName("questionName").choices=this.getConditionQuestions(),t.getQuestionByName("questionName").titleLocation=0==this.panel.panels.indexOf(t)?"left":"hidden";var o=this.getQuestionNameToPanel(e.questionName);this.getConditionQuestion(o)&&(t.getQuestionByName("questionName").value=o),t.getQuestionByName("questionValue")&&(t.getQuestionByName("questionValue").value=e.value);var i=t.getQuestionByName("removeAction").parentQuestion,n=t.getQuestionByName("removeAction");n.linkClickCallback=function(){i&&i.removePanelUI(t)},n.linkValueText="",n.linkSetButtonCssClasses="svc-logic-condition-remove svc-icon-remove",this.isSettingPanelValues=!1},t.prototype.getConditionQuestions=function(){if(!this.context)return this.allConditionQuestions;for(var e=[],t=0;t<this.allConditionQuestions.length;t++){var o=this.allConditionQuestions[t];o.context&&o.context!==this.context||e.push(o)}return e},t.prototype.getText=function(){if(this.textEditor.visible)return this.textEditor.value;for(var e="",t=this.getEditorItems(),o=0;o<t.length;o++){if(!t[o].isReady)return"";e&&(e+=" "+t[o].conjunction+" "),e+=t[o].toExpression()}return e},t.prototype.getEditorItems=function(){for(var e=[],t=0;t<this.panel.panels.length;t++)e.push(this.createEditorItemFromPanel(this.panel.panels[t]));return e},t.prototype.createEditorItemFromPanel=function(e){var t=new Ke(this.survey);return t.conjunction=e.getQuestionByName("conjunction").value,t.questionName=this.getQuestionNameFromPanel(e.getQuestionByName("questionName").value),t.operator=e.getQuestionByName("operator").value,e.getQuestionByName("questionValue")&&(t.value=e.getQuestionByName("questionValue").value),t},t.prototype.getQuestionNameFromPanel=function(e){if(!this.context||!e)return e;var t=this.context.getValueName()+".";return e.replace(t,"")},t.prototype.getContextIndexInfo=function(e,t){return void 0===t&&(t=""),R.getQuestionContextIndexInfo(e,t)},t.prototype.getQuestionNameToPanel=function(e){if(!this.context||!e)return e;var t=this.getContextIndexInfo(e);return t&&0===t.index?this.context.getValueName()+"."+e:e},t.prototype.getContextFromPanels=function(){if(this.object)return null;for(var e=0;e<this.panel.panels.length;e++){var t=this.panel.panels[e].getQuestionByName("questionName").value,o=this.getContextByQuestionName(t);if(o)return o}return null},t.prototype.updateNamesOnContextChanged=function(){for(var e=0;e<this.panel.panels.length;e++)this.panel.panels[e].getQuestionByName("questionName").choices=this.getConditionQuestions()},t.prototype.getContextByQuestionName=function(e){if(!e)return null;var t=this.getContextIndexInfo(e,".");return t?(e=e.substring(0,t.index),this.survey.getQuestionByValueName(e)):null},t.prototype.createAllConditionQuestions=function(){if(!this.survey)return[];var e=[],t=this.survey.getAllQuestions();if(t.length>0){for(var o=0;o<t.length;o++){var i=t[o];if(this.object!=i){var n=this.object?this.object:!this.context||this.context===i;i.addConditionObjectsByContext(e,n)}}this.options.onConditionQuestionsGetListCallback(this.propertyName,this.object,this,e);for(o=0;o<e.length;o++){e[o].value=e[o].name;i=e[o].question?e[o].question:e[o];if(!this.options.showTitlesInExpressions){var r=e[o].name,s=i.valueName;s&&0==r.indexOf(s)&&(r=r.replace(s,i.name)),e[o].text=this.options.getObjectDisplayName(i,"condition",r)}this.addConditionQuestionsHash[e[o].name]=i}}return this.addValuesIntoConditionQuestions(this.survey.calculatedValues,e),this.addValuesIntoConditionQuestions(this.survey.getVariableNames(),e),R.sortItems(e),e},t.prototype.addValuesIntoConditionQuestions=function(e,t){for(var o=0;o<e.length;o++){var i=e[o].name?e[o].name:e[o];this.addConditionQuestionsHash[i]=this.getCalculatedValueQuestion(),t.push({value:i,text:i,question:this.getCalculatedValueQuestion()})}},t.prototype.getCalculatedValueQuestion=function(){return this.calculatedValueQuestion||(this.calculatedValueQuestion=n.Serializer.createClass("text"),this.calculatedValueQuestion.name="question"),this.calculatedValueQuestion},t.prototype.getOperators=function(){var e=[],t=u.operators;for(var o in t)e.push(new n.ItemValue(o,r.getString("op."+o)));return e},t.prototype.rebuildQuestionValue=function(e){e.getQuestionByName("questionValue")&&e.getQuestionByName("questionValue").clearValue();var t=this.getQuestionConditionJson(e.getQuestionByName("questionName").value,e.getQuestionByName("operator").value);t||(t={type:"text"}),t.isRequired=!0,R.updateQuestionJson(t),t.enableIf="{panel.questionName} notempty and {panel.operator} != 'empty' and {panel.operator} != 'notempty'";var o=n.Serializer.createClass(t.type);delete t.type,(new n.JsonObject).toObject(t,o),o||(o=n.Serializer.createClass("text",t));var i=e.getQuestionByName("questionValue");if(i&&e.removeElement(i),this.canShowQuestionValue(e)){var r=o.title;o.name="questionValue",o.visibleIf="questionValueVisibleIf({panel.questionName}, {panel.operator})",o.title=r,o.description="",o.titleLocation="top",o.hasComment=!1,e.addElement(o)}},t.prototype.rebuildQuestionValueOnOperandChanging=function(e){var t=this.getQuestionConditionJson(e.getQuestionByName("questionName").value,e.getQuestionByName("operator").value),o=e.getQuestionByName("questionValue");!o||!o.isReadOnly&&o.isVisible||o.clearValue(),!o||t&&t.type==o.getType()||this.rebuildQuestionValue(e)},t.prototype.canShowQuestionValue=function(e){var t=e.getQuestionByName("operator");if(!t)return!1;this.updateOperatorEnables(e);for(var o=t.choices,i=0;i<o.length;i++)if(o[i].isEnabled){var n=o[i].value;if("empty"!==n&&"notempty"!=n)return!0}return!1},t.prototype.getConditionQuestion=function(e){return this.addConditionQuestionsHash[e]},t.prototype.getQuestionConditionJson=function(e,t){var o="",i=this.getConditionQuestion(e);if(!i)return null;0==e.indexOf(i.getValueName())&&(o=e.substring(i.getValueName().length));var n=this.getContextIndexInfo(e);n&&0==n.index&&(o=e.substring(n.name.length)),o||(o=e),o&&"."==o[0]&&(o=o.substring(1));var r=i&&i.getConditionJson?i.getConditionJson(t,o):null;return r&&"radiogroup"==r.type&&(r.type="dropdown"),r&&"expression"==r.type&&(r.type="text"),r&&"anyof"==t&&(this.isClassContains(r.type,["checkbox"],[])||(r.type="checkbox")),r||null},t.prototype.updateOperatorEnables=function(e){var t=e.getQuestionByName("questionName");if(t){var o=this.getQuestionConditionJson(t.value,"equal"),i=o?o.type:null,n=e.getQuestionByName("operator");if(n){for(var r=n.choices,s=!0,a=n.value,l=0;l<r.length;l++)r[l].setIsEnabled(this.isOperatorEnabled(i,u.operators[r[l].value])),r[l].value==a&&(s=r[l].isEnabled);s||(n.value=this.getFirstEnabledOperator(r))}}},t.prototype.updateQuestionsWidth=function(e){var t=e.getQuestionByName("questionValue"),o=e.getQuestionByName("conjunction"),i=e.getQuestionByName("questionName"),n=e.getQuestionByName("operator"),r=!!t&&!t.startWithNewLine,s=!o||!o.isVisible;s||(o.minWidth="50px",o.width="15%"),i.minWidth="50px",i.width=s?"40%":"25%",n.minWidth="50px",n.width=r?"25%":"60%",t&&(t.minWidth="50px",t.width=r?"35%":"")},t.prototype.getFirstEnabledOperator=function(e){for(var t=0;t<e.length;t++)if(e[t].isEnabled)return e[t].value;return"equal"},t.prototype.isOperatorEnabled=function(e,t){if(!e)return!0;if(!t||0==t.length)return!0;for(var o=[],i=[],n=0;n<t.length;n++){var r=t[n];"!"==r[0]?i.push(r.substring(1)):o.push(r)}return this.isClassContains(e,o,i)},t.prototype.isClassContains=function(e,t,o){for(var i=n.Serializer.findClass(e);i;){if(t.indexOf(i.name)>-1)return!0;if(o.indexOf(i.name)>-1)return!1;i=i.parentName?n.Serializer.findClass(i.parentName):null}return 0==t.length},t.prototype.onPanelAdded=function(){this.setItemToPanel(new We,this.panel.panels[this.panel.panels.length-1])},t.prototype.onPanelValueChanged=function(e,t){"questionName"==t&&(this.context=this.getContextFromPanels(),this.rebuildQuestionValue(e),this.isSettingPanelValues||(e.getQuestionByName("operator").value="equal")),"operator"==t&&this.rebuildQuestionValueOnOperandChanging(e),this.updateOperatorEnables(e),this.updateQuestionsWidth(e)},t.prototype.onUpdateQuestionCssClasses=function(e){e.cssClasses.answered="svc-logic-question--answered","conjunction"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.control+="svc-logic-operator svc-logic-operator--conjunction "),"questionName"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.control="svc-logic-operator svc-logic-operator--question",e.cssClasses.error.root="svc-logic-operator__error",e.cssClasses.onError="svc-logic-operator--error"),"operator"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.control="svc-logic-operator svc-logic-operator--operator"),"removeAction"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.mainRoot+=" svc-logic-condition-remove-question"),"questionValue"===e.question.name&&(D(e.cssClasses,e.question.getType()),e.cssClasses.mainRoot+=" svc-logic-question-value",e.cssClasses.error.root="svc-logic-operator__error"),"panel"===e.question.name&&(e.cssClasses.root+=" svc-logic-paneldynamic",e.cssClasses.buttonAdd+=" svc-logic-operator--operator",e.cssClasses.iconRemove="svc-icon-remove",e.cssClasses.buttonRemove="svc-logic-paneldynamic__button svc-logic-paneldynamic__remove-btn",e.cssClasses.buttonRemoveRight="svc-logic-paneldynamic__remove-btn--right",e.cssClasses.buttonRemoveText="svc-logic-paneldynamic__button-remove-text")},t.prototype.onValueChanged=function(e){if("panel"===e.question.name&&e.value.length>0){var t=this.options.maxLogicItemsInCondition>0?this.options.maxLogicItemsInCondition:100;e.question.maxPanelCount=1!==e.value.length||e.value[0].questionName?t:1,this.panel.panels.forEach((function(t){t.getQuestionByName("removeAction").visible=1!==e.value.length}))}this.setTitle()},t.prototype.setTitle=function(){var e=this.text;this.title=this.options.onConditionGetTitleCallback(e,e||r.getString("pe.ruleIsNotSet"))},t.prototype.showTextEditor=function(e){this.panel.visible=!1,this.textEditor.value=e,this.textEditor.visible=!0},t.prototype.showBuilder=function(e){(this.isModal||this.getCanShowBuilder(e))&&(this.textEditor.visible=!1,this.processText(e),this.panel.visible=!0)},t.prototype.getCanShowBuilder=function(e){return t.canBuildExpression(e)},t}(we),Ye=function(){function e(e,t,o){this.panel=e,this.initialLogicAction=t,this.logicType=o}return e.createActionModel=function(e,t,o,i){return o&&o.hasSelectorChoices?new Ze(e,t,o,i):new et(e,t,o)},e.prototype.updateCurrentLogicAction=function(e){return!1},e.prototype.afterUpdateInitialLogicAction=function(){},e.prototype.resetElements=function(){},e.prototype.getSelectedElement=function(){return null},e.prototype.updateInitialLogicAction=function(){this.initialLogicAction=this.currentLogicAction,this.afterUpdateInitialLogicAction&&this.afterUpdateInitialLogicAction()},e.prototype.setInitialElementValue=function(e,t,o){o&&0!==e.choices.filter((function(e){return e.value===o})).length?e.value=o:e.value=t&&t.logicType==this.logicType?t.elementName:void 0},e}(),Ze=function(e){function t(t,o,i,n){var r=e.call(this,t,o,i)||this;return r.selectorElementsHash=n,r}return d(t,e),t.prototype.getSelectorOptionsText=function(e){var t=e.baseClass,o="page"==t?"pe.conditionSelectPage":"panel"==t?"pe.conditionSelectPanel":"pe.conditionSelectQuestion";return r.getString(o)},t.prototype.getElementBySelectorName=function(e){var t=e.getQuestionByName("elementSelector").value;return t?this.selectorElementsHash[t]:null},t.prototype.updateCurrentLogicAction=function(e){var t=this.getElementBySelectorName(this.panel);return(!this.initialLogicAction||this.initialLogicAction.logicType!=this.logicType||!!t&&this.initialLogicAction.element!=t)&&(this.currentLogicAction=new ae(this.logicType,t,e),!0)},t.prototype.resetElements=function(){this.panel.getQuestionByName("elementSelector").visible=!1},t.prototype.updatePanelElements=function(e,t){var o=this.panel.getQuestionByName("elementSelector");o.visible=!0,o.choices=t,o.optionsCaption=this.getSelectorOptionsText(this.logicType),this.setInitialElementValue(o,this.initialLogicAction,e)},t.prototype.getSelectedElement=function(){return this.panel.getQuestionByName("elementSelector").value},t}(Ye),et=function(e){function t(t,o,i){var n=e.call(this,t,o,i)||this;return n.isTrigger=!0,n}return d(t,e),t.prototype.recreateQuestion=function(e,t,o,i){var r=o?e.getQuestionByName(o):null;if(r){var s=e.getElementByName("triggerEditorPanel"),a=n.Serializer.createClass("panel");new Te(t,i).setupObjPanel(a,!0,"logic");var l=a.getQuestionByName(o);if(l){var u=s.elements.indexOf(r);s.addElement(l,u),r.delete()}"setValue"===l.name&&this.updateSetValueQuestion(l),this.updateVisibilityPanel(s),a.dispose()}},t.prototype.updateSetValueQuestion=function(e){var t=e.obj,o=t.getSurvey();if(o||(o=t.owner),t.setToName&&o){var i=o.getQuestionByValueName(t.setToName);e.title=i.title,e.titleLocation="top"}},t.prototype.updateRunExpressionQuestion=function(e){e.titleLocation="hidden",e.placeHolder=r.getString("pe.emptyExpressionPlaceHolder")},t.prototype.createElementPanelObj=function(){var e=this.initialLogicAction,t=e&&e.logicType==this.logicType?e.element:null,o=this.logicType.createNewObj(t);return this.setPanelObj(o),o},t.prototype.getQuestions=function(){var e=this,t=this.panel.getElementByName("triggerQuestionsPanel");return 0!==t.elements.length&&this.logicType.questionNames?t.elements.filter((function(t){return-1!==e.logicType.questionNames.indexOf(t.name)})):null},t.prototype.resetPanel=function(e){var t=this.panel.getElementByName(e);t.questions.forEach((function(e){e.clearValue()})),t.elements.splice(0,t.elements.length),t.visible=!1},t.prototype.updateVisibilityPanel=function(e){e.elements.length>0?e.visible=e.elements.filter((function(e){return e.visible})).length>0:e.visible=!1},t.prototype.updatePanelQuestionsValue=function(e){var t=this;e.onSurveyLoad(),e.questions.forEach((function(e){n.Helpers.isValueEmpty(t.panelObj[e.getValueName()])||(e.value=t.panelObj[e.getValueName()])}))},t.prototype.afterUpdateInitialLogicAction=function(){this.setPanelObj(this.initialLogicAction.element),this.panelObj&&this.logicType.saveNewElement(this.panelObj)},t.prototype.updateCurrentLogicAction=function(e){return this.initialLogicAction&&this.initialLogicAction.logicType==this.logicType?(this.initialLogicAction.element.fromJSON(this.panelObj.toJSON()),this.currentLogicAction=this.initialLogicAction,!1):(this.currentLogicAction=new ae(this.logicType,this.panelObj,e),!0)},t.prototype.updatePanel=function(e,t,o,i){this.panelObj&&(this.panelObj[e]=t,this.logicType&&this.logicType.dependedOnPropertyName===e&&this.recreateQuestion(this.panel,this.panelObj,this.logicType.dynamicPropertyName,o),this.panel.runCondition(i.getAllValues(),{survey:i}))},t.prototype.setPanelObj=function(e){var t=this,o=this.panelObj;o&&(o.onPropertyValueChangedCallback=void 0),this.panelObj=e,e&&(e.onPropertyValueChangedCallback=function(e,i,n,r,s){if(t.panel&&!t.panel.isDisposed){var a=t.panel.getQuestionByName(e);a&&(a.value=n)}else o.onPropertyValueChangedCallback=void 0})},t.prototype.resetElements=function(){this.setPanelObj(null),this.resetPanel("triggerQuestionsPanel"),this.resetPanel("triggerEditorPanel")},t.prototype.updatePanelElements=function(e,t){var o=this,i=this.panel.getElementByName("triggerEditorPanel"),n=this.panel.getElementByName("triggerQuestionsPanel"),r=this.createElementPanelObj();new Te(r,t).setupObjPanel(i,!0,"logic"),i.title="";var s=i.getQuestionByName("runExpression");(s&&this.updateRunExpressionQuestion(s),this.logicType.questionNames)&&i.elements.filter((function(e){return-1!==o.logicType.questionNames.indexOf(e.name)})).forEach((function(e){n.addQuestion(e)}));i.getElementByName(this.logicType.propertyName).visible=!1,this.updateVisibilityPanel(n),this.updatePanelQuestionsValue(n),this.updateVisibilityPanel(i),this.updatePanelQuestionsValue(i);var a=this.getQuestions();a&&e&&a.forEach((function(t){o.setInitialElementValue(t,o.initialLogicAction,e),e=null}))},t.prototype.getSelectedElement=function(){var e=this.getQuestions();if(e){var t=e[0];return!!t&&t.value}},t}(Ye);n.FunctionFactory.Instance.register("logicTypeVisibleIf",(function(e){if(!this.question||!this.question.parentQuestion||1!=e.length)return!0;var t=this.question.parentQuestion.panels;if(t.length<2)return!0;for(var o=0;o<t.length;o++){var i=t[o].getQuestionByName("logicTypeName");if(i!=this.question&&i.value==e[0])return!1}return!0}));var tt=function(e){function t(t,o){void 0===o&&(o=null);var i=e.call(this,o)||this;return i.options=o,i.initialSelectedElements={},i.isModifiedValue=!1,i.selectorElementsHash={},i.options||(i.options=new c),i.editSurvey.onDynamicPanelItemValueChanged.add((function(e,t){"logicTypeName"==t.name&&i.onLogicTypeChanged(t.panel);var o=i.getActionModelByPanel(t.panel);o.isTrigger&&o.updatePanel(t.name,t.value,i.options,i.editSurvey)})),i.editSurvey.onDynamicPanelRemoved.add((function(e,t){if(!i.isBuildingPanels){var o=i.getActionModelByPanel(t.panel);o&&o.initialLogicAction&&i.editableItem.removeAction(o.initialLogicAction),0==i.panel.panelCount&&i.panel.addPanel(),i.panel.panelCount>0&&(i.panels[0].getQuestionByName("logicTypeName").title=r.getString("pe.then"))}})),i.editSurvey.onDynamicPanelAdded.add((function(e,t){if(!i.isBuildingPanels){var o=i.panels[i.panel.panelCount-1];i.onPanelAdded(o,null)}})),i.editSurvey.css=Je,i.editSurvey.onUpdateQuestionCssClasses.add((function(e,t){i.onUpdateQuestionCssClasses(t)})),i.editSurvey.onUpdatePanelCssClasses.add((function(e,t){i.onUpdatePanelCssClasses(t)})),i.editSurvey.onQuestionAdded.add((function(e,t){i.onQuestionAdded(t)})),i.editSurvey.onGetQuestionTitleActions.add((function(e,t){i.onGetQuestionTitleActions(t)})),i.editSurvey.onValueChanged.add((function(e,t){i.onValueChanged(t)})),i.setEditableItem(t),i}return d(t,e),Object.defineProperty(t.prototype,"editableItem",{get:function(){return this.editableItemValue},enumerable:!1,configurable:!0}),t.prototype.setEditableItem=function(e){this.editableItemValue=e,this.buildInitialSelectedElements(),this.buildPanels(),this.resetModified()},Object.defineProperty(t.prototype,"survey",{get:function(){return this.editableItem.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModified",{get:function(){return this.isModifiedValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.editSurvey.getQuestionByName("panel")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.panel.panels},enumerable:!1,configurable:!0}),t.prototype.getActionModelByPanel=function(e){return e.actionModel},t.prototype.setActionModelByPanel=function(e,t){e.actionModel=t},Object.defineProperty(t.prototype,"context",{get:function(){return this.contextValue},set:function(e){e!==this.context&&(this.contextValue=e,this.updatePanelsOnContextChanged())},enumerable:!1,configurable:!0}),t.prototype.getLogicTypeByPanel=function(e){return this.getLogicTypeByName(e.getQuestionByName("logicTypeName").value)},t.prototype.getSurveyJSON=function(){return{clearInvisibleValues:"onHidden",elements:[{type:"paneldynamic",name:"panel",title:ne("actionsEditorTitle"),titleLocation:"hidden",panelAddText:ne("addNewAction"),panelRemoveButtonLocation:"right",panelCount:0,minPanelCount:1,maxPanelCount:1,templateElements:[{name:"logicTypeName",type:"dropdown",title:r.getString("pe.then"),titleLocation:"left",isRequired:!0,optionsCaption:ne("selectedActionCaption"),requiredErrorText:this.getLocString("pe.conditionActionEmpty")},{name:"logicTypeDescription",type:"html",startWithNewLine:!1,visible:!1},{name:"elementSelector",type:"dropdown",titleLocation:"hidden",isRequired:!0,startWithNewLine:!1,visible:!1},{name:"triggerQuestionsPanel",type:"panel",startWithNewLine:!1,visible:!1},{name:"removeAction",type:"linkvalue",titleLocation:"hidden",showOptionsCaption:!1,visible:!1,startWithNewLine:!1,showValueInLink:!1,allowClear:!1,showClear:!1},{name:"triggerEditorPanel",type:"panel",visible:!1}]}]}},t.prototype.getSurveyCreationReason=function(){return"logic-item-editor"},t.prototype.resetModified=function(){this.isModifiedValue=!1},t.prototype.apply=function(){if(this.editSurvey.hasErrors())return!1;for(var e=0;e<this.panels.length;e++)this.applyPanel(this.panels[e]);return this.resetModified(),!0},t.prototype.getEditingActions=function(){var e=this;return this.panels.map((function(t){var o=e.getActionModelByPanel(t);return o.updateCurrentLogicAction(e.survey),o.currentLogicAction||o.initialLogicAction})).filter((function(e){return!!e}))},t.prototype.onUpdateQuestionCssClasses=function(e){e.cssClasses.answered="svc-logic-question--answered","logicTypeName"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.control="svc-logic-operator svc-logic-operator--action",e.cssClasses.error.root="svc-logic-operator__error",e.cssClasses.onError="svc-logic-operator--error"),"elementSelector"!==e.question.name&&"setToName"!==e.question.name&&"fromName"!==e.question.name&&"gotoName"!==e.question.name||(e.question.allowRootStyle=!1,e.cssClasses.control="svc-logic-operator svc-logic-operator--question",e.cssClasses.error.root="svc-logic-operator__error",e.cssClasses.onError="svc-logic-operator--error"),"setToName"!==e.question.name&&"fromName"!==e.question.name||(e.question.allowRootStyle=!1,e.question.titleLocation="left",e.question.startWithNewLine=!1,e.cssClasses.error.root="svc-logic-operator__error",e.cssClasses.onError="svc-logic-operator--error"),"setValue"===e.question.name&&(D(e.cssClasses,e.question.getType()),e.cssClasses.mainRoot+=" svc-logic-question-value"),"removeAction"===e.question.name&&(e.question.allowRootStyle=!1,e.cssClasses.mainRoot+=" svc-logic-condition-remove-question"),"panel"===e.question.name&&(e.cssClasses.root+=" svc-logic-paneldynamic",e.cssClasses.buttonAdd+=" svc-logic-operator--action ",e.cssClasses.iconRemove="svc-icon-remove",e.cssClasses.buttonRemove="svc-logic-paneldynamic__button svc-logic-paneldynamic__remove-btn",e.cssClasses.buttonRemoveRight="svc-logic-paneldynamic__remove-btn--right",e.cssClasses.buttonRemoveText="svc-logic-paneldynamic__button-remove-text")},t.prototype.onUpdatePanelCssClasses=function(e){"triggerEditorPanel"===e.panel.name&&(e.cssClasses.panel.container+=" svc-logic_trigger-editor"),"triggerQuestionsPanel"===e.panel.name&&(e.panel.allowRootStyle=!1,e.cssClasses.panel.container+=" svc-logic_trigger-questions")},t.prototype.onValueChanged=function(e){this.isModifiedValue=!0,e.question.maxPanelCount=1!==e.value.length||e.value[0].logicTypeName?100:1,this.panels.forEach((function(t){t.getQuestionByName("removeAction").visible=1!==e.value.length}))},t.prototype.onQuestionAdded=function(e){"setToName"!==e.question.name&&"fromName"!==e.question.name||(e.question.titleLocation="left",e.question.startWithNewLine=!1)},t.prototype.onGetQuestionTitleActions=function(e){"setValue"===e.question.name&&(e.titleActions=[])},t.prototype.applyPanel=function(e){var t=this.getActionModelByPanel(e);t.updateCurrentLogicAction(this.survey)&&(this.editableItem.replaceAction(t.currentLogicAction,t.initialLogicAction),t.updateInitialLogicAction())},t.prototype.buildInitialSelectedElements=function(){if(this.initialSelectedElements={},this.editableItem)for(var e=0;e<this.editableItem.actions.length;e++){var t=this.editableItem.actions[e];if(this.isElementSelectorVisible(t.logicType)){var o=t.logicTypeName;this.initialSelectedElements[o]||(this.initialSelectedElements[o]=[]),this.initialSelectedElements[o].push(t.element)}}},t.prototype.buildPanels=function(){if(this.panel.panelCount=0,this.editableItem){this.logicTypeChoices=this.getLogicTypeChoices();for(var e=0;e<this.editableItem.actions.length;e++)this.onPanelAdded(this.panel.addPanel(),this.editableItem.actions[e]);0==this.panel.panelCount&&this.onPanelAdded(this.panel.addPanel(),null)}},t.prototype.onPanelAdded=function(e,t){var o=e.getQuestionByName("logicTypeName");if(o.title=this.panel.panelCount>1?r.getString("pe.and"):r.getString("pe.then"),o.choices=this.logicTypeChoices,t){var i=Ye.createActionModel(e,t,this.getLogicTypeByName(t.logicTypeName),this.selectorElementsHash);this.setActionModelByPanel(e,i),o.value=t.logicTypeName}var n=e.getQuestionByName("removeAction"),s=n.parentQuestion;return n.linkClickCallback=function(){s&&s.removePanelUI(e)},n.linkValueText="",n.linkSetButtonCssClasses="svc-logic-condition-remove svc-icon-remove",e},t.prototype.updatePanelsOnContextChanged=function(){if(this.logicTypeChoices=this.getLogicTypeChoices(),this.context)for(var e=this.panels.length-1;e>=0;e--){var t=this.panels[e];this.isPanelSupportContext(t)||(0===e&&1===this.panels.length?t.getQuestionByName("logicTypeName").clearValue():this.panel.removePanel(e))}for(e=0;e<this.panels.length;e++)this.updateSelectorOnContextChanged(this.panels[e])},t.prototype.isPanelSupportContext=function(e){return this.getLogicTypeByPanel(e).supportContext(this.context)},t.prototype.updateSelectorOnContextChanged=function(e){e.getQuestionByName("logicTypeName").choices=this.logicTypeChoices;var t=this.getLogicTypeByPanel(e);this.isElementSelectorVisible(t)&&(e.getQuestionByName("elementSelector").choices=this.getSelectorChoices(t))},t.prototype.getLogicTypeChoices=function(){for(var e=[],t=this.editableItem.getVisibleLogicTypes(),o=0;o<t.length;o++){var i=t[o];if(!this.context||i.supportContext(this.context)){var r=new n.ItemValue(i.name,i.displayName);i.isUniqueItem&&(r.visibleIf="logicTypeVisibleIf({item})"),e.push(r)}}return e},t.prototype.onLogicTypeChanged=function(e){var t=this.getLogicTypeByPanel(e);e.getQuestionByName("logicTypeDescription").html=t?t.description:"";var o,i=this.getActionModelByPanel(e);if(i&&(o=i.getSelectedElement(),i.resetElements()),t){var n=Ye.createActionModel(e,i?i.initialLogicAction:null,t,this.selectorElementsHash);this.setActionModelByPanel(e,n),n.isTrigger?n.updatePanelElements(o,this.options):n.updatePanelElements(o,this.getSelectorChoices(n.logicType))}},t.prototype.getLogicTypeByName=function(e){if(!e)return null;for(var t=this.editableItem.getVisibleLogicTypes(),o=0;o<t.length;o++)if(t[o].name==e)return t[o];return null},t.prototype.isElementSelectorVisible=function(e){return!!e&&e.hasSelectorChoices},t.prototype.getLocString=function(e){return r.getString(e)},t.prototype.getElementText=function(e,t){var o="";return t&&(o=e.locTitle.renderedHtml),o||(o=e.name),o},t.prototype.getSelectorChoices=function(e){if(!e.hasSelectorChoices)return[];for(var t=e.getSelectorChoices(this.survey,this.context),o=[],i=this.options.showTitlesInExpressions,r=0;r<t.length;r++){var s="",a="",l=t[r],u=e.getParentElement(l);u&&(s=u.name+".",a=this.getElementText(u,i)+".");var c=this.getElementText(l,i),p=s+l.name,d=new n.ItemValue(p,a+c);this.selectorElementsHash[p]=l,l[e.propertyName]&&!this.isElementInInitialSelection(e.name,l)&&(d.enableIf="1=2"),o.push(d)}return R.sortItems(o),o},t.prototype.isElementInInitialSelection=function(e,t){return!!this.initialSelectedElements[e]&&this.initialSelectedElements[e].indexOf(t)>-1},t}(we),ot=(o(9),function(e){function t(t,o){void 0===o&&(o=null);var i=e.call(this,t,o)||this;return i.survey=t,i.options=o,i.itemUIHash={},i.options||(i.options=new c),i.setupToolbarItems(),i.update(),i}return d(t,e),t.prototype.update=function(t,o){var i=this;void 0===t&&(t=null),void 0===o&&(o=null),e.prototype.update.call(this,t,o);var n=this.options.createSurvey(this.getLogicItemSurveyJSON(),"logic-items");n.css=Je,this.itemsSurveyValue=n,this.itemsSurvey.onMatrixRowRemoving.add((function(e,t){var o=i.visibleItems[t.rowIndex];t.allow=i.canRemoveItem(o)})),this.itemsSurvey.onMatrixRowRemoved.add((function(e,t){var o=i.visibleItems[t.rowIndex],n=o===i.editableItem;i.removeItem(o,!1),n&&(i.mode="view",i.updateNewActionState()),i.expressionEditorCanShowBuilder=!!i.editableItem})),this.itemsSurvey.onGetMatrixRowActions.add((function(e,t){i.readOnly||(!function(e,t,o){var i=fe(t,"show-detail");if(i){i.component="sv-action-bar-item",i.iconName="icon-logic-expand",i.innerCss="sl-table__detail-button",i.iconSize=48,i.showTitle=!1,i.action=function(){o.showHideDetailPanelClick()};var n=function(){i.iconName=o.isDetailPanelShowing?"icon-logic-collapse":"icon-logic-expand"};e.registerFunctionOnPropertyValueChanged("isRowShowing"+o.id,n),n()}}(t.question,t.actions,t.row),ve(t.question,t.actions,t.row))})),this.updateItemsSurveyData(),this.onReadOnlyChanged()},t.prototype.dispose=function(){for(var t in e.prototype.dispose.call(this),this.itemUIHash){var o=this.itemUIHash[t];o.expressionEditor.dispose(),o.itemEditor.dispose()}this.itemUIHash={}},t.prototype.addNewUI=function(){0!=this.items.length&&this.items[this.items.length-1].isNew||this.addNew(),this.matrixItems.visibleRows[this.matrixItems.visibleRows.length-1].showDetailPanel()},t.prototype.toggleExpressionEditorIsFastEntry=function(){this.expressionEditorIsFastEntry=!this.expressionEditorIsFastEntry,this.expressionEditor&&this.expressionEditor.setIsFastEntry(this.expressionEditorIsFastEntry)},t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),"items"===t&&this.updateItemsSurveyData()},t.prototype.onReadOnlyChanged=function(){this.itemsSurvey&&(this.itemsSurvey.mode=this.readOnly?"display":"edit")},Object.defineProperty(t.prototype,"expressionEditor",{get:function(){return this.expressionEditorValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemEditor",{get:function(){return this.itemEditorValue},enumerable:!1,configurable:!0}),t.prototype.getExpressionEditor=function(e){return this.getLogicItemUI(e).expressionEditor},t.prototype.getLogicItemEditor=function(e){return this.getLogicItemUI(e).itemEditor},t.prototype.getLogicItemUI=function(e){var t=this.itemUIHash[e.id];if(!t){var o=e.getContext();(t={expressionEditor:this.createExpressionPropertyEditor(),itemEditor:new tt(e,this.options)}).expressionEditor.context=o,t.itemEditor.context=o,t.expressionEditor.text=e.expression,t.expressionEditor.onContextChanged=function(e){t.itemEditor.context=e},this.itemUIHash[e.id]=t}return t},Object.defineProperty(t.prototype,"expressionSurvey",{get:function(){return this.expressionEditor.editSurvey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemEditorSurvey",{get:function(){return this.itemEditor.editSurvey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsSurvey",{get:function(){return this.itemsSurveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasItems",{get:function(){return this.items.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"matrixItems",{get:function(){return this.itemsSurvey.getQuestionByName("items")},enumerable:!1,configurable:!0}),t.prototype.onStartEditing=function(){e.prototype.onStartEditing.call(this),this.expressionEditorValue=this.getExpressionEditor(this.editableItem),this.itemEditorValue=this.getLogicItemEditor(this.editableItem),this.expressionEditorIsFastEntry=!1,this.expressionEditor.setIsFastEntry(this.expressionEditorIsFastEntry),this.expressionEditorCanShowBuilder=$e.canBuildExpression(this.expressionEditor.text)},t.prototype.onEndEditing=function(){this.editableItem&&(this.editableItem.isModified=!!this.itemEditor&&!!this.expressionEditor&&(this.itemEditor.isModified||this.expressionEditor.isModified(this.editableItem.expression))),e.prototype.onEndEditing.call(this),this.expressionEditorValue=null,this.itemEditorValue=null},t.prototype.onEditableItemApply=function(){this.expressionEditor.apply(),this.itemEditor.apply(),this.editableItem.apply(this.expressionEditor.text),this.editableItem.actions.length!=this.itemEditor.panels.length&&this.itemEditor.setEditableItem(this.editableItem),this.itemEditor.resetModified(),this.editableItem.isNew=!1,this.editableItem.isSuitable(this.questionFilter,this.actionTypeFilter)?this.updateItemsSurveyData():(this.questionFilter="",this.actionTypeFilter="")},t.prototype.hasErrorInUI=function(){var e=this.survey.creator;return this.expressionEditor.isReady?!!this.itemEditor.hasErrors()&&(this.errorText=ne("actionInvalid"),e&&e.notify(this.errorText,"error"),!0):(this.expressionEditor.hasErrors(),this.errorText=ne("expressionInvalid"),e&&e.notify(this.errorText,"error"),!0)},t.prototype.getExpressionText=function(){return this.expressionEditor.text},t.prototype.getEditingActions=function(){return this.itemEditor.getEditingActions()},t.prototype.getLogicItemSurveyJSON=function(){var e={elements:[{type:"matrixdynamic",name:"items",titleLocation:"hidden",showColumnHeader:!1,detailPanelMode:"underRowSingle",allowAddRows:!1,allowAdaptiveActions:!1,rowCount:0,showHeader:!1,columns:[{cellType:"linkvalue",name:"rules",showTooltip:!0,width:"100%"}]}]};return be(e),e},t.prototype.createExpressionPropertyEditor=function(){var e=this,t=new $e(this.survey,null,this.options);return t.isModal=!1,t.editSurvey.onValueChanged.add((function(t,o){"textEditor"===o.name&&(e.expressionEditorCanShowBuilder=$e.canBuildExpression(o.value))})),t},t.prototype.getVisibleItems=function(){var e=this;return this.items.filter((function(t){return t.isNew||t.isSuitable(e.questionFilter,e.actionTypeFilter)}))},t.prototype.updateItemsSurveyData=function(){var e=this;if(this.itemsSurvey){var t=[];this.visibleItems=this.getVisibleItems();for(var o=0;o<this.visibleItems.length;o++)t.push({rules:this.visibleItems[o].getDisplayText()});this.matrixItems.onHasDetailPanelCallback=function(e){return!0},this.matrixItems.onCreateDetailPanelCallback=function(t,o){t.onDetailPanelShowingChanged=function(){if(e.expressionEditorCanShowBuilder=t.isDetailPanelShowing,t.isDetailPanelShowing){if("view"===e.mode){var i=e.visibleItems[t.rowIndex-1];e.editItem(i)}var n=o.getQuestionByName("conditions"),r=o.getQuestionByName("actions");n.embeddedSurvey=e.expressionEditor.editSurvey,r.embeddedSurvey=e.itemEditorValue.editSurvey,e.updateRowIsAdditionalClasses(t.rowIndex-1,!1)}else e.mode="view",e.updateRenderedRows();e.updateNewActionState()},o.addNewQuestion("embeddedsurvey","conditions"),o.addNewQuestion("embeddedsurvey","actions"),o.footerActions.push({id:"saveDetailPanel",innerCss:"sl-panel__done-button",title:e.getLocString("pe.doneEditing"),action:function(){e.saveEditableItem()&&t.hideDetailPanel(!0)}})},this.matrixItems.onCellCreatedCallback=function(e){e.cell.question.linkClickCallback=function(){e.row.isDetailPanelShowing?e.row.hideDetailPanel():e.row.showDetailPanel()},e.cell.question.showClear=!1,e.cell.question.allowClear=!1},this.matrixItems.value=t,this.updateRenderedRows()}},t.prototype.updateRenderedRows=function(){var e=this;this.visibleItems.forEach((function(t,o){e.updateRowIsAdditionalClasses(o,e.visibleItems[o].isModified||e.visibleItems[o].isNew)}))},t.prototype.updateRowIsAdditionalClasses=function(e,t){this.matrixItems.renderedTable&&(this.matrixItems.renderedTable.rows[e].isAdditionalClasses=t)},t.prototype.updateNewActionState=function(){this.addNewButton.enabled="new"!==this.mode},t.prototype.setupToolbarItems=function(){var e=this;this.addNewButton=new n.Action({id:"svd-logic-addNew",title:this.addNewText,tooltip:this.addNewText,component:"sv-action-bar-item",enabled:!0,action:function(){e.addNewUI()}})},Object.defineProperty(t.prototype,"addNewText",{get:function(){return ne("addNewItem")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyTabPlaceHolder",{get:function(){return ne("empty_tab")},enumerable:!1,configurable:!0}),p([Object(n.property)()],t.prototype,"itemsSurveyValue",void 0),p([Object(n.property)()],t.prototype,"expressionEditorIsFastEntry",void 0),p([Object(n.property)()],t.prototype,"expressionEditorCanShowBuilder",void 0),p([Object(n.property)({onSet:function(e,t){t.updateItemsSurveyData()}})],t.prototype,"questionFilter",void 0),p([Object(n.property)({onSet:function(e,t){t.updateItemsSurveyData()}})],t.prototype,"actionTypeFilter",void 0),t}(ue)),it=function(){function e(e){this.creator=e,this.showAllQuestionsText=ne("showAllQuestions"),this.showAllActionTypesText=ne("showAllActionTypes"),e.addPluginTab("logic",this),this.createActions().forEach((function(t){return e.toolbar.actions.push(t)}))}return e.prototype.activate=function(){var e=this;this.model=new ot(this.creator.survey,this.creator),this.filterQuestionAction.title=this.showAllQuestionsText,this.filterQuestionAction.visible=!0,this.filterActionTypeAction.title=this.showAllActionTypesText,this.filterActionTypeAction.visible=!0,this.fastEntryAction&&(this.fastEntryAction.visible=!0,this.fastEntryAction.active=this.model.expressionEditorIsFastEntry,this.fastEntryAction.enabled=!1),this.model.onPropertyChanged.add((function(t,o){"questionFilter"===o.name&&(e.filterQuestionAction.title=e.model.questionFilter?e.model.questionFilter:e.showAllQuestionsText),"actionTypeFilter"===o.name&&(e.filterActionTypeAction.title=e.model.actionTypeFilter?e.model.getTypeByName(e.model.actionTypeFilter).displayName:e.showAllActionTypesText),e.fastEntryAction&&"expressionEditorIsFastEntry"===o.name&&(e.fastEntryAction.active=e.model.expressionEditorIsFastEntry),e.fastEntryAction&&"expressionEditorCanShowBuilder"===o.name&&(e.fastEntryAction.enabled=e.model.expressionEditorCanShowBuilder)}))},e.prototype.update=function(){this.model&&this.model.update(this.creator.survey)},e.prototype.deactivate=function(){return this.model&&(this.model.dispose(),this.model=void 0),this.filterQuestionAction.visible=!1,this.filterActionTypeAction.visible=!1,this.fastEntryAction&&(this.fastEntryAction.visible=!1),!0},e.prototype.createActions=function(){var e=this,t=[],o=new n.PopupModel("sv-list",{model:new n.ListModel([{id:null,title:this.showAllQuestionsText}],(function(t){e.model.questionFilter=t.id?t.id:"",o.toggleVisibility()}),!0)},"bottom","center",void 0,void 0,void 0,void 0,void 0,(function(){var t=e.model.getUsedQuestions().map((function(t){return{id:t.name,title:e.creator.getObjectDisplayName(t,"condition",t.name)}}));R.sortItems(t,"title"),o.contentComponentData.model.setItems([{id:null,title:e.showAllQuestionsText}].concat(t))}));this.filterQuestionAction=new n.Action({id:"svc-logic-filter-question",title:this.showAllQuestionsText,visible:!1,component:"sv-action-bar-item-dropdown",popupModel:o,action:function(){o.toggleVisibility()}}),t.push(this.filterQuestionAction);var i=new n.PopupModel("sv-list",{model:new n.ListModel([{id:null,title:this.showAllActionTypesText}],(function(t){e.model.actionTypeFilter=t.id?t.id:"",i.toggleVisibility()}),!0)},"bottom","center",void 0,void 0,void 0,void 0,void 0,(function(){var t=e.model.getUsedActionTypes().map((function(e){return{id:e.name,title:e.displayName}}));R.sortItems(t,"title"),i.contentComponentData.model.setItems([{id:null,title:e.showAllActionTypesText}].concat(t))}));return this.filterActionTypeAction=new n.Action({id:"svc-logic-filter-actiontype",title:this.showAllActionTypesText,visible:!1,component:"sv-action-bar-item-dropdown",popupModel:i,action:function(){i.toggleVisibility()}}),t.push(this.filterActionTypeAction),this.creator.allowEditExpressionsInTextEditor&&(this.fastEntryAction=new n.Action({id:"svc-logic-fast-entry",iconName:"icon-fast-entry",title:r.getString("pe.fastEntry"),visible:!1,component:"sv-action-bar-item",action:function(){e.model.toggleExpressionEditorIsFastEntry()}}),t.push(this.fastEntryAction)),t},e}(),nt=(o(10),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeout=u.notifications.lifetime,t.timer=void 0,t}return d(t,e),t.prototype.notify=function(e,t){var o=this;void 0===t&&(t="info"),this.message=e,this.active=!0,this.css="svc-notifier","error"===t&&(this.css+=" svc-notifier--error"),this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout((function(){o.timer=void 0,o.active=!1}),this.timeout)},p([Object(n.property)({defaultValue:!1})],t.prototype,"active",void 0),p([Object(n.property)()],t.prototype,"message",void 0),p([Object(n.property)()],t.prototype,"css",void 0),t}(n.Base)),rt=function(){function e(){this._ignoreChanges=!1,this._isExecuting=!1,this._preparingTransaction=null,this._transactions=[],this._currentTransactionIndex=-1,this.transactionCounter=0}return e.prototype.onPropertyValueChanged=function(e,t,o,i,n){if(!pe.isCopyObject(i)&&!this.isIgnoring){var r=this._preparingTransaction,s=n?new lt(e,i,n):new at(e,t,o,i);if(!r)return(r=new st(e)).addAction(s),void this._addTransaction(r);r.addAction(s)}},e.prototype.isCorrectProperty=function(e,t){var o=n.Serializer.findProperty(e.getType(),t);return!!o&&o.isSerializable},e.prototype.tryMergeTransaction=function(e,t,o){if("name"===t)return!1;var i=this._getCurrentTransaction();return!(!i||0==i.actions.length)&&i.actions[i.actions.length-1].tryMerge(e,t,o)},e.prototype.isCopyObject=function(e){},e.prototype._cutOffTail=function(){this._currentTransactionIndex+1!==this._transactions.length&&(this._transactions.length=this._currentTransactionIndex+1)},Object.defineProperty(e.prototype,"isIgnoring",{get:function(){return this._ignoreChanges||this._isExecuting},enumerable:!1,configurable:!0}),e.prototype._addTransaction=function(e){e.isEmpty()||(this._cutOffTail(),this._transactions.push(e),this._currentTransactionIndex++,this.canUndoRedoCallback())},e.prototype._getCurrentTransaction=function(){var e=this._currentTransactionIndex;return this._transactions[e]},e.prototype._getNextTransaction=function(){var e=this._currentTransactionIndex;return this._transactions[e+1]},e.prototype.notifyChangesFinished=function(e){e.actions.length>0&&e.actions[0]&&this.changesFinishedCallback&&this.changesFinishedCallback(e.actions[0].getChanges())},e.prototype.canUndoRedoCallback=function(){},e.prototype.startTransaction=function(e){this.isIgnoring||(this.transactionCounter++,this._preparingTransaction||(this._preparingTransaction=new st(e)))},e.prototype.stopTransaction=function(){this.isIgnoring||(this.transactionCounter>0&&this.transactionCounter--,!this._preparingTransaction||this.transactionCounter>0||(this._addTransaction(this._preparingTransaction),0===this.transactionCounter&&this.notifyChangesFinished(this._preparingTransaction),this._preparingTransaction=null))},Object.defineProperty(e.prototype,"isProcessingUndoRedo",{get:function(){return!0===this._isExecuting},enumerable:!1,configurable:!0}),e.prototype.canUndo=function(){return!!this._getCurrentTransaction()},e.prototype.undo=function(){var e=this._getCurrentTransaction();this.canUndo()&&(this._isExecuting=!0,e.rollback(),this._isExecuting=!1,this._currentTransactionIndex--,this.canUndoRedoCallback(),this.notifyChangesFinished(e))},e.prototype.canRedo=function(){return!!this._getNextTransaction()},e.prototype.redo=function(){var e=this._getNextTransaction();this.canRedo()&&(this._isExecuting=!0,e.apply(),this._isExecuting=!1,this._currentTransactionIndex++,this.canUndoRedoCallback(),this.notifyChangesFinished(e))},e.prototype.suspend=function(){this._ignoreChanges=!0},e.prototype.resume=function(){this._ignoreChanges=!1},e}(),st=function(){function e(e){this._name=e,this._actions=[]}return e.prototype.apply=function(){for(var e=this._actions,t=0;t<e.length;t++){e[t].apply()}},e.prototype.rollback=function(){for(var e=this._actions,t=e.length-1;t>=0;t--){e[t].rollback()}},e.prototype.addAction=function(e){this._actions.push(e)},e.prototype.isEmpty=function(){return 0===this._actions.length},Object.defineProperty(e.prototype,"actions",{get:function(){return this._actions},enumerable:!1,configurable:!0}),e}(),at=function(){function e(e,t,o,i){this._propertyName=e,this._oldValue=t,this._newValue=o,this._sender=i}return e.prototype.apply=function(){this._sender[this._propertyName]=this._newValue},e.prototype.rollback=function(){this._sender[this._propertyName]=this._oldValue},e.prototype.getChanges=function(){return{object:this._sender,propertyName:this._propertyName,oldValue:this._oldValue,newValue:this._newValue}},e.prototype.tryMerge=function(e,t,o){if(e!==this._sender||t!==this._propertyName||o==this._oldValue)return!1;var i=n.Serializer.findProperty(e.getType(),t);return!(!i||"string"!==i.type&&"text"!==i.type)&&(this._newValue=o,!0)},e}(),lt=function(){function e(e,t,o){this._propertyName=e,this._sender=t,this._index=0,this._itemsToAdd=[],this._deletedItems=[],this._index=o.index,this._itemsToAdd=o.itemsToAdd,this._deletedItems=o.deletedItems}return e.prototype.apply=function(){this.rollback()},e.prototype.rollback=function(){var e=this._sender[this._propertyName],t=this._index,o=this._itemsToAdd.length,i=[].concat(this._deletedItems);this._deletedItems=e.splice.apply(e,[t,o].concat(i)),this._itemsToAdd=[].concat(i)},e.prototype.getChanges=function(){return{object:this._sender,propertyName:this._propertyName,oldValue:this._deletedItems,newValue:this._itemsToAdd}},e.prototype.tryMerge=function(e,t,o){return!1},e}(),ut=function(e){function t(t){var o=e.call(this)||this;return o.creator=t,o.undoRedoManager=void 0,o.onBeforeUndo=new n.Event,o.onBeforeRedo=new n.Event,o.onAfterUndo=new n.Event,o.onAfterRedo=new n.Event,o.undoRedoManager=new n.ComputedUpdater((function(){var e=new rt,t=o.creator.survey;return t&&(t.onPropertyValueChangedCallback=function(e,t,i,n,r){o.onSurveyPropertyValueChangedCallback(e,t,i,n,r)},e.changesFinishedCallback=function(e){o.creator.setModified({type:"PROPERTY_CHANGED",name:e.propertyName,target:e.object,oldValue:e.oldValue,newValue:e.newValue})},e.canUndoRedoCallback=function(){o.updateUndeRedoActions()}),e})),o}return d(t,e),t.prototype.onSurveyPropertyValueChangedCallback=function(e,t,o,i,n){this.undoRedoManager&&this.undoRedoManager.isCorrectProperty(i,e)&&(this.undoRedoManager.tryMergeTransaction(i,e,o)?this.creator.setModified({type:"PROPERTY_CHANGED",name:e,target:i,oldValue:t,newValue:o}):(this.undoRedoManager.startTransaction(e+" changed"),this.undoRedoManager.onPropertyValueChanged(e,t,o,i,n),this.creator.updatePagesController(i,e),this.creator.updateElementsOnLocaleChanged(i,e),this.creator.updateConditionsOnQuestionNameChanged(i,e,t),this.undoRedoManager.stopTransaction()))},t.prototype.selectElementAfterUndo=function(){this.selectElementAfterUndoCore(this.creator.selectedElement)},t.prototype.selectElementAfterUndoCore=function(e){!e||e.isDisposed||!e.getSurvey()||this.creator.isObjQuestion(e)&&!e.parent?this.creator.selectElement(this.creator.survey):this.creator.selectElement(e)},t.prototype.undo=function(){if(this.undoRedoManager){var e={canUndo:this.undoRedoManager.canUndo()};if(this.onBeforeUndo.fire(self,e),this.creator.onBeforeUndo.fire(self,e),e.canUndo){var t=this.undoRedoManager.undo();this.onAfterUndo.fire(self,{state:t}),this.creator.onAfterUndo.fire(self,{state:t}),this.selectElementAfterUndo()}}},t.prototype.redo=function(){if(this.undoRedoManager){var e={canRedo:this.undoRedoManager.canRedo()};if(this.onBeforeRedo.fire(self,e),this.creator.onBeforeRedo.fire(self,e),e.canRedo){var t=this.undoRedoManager.redo();this.onAfterRedo.fire(self,{state:t}),this.creator.onAfterRedo.fire(self,{state:t}),this.selectElementAfterUndo()}}},t.prototype.startTransaction=function(e){void 0===e&&(e=""),this.undoRedoManager&&this.undoRedoManager.startTransaction(e)},t.prototype.stopTransaction=function(){this.undoRedoManager&&this.undoRedoManager.stopTransaction()},t.prototype.createActions=function(){var e=this,t=[];return this.undoAction=new n.Action({id:"icon-undo",iconName:"icon-undo",title:s("ed.undo"),showTitle:!1,visible:new n.ComputedUpdater((function(){return"designer"===e.creator.activeTab})),action:function(){return e.undo()}}),this.redoAction=new n.Action({id:"icon-redo",iconName:"icon-redo",title:s("ed.redo"),showTitle:!1,visible:new n.ComputedUpdater((function(){return"designer"===e.creator.activeTab})),action:function(){return e.redo()}}),t.push(this.undoAction),t.push(this.redoAction),this.updateUndeRedoActions(),t},t.prototype.updateUndeRedoActions=function(){this.undoAction.active=this.undoRedoManager.canUndo(),this.redoAction.active=this.undoRedoManager.canRedo()},p([Object(n.property)()],t.prototype,"undoRedoManager",void 0),t}(n.Base),ct=function(){function e(e){var t=this;this.creator=e,this.model=void 0,this.model=new ut(e),this.model.createActions().forEach((function(t){return e.toolbar.actions.push(t)})),e.registerShortcut("undo",{hotKey:{ctrlKey:!0,keyCode:90},macOsHotkey:{keyCode:90},execute:function(){return t.model.undo()}}),e.registerShortcut("redo",{hotKey:{ctrlKey:!0,keyCode:89},macOsHotkey:{keyCode:89},execute:function(){return t.model.redo()}})}return e.prototype.activate=function(){},e.prototype.deactivate=function(){return!0},e.prototype.update=function(){},e.prototype.addFooterActions=function(){this.model.undoAction&&this.creator.footerToolbar.actions.push(this.model.undoAction),this.model.redoAction&&this.creator.footerToolbar.actions.push(this.model.redoAction)},e}();function pt(e,t){return void 0===t&&(t="undoRedoManager"),function(o,i,n){var r=n.value;return n.value=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var s=this[t];try{s&&s.startTransaction(e||i);var a=r.apply(this,o);return a}finally{s&&s.stopTransaction()}},n}}function dt(e){return void 0===e&&(e="undoRedoManager"),function(t,o,i){var n=i.value;return i.value=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=this[e];try{i&&i.suspend();var r=n.apply(this,t);return r}finally{i&&i.resume()}},i}}var ht=function(e){function t(t,o,i,n){var r=e.call(this,{id:"sv_item_selector_"+t.toString(),title:i})||this;return r.data=o,r.title=i,r.level=n,r}return d(t,e),t.prototype.hasText=function(e){return!e||(this.textInLow||(this.textInLow=this.title.toLocaleLowerCase()),this.textInLow.indexOf(e)>-1)},t}(n.Action),mt=function(){function e(e,t,o){void 0===o&&(o=void 0),this.creator=e,this.getObjectDisplayName=o,this.surveyValue=t,this.rebuild()}return Object.defineProperty(e.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.itemsValue},enumerable:!1,configurable:!0}),e.prototype.getItemByObj=function(e){for(var t=this.items,o=0;o<t.length;o++)if(t[o].data===e)return t[o];return null},e.prototype.filterByText=function(e){this.filteredTextInLow=e?e.toLocaleLowerCase():"",this.updateItemsVisibility()},e.prototype.rebuild=function(){var e=[];this.deepestLevel=0;var t=this.createItem(this.survey,null);e.push(t);for(var o=0;o<this.survey.pages.length;o++){var i=this.survey.pages[o],n=t;if(!this.creator||"single"!==this.creator.pageEditMode){var r=this.createItem(i,t);e.push(r),n=r}this.buildElements(e,this.getElements(i),n)}this.itemsValue=e},e.prototype.updateItemsVisibility=function(){for(var e=this.deepestLevel;e>=0;e--)this.updateItemsLevelVisibility(e)},e.prototype.updateItemsLevelVisibility=function(e){for(var t=0;t<this.items.length;t++){var o=this.items[t];o.level===e&&(o.visible=this.hasVisibleChildren(t)||o.hasText(this.filteredTextInLow))}},e.prototype.hasVisibleChildren=function(e){for(var t=this.items[e].level,o=e+1;o<this.items.length;o++){if(this.items[o].level<=t)return!1;if(this.items[o].visible)return!0}return!1},e.prototype.getElements=function(e){return R.getElements(e)},e.prototype.buildElements=function(e,t,o){for(var i=0;i<t.length;i++){var n=t[i],r=this.createItem(n,o);e.push(r),this.buildElements(e,this.getElements(n),r)}},e.prototype.createItem=function(t,o){var i=new ht(e.uniqueId++,t,this.getText(t),null!=o?o.level+1:0);return i.level>this.deepestLevel&&(this.deepestLevel=i.level),i},e.prototype.getText=function(e){return this.getObjectDisplayName?this.getObjectDisplayName(e,"property-grid",void 0):R.getObjectName(e,!1)},e.uniqueId=0,e}(),gt=function(e){function t(t,o){void 0===o&&(o=void 0);var i=e.call(this)||this;return i.creator=t,i.getObjectDisplayName=o,i}return d(t,e),Object.defineProperty(t.prototype,"list",{get:function(){return this.listModelValue},enumerable:!1,configurable:!0}),t.prototype.show=function(e,t,o){var i=this;this.selector=new mt(this.creator,e,this.getObjectDisplayName);var r=this.selector.getItemByObj(t);this.listModelValue?(this.listModelValue.setItems(this.selector.items),this.listModelValue.selectedItem=r):this.listModelValue=new n.ListModel(this.selector.items,(function(e){o(e.data)}),!0,r,(function(e){i.selector.filterByText(e)})),this.isVisible=!0},t.prototype.refresh=function(){this.listModelValue.refresh()},p([Object(n.property)()],t.prototype,"isVisible",void 0),t}(n.Base),yt=function(e){function t(t,o){var i=e.call(this)||this;return i.propertyGridModel=t,i.creator=o,i.selectedElementName=i.getTitle(),i.propertyGridModel.objValueChangedCallback=function(){i.onSurveyChanged()},i.propertyGridModel.changedFromActionCallback=function(e,t){i.selectionController&&i.selectionController.selectFromAction(e,t)},i.initActions(),i.creator.onPropertyChanged.add((function(e,t){"sidebarLocation"===t.name&&(i.selectorPopupModel.horizontalPosition="right"==i.creator.sidebarLocation?"left":"right")})),i.onSurveyChanged(),i}return d(t,e),t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),this.nextSelectionAction&&"hasNext"===t&&(this.nextSelectionAction.enabled=this.hasNext),this.prevSelectionAction&&"hasPrev"===t&&(this.prevSelectionAction.enabled=this.hasPrev)},Object.defineProperty(t.prototype,"selectionController",{get:function(){return this.creator.selectionHistoryController},enumerable:!1,configurable:!0}),t.prototype.onSurveyChanged=function(){var e=this;this.survey=this.propertyGridModel.survey,this.survey&&this.survey.onValueChanged.add((function(t,o){"name"!=o.name&&"title"!=o.name||e.updateTitle()})),this.updateTitle(),this.selectionController&&(this.hasPrev=this.selectionController.hasPrev,this.hasNext=this.selectionController.hasNext)},t.prototype.updateTitle=function(){this.selectedElementName=this.getTitle(),this.objectSelectionAction.title=this.selectedElementName},t.prototype.getTitle=function(){var e=this.propertyGridModel.obj;if(!e)return"";var t=R.getObjectName(e,this.propertyGridModel.options.showObjectTitles);return this.propertyGridModel.options.getObjectDisplayName(e,"property-grid",t)},t.prototype.initActions=function(){var e=this;u.propertyGrid.showNavigationButtons&&(this.prevSelectionAction=new n.Action({id:"svd-grid-history-prev",iconName:"icon-arrow-left",component:"sv-action-bar-item",title:s("ed.prevSelected"),showTitle:!1,enabled:this.hasPrev,action:function(){e.selectionController.prev()}}),this.nextSelectionAction=new n.Action({id:"svd-grid-history-next",iconName:"icon-arrow-right",component:"sv-action-bar-item",title:s("ed.nextSelected"),showTitle:!1,enabled:this.hasNext,action:function(){e.selectionController.next()}}));var t=new gt(this.creator,(function(t,o,i){return e.propertyGridModel.options.getObjectDisplayName(t,o,i)}));this.selectorPopupModel=new n.PopupModel("svc-object-selector",{model:t},"bottom","center"),this.objectSelectionAction=new n.Action({id:"svd-grid-object-selector",title:this.selectedElementName,css:"sv-action--last sv-action-bar-item--secondary",component:"sv-action-bar-item-dropdown",action:function(){e.selectorPopupModel.displayMode=e.creator.isMobileView?"overlay":"popup",t.show(e.selectionController.creator.survey,e.propertyGridModel.obj,(function(t){e.selectionController.selectFromAction(t,"name"),e.selectorPopupModel.toggleVisibility()})),e.selectorPopupModel.toggleVisibility()},popupModel:this.selectorPopupModel})},p([Object(n.property)()],t.prototype,"hasPrev",void 0),p([Object(n.property)()],t.prototype,"hasNext",void 0),p([Object(n.property)()],t.prototype,"survey",void 0),p([Object(n.property)()],t.prototype,"selectedElementName",void 0),t}(n.Base),ft=(o(11),n.settings.allowShowEmptyTitleInDesignMode),vt=function(e){function t(t){var o=e.call(this)||this;return o.onPagesChangedHandler=function(e,t){o.newPage&&(o.newPage.num=o.survey.pages.length+1)},o.creator=t,o.initSurvey(),o}return d(t,e),t.prototype.createNewPage=function(){var e=this,t=this.survey.createNewPage("");this.creator.setNewNames(t),t.onFirstRendering(),t.updateCustomWidgets(),t.setWasShown(!0),t.setSurveyImpl(this.survey),t.updateElementCss();var o=function(i,n){if("elements"===n.name&&t.elements.length>0){if(t.onPropertyChanged.remove(o),t.showTitle=!0,t.showDescription=!0,e.survey.pages.indexOf(t)>-1)return;e.creator.addPage(t)}};t.num=this.survey.pages.length+1,t.onPropertyChanged.add(o),this.newPage=t,n.DragDropSurveyElements.newGhostPage=t},Object.defineProperty(t.prototype,"canShowNewPage",{get:function(){if(!this.survey||"single"===this.creator.pageEditMode)return!1;var e=this.survey.pages;return 0===e.length||e[e.length-1].elements.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.creator.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isToolboxVisible",{get:function(){return this.creator.showToolboxValue&&("right"===this.creator.toolboxLocation||"left"===this.creator.toolboxLocation)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){return s("ed.surveyPlaceHolder")},enumerable:!1,configurable:!0}),t.prototype.initSurvey=function(){var e=this;this.survey&&(this.showNewPage=!1,this.newPage=void 0,this.checkNewPageHandler=function(t,o){e.checkNewPage()},this.surveyOnPropertyChanged=function(t,o){"pages"===o.name&&e.checkNewPage()},this.survey.onPropertyChanged.add(this.surveyOnPropertyChanged),this.survey.onQuestionAdded.add(this.checkNewPageHandler),this.survey.onQuestionRemoved.add(this.checkNewPageHandler),this.survey.onPanelAdded.add(this.checkNewPageHandler),this.survey.onPanelRemoved.add(this.checkNewPageHandler),this.creator.pagesController.onPagesChanged.add(this.onPagesChangedHandler),this.checkNewPage(),this.widthUpdater&&this.widthUpdater.dispose(),this.widthUpdater=new n.ComputedUpdater((function(){return e.survey.calculateWidthMode()})),this.withModifier=this.widthUpdater)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.creator.pagesController.onPagesChanged.remove(this.onPagesChangedHandler),this.survey.onPropertyChanged.remove(this.surveyOnPropertyChanged),this.survey.onQuestionAdded.remove(this.checkNewPageHandler),this.survey.onQuestionRemoved.remove(this.checkNewPageHandler),this.survey.onPanelAdded.remove(this.checkNewPageHandler),this.survey.onPanelRemoved.remove(this.checkNewPageHandler)},t.prototype.checkNewPage=function(){var e=0===this.survey.getAllQuestions().length&&0===this.survey.pageCount;if(this.showPlaceholder=e,this.pageCount=this.survey.pageCount,this.showPlaceholder||this.canShowNewPage){var t=this.survey.pages;(!this.newPage||t.length>0&&this.newPage===t[t.length-1])&&(this.createNewPage(),this.showNewPage=!0),this.newPage.showTitle=!e,this.newPage.showDescription=!e}else this.showNewPage=!1,this.newPage=void 0},t.prototype.clickDesigner=function(){this.creator.selectedElement=this.creator.survey},t.prototype.getDesignerCss=function(){return this.survey.css.container+" "+this.survey.css.container+"--"+this.withModifier},t.prototype.getRootCss=function(){var e=this.survey.css.root;return this.creator.showPageNavigator&&this.survey.pageCount>1&&(e+=" svc-tab-designer--with-page-navigator"),e},p([Object(n.property)()],t.prototype,"newPage",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showNewPage",void 0),p([Object(n.property)()],t.prototype,"pageCount",void 0),p([Object(n.property)()],t.prototype,"withModifier",void 0),p([Object(n.property)()],t.prototype,"showPlaceholder",void 0),t}(n.Base),bt=function(){function e(e){var t=this;this.creator=e,e.addPluginTab("designer",this);var o=new Se(e.survey,e);this.propertyGrid=new yt(o,e),this.propertyGridTab=this.creator.sidebar.addTab("propertyGrid","svc-property-grid",this.propertyGrid,(function(){var e=[];return t.propertyGrid.prevSelectionAction&&(t.propertyGrid.prevSelectionAction.visible=t.createVisibleUpdater(),e.push(t.propertyGrid.prevSelectionAction)),t.propertyGrid.nextSelectionAction&&(t.propertyGrid.nextSelectionAction.visible=t.createVisibleUpdater(),e.push(t.propertyGrid.nextSelectionAction)),t.propertyGrid.objectSelectionAction&&(t.propertyGrid.objectSelectionAction.visible=t.createVisibleUpdater(),e.push(t.propertyGrid.objectSelectionAction)),e})),this.toolboxTab=this.creator.sidebar.addTab("toolbox","svc-toolbox",e),this.creator.onPropertyChanged.add((function(e,o){"isMobileView"===o.name&&t.updatePropertyGridTabCaption(),"toolboxLocation"===o.name&&(t.toolboxTab.visible&&"sidebar"!==o.newVal&&(t.propertyGridTab.visible=!0),t.toolboxTab.visible="sidebar"===o.newVal)})),this.propertyGrid.onPropertyChanged.add((function(e,o){"selectedElementName"===o.name&&t.updatePropertyGridTabCaption()})),this.createActions().forEach((function(t){return e.toolbar.actions.push(t)})),e.registerShortcut("delete",{hotKey:{keyCode:46},macOsHotkey:{keyCode:46},execute:function(){return t.creator.deleteCurrentElement()}})}return Object.defineProperty(e.prototype,"isSurveySelected",{get:function(){return this.creator.isElementSelected(this.creator.survey)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSettingsActive",{get:function(){return this.creator.showSidebar&&this.isSurveySelected},enumerable:!1,configurable:!0}),e.prototype.createVisibleUpdater=function(){var e=this;return new n.ComputedUpdater((function(){return"designer"===e.creator.activeTab}))},e.prototype.updatePropertyGridTabCaption=function(){this.propertyGridTab.caption=this.creator.isMobileView?this.propertyGrid.selectedElementName:""},e.prototype.activate=function(){this.model=new vt(this.creator),this.creator.sidebar.activeTab=this.propertyGridTab.id},e.prototype.deactivate=function(){return this.model=void 0,this.propertyGridTab.visible=!1,!0},e.prototype.update=function(){this.model&&this.model.initSurvey()},e.prototype.createActions=function(){var e=this,t=[],o=new n.Action({id:"svd-toolbox",iconName:"icon-toolbox",needSeparator:!0,action:function(){e.creator.showSidebar||(e.creator.showSidebar=!0),e.creator.sidebar.activeTab="toolbox"},active:new n.ComputedUpdater((function(){return"toolbox"===e.creator.sidebar.activeTab})),visible:new n.ComputedUpdater((function(){var t="sidebar"===e.creator.toolboxLocation,o=e.creator.showToolbox;return"designer"===e.creator.activeTab&&o&&t})),title:"Toolbox",showTitle:!1});return this.surveySettingsAction=new n.Action({id:"svd-settings",iconName:"icon-settings",needSeparator:new n.ComputedUpdater((function(){var t="sidebar"===e.creator.toolboxLocation;return!e.creator.isMobileView&&!t})),action:function(){e.selectSurvey()},active:new n.ComputedUpdater((function(){var t=e.creator.sidebar.activeTab===e.propertyGridTab.id;return e.isSurveySelected&&t})),visible:this.createVisibleUpdater(),title:"Settings",showTitle:!1}),this.saveSurveyAction=new n.Action({id:"svd-save",iconName:"icon-save",action:function(){return e.creator.doSave()},active:new n.ComputedUpdater((function(){return"modified"===e.creator.state})),enabled:new n.ComputedUpdater((function(){return"modified"===e.creator.state})),visible:new n.ComputedUpdater((function(){var t="designer"===e.creator.activeTab;return e.creator.showSaveButton&&t})),title:this.creator.getLocString("ed.saveSurvey"),tooltip:this.creator.getLocString("ed.saveSurveyTooltip"),showTitle:!1}),this.previewAction=new n.Action({id:"svd-preview",iconName:"icon-preview",needSeparator:!0,action:function(){e.creator.makeNewViewActive("test")},visible:this.createVisibleUpdater(),title:this.creator.getLocString("ed.testSurvey"),showTitle:!1}),t.push(this.saveSurveyAction),t.push(o),t.push(this.surveySettingsAction),this.creator.onSelectedElementChanged.add((function(t,o){e.surveySettingsAction.active=e.isSettingsActive})),this.creator.onShowSidebarVisiblityChanged.add((function(t,o){e.surveySettingsAction.active=e.isSettingsActive})),t},e.prototype.selectSurvey=function(){this.creator.showSidebar||(this.creator.showSidebar=!0),this.creator.selectElement(this.creator.survey),this.creator.sidebar.activeTab=this.propertyGridTab.id},e.prototype.addFooterActions=function(){this.creator.footerToolbar.actions.push(this.surveySettingsAction),this.creator.footerToolbar.actions.push(this.previewAction)},e}(),wt=(o(12),function(){function e(e,t){var o=this;this.container=e,this.creator=t,this.resizeObserver=void 0,this.screenWidth={xxl:1800,xl:1500,l:1200,m:900,s:600},this.devicePixelRatio=window&&window.devicePixelRatio||1,"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(e){return o.process()})),this.resizeObserver.observe(this.container.parentElement),this.process(),"xs"!=this.currentWidth&&"s"!=this.currentWidth&&"m"!==this.currentWidth||(this.creator.showSidebar=!1))}return e.prototype.getScreenWidth=function(){var e,t=this;return Object.keys(this.screenWidth).forEach((function(o){!e&&t.container&&t.screenWidth[o]&&t.container.offsetWidth*t.devicePixelRatio>=t.screenWidth[o]&&(e=o)})),e||"xs"},e.prototype.initMobileView=function(){this.creator.showTabs=!1,this.creator.showToolbar=!1,this.creator.isMobileView=!0},e.prototype.resetMobileView=function(){this.creator.showTabs=void 0,this.creator.showToolbar=void 0,this.creator.isMobileView=void 0},e.prototype.procesShowToolbox=function(e){e&&!this.creator.showToolbox&&void 0!==this.prevShowToolbox?(this.creator.showToolbox=this.prevShowToolbox,this.prevShowToolbox=void 0):!e&&this.creator.showToolbox&&void 0===this.prevShowToolbox&&(this.prevShowToolbox=this.creator.showToolbox,this.creator.showToolbox=!1)},e.prototype.procesShowPageNavigator=function(e){e&&!this.creator.showPageNavigator&&void 0!==this.prevShowPageNavigator?(this.creator.showPageNavigator=this.prevShowPageNavigator,this.prevShowPageNavigator=void 0):!e&&this.creator.showPageNavigator&&void 0===this.prevShowPageNavigator&&(this.prevShowPageNavigator=this.creator.showPageNavigator,this.creator.showPageNavigator=!1)},e.prototype._process=function(e,t,o){this.creator.updateToolboxIsCompact(e),this.procesShowToolbox(t),this.procesShowPageNavigator(t),this.creator.sidebar.flyoutMode=o,this.creator.sidebar.visible&&!o&&(this.creator.sidebar.collapsedManually=!1),this.creator.sidebar.visible&&!this.creator.sidebar.expandedManually&&o&&"right"!=this.creator.toolboxLocation&&this.creator.sidebar.collapseSidebar(),this.creator.sidebar.visible||this.creator.sidebar.collapsedManually||o||"right"==this.creator.toolboxLocation||this.creator.sidebar.expandSidebar()},e.prototype.process=function(){this.currentWidth=this.getScreenWidth(),"xl"===this.currentWidth||"xxl"===this.currentWidth?this._process(!1,!0,!1):"l"===this.currentWidth?this._process(!0,!0,!1):"m"===this.currentWidth?this._process(!0,!0,!0):this._process(!0,!1,!0),"xs"==this.currentWidth?this.initMobileView():this.resetMobileView()},e.prototype.dispose=function(){this.resizeObserver&&this.resizeObserver.disconnect()},e}()),xt=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.id=t,r.sidePanel=o,i&&(r.componentName=i),n&&(r.model=n),r}return d(t,e),p([Object(n.property)({onSet:function(e,t){t.sidePanel.headerText=t.caption}})],t.prototype,"caption",void 0),p([Object(n.property)({onSet:function(e,t){t.sidePanel.updateHasVisibleTabs()}})],t.prototype,"visible",void 0),p([Object(n.property)()],t.prototype,"model",void 0),p([Object(n.property)()],t.prototype,"componentName",void 0),t}(n.Base),Ct=function(){function e(e,t){var o=this;this.container=e,this.events={mousedown:{touch:"touchend",mouse:"mousedown",pointer:"pointerdown"},mouseup:{touch:"touchstart",mouse:"mouseup",pointer:"pointerup"},mousemove:{touch:"touchmove",mouse:"mousemove",pointer:"pointermove"}},this.onMouseDownListener=function(e){e.preventDefault(),o.originalWidth=o.getStyleValue(o.container,"width"),o.originalMouseX=e.pageX,o.currentResizer=e.target,window.addEventListener(o.getMouseEvent("mousemove"),o.resize),window.addEventListener(o.getMouseEvent("mouseup"),o.stopResize)},this.resize=function(e){var t=o.originalWidth,i=e.pageX-o.originalMouseX;o.currentResizer==o.westResizer?t-=i:t+=i,t>o.maxWidth?t=o.maxWidth:t<o.minWidth&&(t=o.minWidth),o.container.style.width=t+"px"},this.stopResize=function(e){window.removeEventListener(o.getMouseEvent("mousemove"),o.resize),window.removeEventListener(o.getMouseEvent("mouseup"),o.stopResize)},this.init(e),this.setHandles(t)}return e.prototype.setHandles=function(e){var t=!1,o=!1,i=e.split(",");i.forEach((function(e){return e.trim()})),((i=i.filter((function(e){return!!e})))||[]).forEach((function(e){"w"==e&&(t=!0),"e"==e&&(o=!0)})),this.westResizer.style.display=t?"block":"none",this.eastResizer.style.display=o?"block":"none"},e.prototype.getStyleValue=function(e,t){return parseFloat(window.getComputedStyle(e).getPropertyValue(t).replace("px",""))},e.prototype.isEventSupported=function(e){var t=document.createElement("div"),o=(e="on"+e)in t;return o||(t.setAttribute(e,"return;"),o="function"==typeof t[e]),t=null,o},e.prototype.getEventPrefix=function(){return void 0===this.mouseDevice&&(this.isEventSupported("pointerdown")?this.mouseDevice="pointer":this.isEventSupported("touchstart")?this.mouseDevice="touch":this.isEventSupported("mousedown")&&(this.mouseDevice="mouse")),this.mouseDevice},e.prototype.getMouseEvent=function(e){return this.events[e][this.getEventPrefix()]},e.prototype.init=function(e){this.westResizer=this.createrResizerElement("svc-resizer svc-resizer-west"),this.eastResizer=this.createrResizerElement("svc-resizer svc-resizer-east"),this.minWidth=this.getStyleValue(e,"min-width"),this.maxWidth=this.getStyleValue(e,"max-width"),e.insertBefore(this.westResizer,e.children[0]),e.appendChild(this.eastResizer)},e.prototype.createrResizerElement=function(e){var t=document.createElement("div");return t.className=e,t.addEventListener(this.getMouseEvent("mousedown"),this.onMouseDownListener),t},e.prototype.dispose=function(){this.eastResizer.removeEventListener(this.getMouseEvent("mousedown"),this.onMouseDownListener),this.eastResizer.remove(),this.eastResizer=void 0,this.westResizer.removeEventListener(this.getMouseEvent("mousedown"),this.onMouseDownListener),this.westResizer.remove(),this.westResizer=void 0},e}(),Tt=function(e){function t(t,o,i){void 0===o&&(o=function(){r.creator.showSidebar=!1}),void 0===i&&(i=function(){r.creator.showSidebar=!0});var r=e.call(this)||this;return r.creator=t,r.collapseAction=o,r.expandAction=i,r.toolbar=new n.AdaptiveActionContainer,r.onSidebarVisibilityChanged=function(e,t){r.isDisposed||(r.visible=t.show)},r.creator.onShowSidebarVisiblityChanged.add(r.onSidebarVisibilityChanged),r.creator.onPropertyChanged.add((function(e,t){"sidebarLocation"===t.name&&r.resizeManager&&r.resizeManager.setHandles(r.getCurrentHandles())})),r.visible=r.creator.showSidebar,r.createActions(),r}return d(t,e),Object.defineProperty(t.prototype,"flyoutPanelMode",{get:function(){return this.visible&&this.flyoutMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeText",{get:function(){return s("pe.close")},enumerable:!1,configurable:!0}),t.prototype.getTabById=function(e){return this.tabs.filter((function(t){return t.id===e}))[0]},t.prototype.createActions=function(){var e=this;this.creator.allowCollapseSidebar&&(this._collapseAction=new n.Action({id:"svd-grid-hide",iconName:"icon-collapse-panel",css:"svd-grid-hide",title:s("ed.hidePanel"),showTitle:!1,visible:new n.ComputedUpdater((function(){return e.visible})),action:function(){e.collapseSidebar(),e.flyoutMode||(e.collapsedManually=!0,e.expandedManually=!1)}}),this.toolbar.actions.push(this._collapseAction),this._expandAction=new n.Action({id:"svd-grid-expand",iconName:"icon-expand-panel",css:"svd-grid-expand",needSeparator:!0,action:function(){e.expandSidebar(),e.flyoutMode||(e.collapsedManually=!1,e.expandedManually=e.flyoutMode)},title:s("ed.showPanel"),visible:new n.ComputedUpdater((function(){var t=!e.visible;return e.hasVisibleTabs&&t})),showTitle:!1}))},t.prototype.getCurrentHandles=function(){return"right"==this.creator.sidebarLocation?"w":"e"},t.prototype.getExpandAction=function(){return this._expandAction},t.prototype.collapseSidebar=function(){this.collapseAction?this.collapseAction():this.visible=!1},t.prototype.expandSidebar=function(){this.expandAction?this.expandAction():this.visible=!0},t.prototype.addTab=function(e,t,o,i){var n=this,r=new xt(e,this,t,o);return this.tabs.push(r),i&&(i()||[]).forEach((function(e){return n.toolbar.actions.push(e)})),r},t.prototype.updateHasVisibleTabs=function(){this.hasVisibleTabs=(this.tabs||[]).filter((function(e){return e.visible})).length>0},t.prototype.dispose=function(){this.creator&&!this.isDisposed&&this.creator.onShowSidebarVisiblityChanged.remove(this.onSidebarVisibilityChanged),e.prototype.dispose.call(this)},t.prototype.initResizeManager=function(e){this.resizeManager=new Ct(e,this.getCurrentHandles())},t.prototype.resetResizeManager=function(){this.resizeManager&&(this.resizeManager.dispose(),this.resizeManager=void 0)},p([Object(n.propertyArray)()],t.prototype,"tabs",void 0),p([Object(n.property)()],t.prototype,"headerText",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"visible",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"collapsedManually",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"expandedManually",void 0),p([Object(n.property)()],t.prototype,"hasVisibleTabs",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"flyoutMode",void 0),p([Object(n.property)({onSet:function(e,t){t.tabs.forEach((function(e){return e.visible=!1})),t._activeTab=t.tabs.filter((function(t){return t.id===e}))[0],t._activeTab&&(t.headerText=t._activeTab.caption,t._activeTab.visible=!0)}})],t.prototype,"activeTab",void 0),t}(n.Base),St=(o(13),o(14),o(15),function(e){function t(t){return e.call(this,t)||this}return d(t,e),t}(n.Action)),Pt=function(e){function t(){var t=e.call(this)||this;return t.dotsItemPopupModel.horizontalPosition="center",t.minVisibleItemsCount=1,t}return d(t,e),t}(n.AdaptiveActionContainer),Et=function(e){function t(t){var o=e.call(this)||this;return o.creator=t,o}return d(t,e),t.prototype.getRenderedActions=function(){var e=this.actions,t=this.creator.sidebar.getExpandAction(),o=e.indexOf(t);return-1!==o&&(e.splice(o,1),e.push(t)),e},t}(n.ActionContainer),Ot=function(e){function t(t,o){var i=e.call(this)||this;i.options=t,i.isRTLValue=!1,i.alwaySaveTextInPropertyEditorsValue=!1,i.pageEditModeValue="standard",i.newQuestions=[],i.newPanels=[],i.plugins={},i.onElementDeleting=new n.Event,i.onGetPropertyReadOnly=new n.Event,i.onSurveyInstanceCreated=new n.Event,i.onGetObjectDisplayName=new n.Event,i.onElementAllowOperations=new n.Event,i.onDefineElementMenuItems=new n.Event,i.onShowingProperty=new n.Event,i.onCanShowProperty=i.onShowingProperty,i.onPropertyEditorCreated=new n.Event,i.onPropertyEditorUpdateTitleActions=new n.Event,i.onCanDeleteItem=new n.Event,i.onCollectionItemDeleting=new n.Event,i.onCollectionItemAllowOperations=new n.Event,i.onItemValueAdded=new n.Event,i.onMatrixColumnAdded=new n.Event,i.onSetPropertyEditorOptions=new n.Event,i.onGenerateNewName=new n.Event,i.onPropertyValidationCustomError=new n.Event,i.onPropertyValueChanging=new n.Event,i.onConditionQuestionsGetList=new n.Event,i.onConditionGetTitle=new n.Event,i.onModified=new n.Event,i.onQuestionAdded=new n.Event,i.onPanelAdded=new n.Event,i.onPageAdded=new n.Event,i.onDesignerSurveyCreated=new n.Event,i.onPreviewSurveyCreated=new n.Event,i.onTestSurveyCreated=i.onPreviewSurveyCreated,i.onNotify=new n.Event,i.onSelectedElementChanging=new n.Event,i.onSelectedElementChanged=new n.Event,i.onOpenFileChooser=new n.Event,i.onUploadFile=new n.Event,i.onTranslationStringVisibility=new n.Event,i.onTranslationLocaleInitiallySelected=new n.Event,i.useTabsInElementEditor=!1,i.maxLogicItemsInCondition=-1,i.showObjectTitles=!1,i.showTitlesInExpressions=!1,i.allowEditExpressionsInTextEditor=!0,i.maximumColumnsCount=u.propertyGrid.maximumColumnsCount,i.maximumChoicesCount=u.propertyGrid.maximumChoicesCount,i.maximumRowsCount=u.propertyGrid.maximumRowsCount,i.maximumRateValues=u.propertyGrid.maximumRateValues,i.showPagesInTestSurveyTab=!0,i.showSimulatorInTestSurveyTab=!0,i.allowModifyPages=!0,i.showDefaultLanguageInTestSurveyTab="auto",i.showInvisibleElementsInTestSurveyTab=!0,i.showPageSelectorInToolbar=!1,i.tabbedMenu=new Pt,i.showErrorOnFailedSave=!0,i.onActiveTabChanged=new n.Event,i.showSidebarValue=!0,i.onShowSidebarVisiblityChanged=new n.Event,i.onShowPropertyGridVisiblityChanged=new n.Event,i.onBeforeUndo=new n.Event,i.onBeforeRedo=new n.Event,i.onAfterUndo=new n.Event,i.onAfterRedo=new n.Event,i.onStateChanged=new n.Event,i.notifier=new nt,i.onKeyDownHandler=function(e){var t,o;Object.keys(i.shortcuts||{}).forEach((function(n){t=i.shortcuts[n],(o=e.metaKey?t.macOsHotkey:t.hotKey)&&!!o.ctrlKey==!!e.ctrlKey&&!!o.shiftKey==!!e.shiftKey&&o.keyCode===e.keyCode&&(o.keyCode<48&&function(e){if(!e.tagName)return!1;var t=e.tagName.toLowerCase();if(-1!==["input","textarea"].indexOf(t))return!0;if("span"===t)return e.isContentEditable;return!1}(e.target)||t.execute(i.selectElement))}))},i.shortcuts={},i.autoSaveDelay=u.autoSave.delay,i.autoSaveTimerId=null,i.saveNo=0,(o||"string"==typeof i.options||i.options instanceof String)&&(i.options=o||{},R.warnText("Creator constructor has one parameter, as creator options, in V2.")),i.toolbarValue=new Et(i),i.pagesControllerValue=new q(i),i.selectionHistoryControllerValue=new z(i),i.sidebar=new Tt(i),i.setOptions(i.options),i.patchMetadata(),i.initSurveyWithJSON({},!1),i.toolbox=new b(i.options&&i.options.questionTypes?i.options.questionTypes:null,i),i.updateToolboxIsCompact(),i.initTabs(),i.initDragDrop();var r=i.sidebar.getExpandAction();return r&&i.toolbar.actions.push(r),i}return d(t,e),Object.defineProperty(t.prototype,"showPreviewTab",{get:function(){return this.showTestSurveyTab},set:function(e){this.showTestSurveyTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEditSurveyTitle",{get:function(){return this.getPropertyValue("allowEditSurveyTitle",!0)},set:function(e){this.setPropertyVisibility("survey",e,"title","description","logo","showTitle","logoWidth","logoHeight"),this.setPropertyValue("allowEditSurveyTitle",e),this.designerPropertyGrid&&this.designerPropertyGrid.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"licenseText",{get:function(){return this.getLocString("survey.license")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageEditMode",{get:function(){return this.pageEditModeValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolbarItems",{get:function(){return this.toolbarValue.actions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.toolbarValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showingViewName",{get:function(){return this.activeTab},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignerShowing",{get:function(){return"designer"===this.activeTab},enumerable:!1,configurable:!0}),t.prototype.showDesigner=function(){this.activeTab="designer"},Object.defineProperty(t.prototype,"isTestSurveyShowing",{get:function(){return this.isPreviewShowing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewShowing",{get:function(){return"test"===this.activeTab},enumerable:!1,configurable:!0}),t.prototype.showTestSurvey=function(){this.showPreview()},t.prototype.showPreview=function(){this.activeTab="test"},t.prototype.addPluginTab=function(e,t,o,i,n){var s=this,a=new St({id:e,title:o||r.getString("ed."+e),componentContent:i||"svc-tab-"+e,data:t,action:function(){return s.makeNewViewActive(e)},active:this.viewType===e});n>=0&&n<this.tabs.length?this.tabs.splice(n,0,a):this.tabs.push(a),this.addPlugin(e,t)},t.prototype.addPlugin=function(e,t){this.plugins[e]=t},t.prototype.getPlugin=function(e){return this.plugins[e]},Object.defineProperty(t.prototype,"showPagesInPreviewTab",{get:function(){return this.showPagesInTestSurveyTab},set:function(e){this.showPagesInTestSurveyTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSimulatorInPreviewTab",{get:function(){return this.showSimulatorInTestSurveyTab},set:function(e){this.showSimulatorInTestSurveyTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDefaultLanguageInPreviewTab",{get:function(){return this.showDefaultLanguageInTestSurveyTab},set:function(e){this.showDefaultLanguageInTestSurveyTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInvisibleElementsInPreviewTab",{get:function(){return this.showInvisibleElementsInTestSurveyTab},set:function(e){this.showInvisibleElementsInTestSurveyTab=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabs",{get:function(){return this.tabbedMenu.actions},set:function(e){this.tabbedMenu.actions=e},enumerable:!1,configurable:!0}),t.prototype.getLocString=function(e){return r.getString(e)},t.prototype.onSetReadOnly=function(e){},Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(e){var t=this.text;this.setPropertyValue("readOnly",e),this.onSetReadOnly(e),this.text=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRTL",{get:function(){return this.isRTLValue},set:function(e){this.isRTLValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeTab",{get:function(){return this.viewType},set:function(e){this.makeNewViewActive(e)},enumerable:!1,configurable:!0}),t.prototype.makeNewViewActive=function(e){if(e==this.viewType)return!1;if(!this.canSwitchViewType())return!1;var t=this.activatePlugin(e);return this.viewType=e,this.onActiveTabChanged.fire(this,{tabName:e,plugin:t,model:t?t.model:void 0}),!0},t.prototype.canSwitchViewType=function(){var e=this.currentPlugin;return!e||!e.deactivate||e.deactivate()},t.prototype.activatePlugin=function(e){var t=this.getPlugin(e);return t&&t.activate(),t},Object.defineProperty(t.prototype,"currentPlugin",{get:function(){return this.getPlugin(this.activeTab)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolboxCategories",{get:function(){return this.toolbox.categories},enumerable:!1,configurable:!0}),t.prototype.updateToolboxIsCompact=function(e){var t=null!=e&&null!=e;"right"==this.toolboxLocation?this.toolbox.isCompact=this.showSidebar||t&&e:t&&(this.toolbox.isCompact=e)},t.prototype.onSurveyElementPropertyValueChanged=function(e,t,o){throw new Error("Method not implemented.")},Object.defineProperty(t.prototype,"showToolbox",{get:function(){return this.showToolboxValue},set:function(e){!0!==e&&!1!==e&&R.warnText("showToolbox is a boolean property now."),"none"===e||!1===e||"top"===e?this.showToolboxValue=!1:(!0===e||(this.toolboxLocation=e),this.showToolboxValue=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSidebar",{get:function(){return this.showSidebarValue},set:function(e){!0===e||!1===e?this.showSidebar!==e&&(this.showSidebarValue=e,this.updateToolboxIsCompact(),this.onShowSidebarVisiblityChanged.fire(this,{show:e}),this.onShowPropertyGridVisiblityChanged.isEmpty||(R.warnNonSupported("onShowPropertyGridVisiblityChanged","onShowSidebarVisiblityChanged"),this.onShowPropertyGridVisiblityChanged.fire(this,{show:e}))):R.warnText("showSidebar is a boolean property now.")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPropertyGrid",{get:function(){return R.warnNonSupported("showPropertyGrid","showSidebar"),this.showSidebar},set:function(e){R.warnNonSupported("showPropertyGrid","showSidebar"),!0===e||!1===e?this.showSidebar=e:R.warnText("showSidebar is a boolean property.")},enumerable:!1,configurable:!0}),t.prototype.rightContainerActiveItem=function(e){R.warnNonSupported("rightContainerActiveItem")},t.prototype.leftContainerActiveItem=function(e){R.warnNonSupported("leftContainerActiveItem")},Object.defineProperty(t.prototype,"undoRedoManager",{get:function(){var e=this.getPlugin("undoredo");return e&&e.model.undoRedoManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"undoRedoController",{get:function(){var e=this.getPlugin("undoredo");return e&&e.model},enumerable:!1,configurable:!0}),t.prototype.startUndoRedoTransaction=function(e){void 0===e&&(e=""),this.undoRedoController&&this.undoRedoController.startTransaction(e)},t.prototype.stopUndoRedoTransaction=function(){this.undoRedoController&&this.undoRedoController.stopTransaction()},Object.defineProperty(t.prototype,"isProcessingUndoRedo",{get:function(){return this.undoRedoManager&&this.undoRedoManager.isProcessingUndoRedo},enumerable:!1,configurable:!0}),t.prototype.undo=function(){this.undoRedoController&&this.undoRedoController.undo()},t.prototype.redo=function(){this.undoRedoController&&this.undoRedoController.redo()},Object.defineProperty(t.prototype,"pagesController",{get:function(){return this.pagesControllerValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectionHistoryController",{get:function(){return this.selectionHistoryControllerValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this.survey.currentPage},set:function(e){this.survey.currentPage=e},enumerable:!1,configurable:!0}),t.prototype.addPage=function(e){var t=e;if(t)this.survey.addPage(t);else{var o=R.getNewPageName(this.survey.pages);t=this.survey.addNewPage(o)}return this.selectElement(t),t},t.prototype.initTabs=function(){this.initPlugins(),this.initFooterToolbar(),this.tabs.length>0&&this.makeNewViewActive(this.tabs[0].id)},t.prototype.initPlugins=function(){this.addPlugin("undoredo",new ct(this)),this.showDesignerTab&&new bt(this),this.showPreviewTab&&new te(this),this.showLogicTab&&new it(this),this.showJSONEditorTab&&(W.hasAceEditor()?new W(this):new X(this)),this.showEmbeddedSurveyTab&&new F(this),this.showTranslationTab&&new Ge(this)},t.prototype.initFooterToolbar=function(){var e=this;this.footerToolbar||(this.footerToolbar=new n.ActionContainer,["undoredo","designer","test"].forEach((function(t){var o=e.getPlugin(t);o&&o.addFooterActions&&o.addFooterActions()})))},t.prototype.getOptions=function(){return this.options||{}},t.prototype.setOptions=function(e){e||(e={}),e.hasOwnProperty("generateValidJSON")||(e.generateValidJSON=!0),this.options=e,this.showDesignerTab=void 0===e.showDesignerTab||e.showDesignerTab,this.showLogicTab=void 0!==e.showLogicTab&&e.showLogicTab,this.showJSONEditorTab=void 0===e.showJSONEditorTab||e.showJSONEditorTab,this.showPreviewTab=void 0!==e.showPreviewTab?e.showPreviewTab:void 0===e.showTestSurveyTab||e.showTestSurveyTab,this.allowEditSurveyTitle=void 0===e.allowEditSurveyTitle||e.allowEditSurveyTitle,this.showEmbeddedSurveyTab=void 0!==e.showEmbeddedSurveyTab&&e.showEmbeddedSurveyTab,this.showTranslationTab=void 0!==e.showTranslationTab&&e.showTranslationTab,this.showLogicTab=void 0!==e.showLogicTab&&e.showLogicTab,this.haveCommercialLicense=void 0!==e.haveCommercialLicense&&e.haveCommercialLicense,this.showObjectTitles=void 0!==e.showObjectTitles&&e.showObjectTitles,this.showTitlesInExpressions=void 0!==e.showTitlesInExpressions&&e.showTitlesInExpressions,this.allowEditExpressionsInTextEditor=void 0===e.allowEditExpressionsInTextEditor||e.allowEditExpressionsInTextEditor,void 0!==e.maximumColumnsCount&&(this.maximumColumnsCount=e.maximumColumnsCount),void 0!==e.maximumChoicesCount&&(this.maximumChoicesCount=e.maximumChoicesCount),void 0!==e.maximumRowsCount&&(this.maximumRowsCount=e.maxiumumRowsCount),void 0!==e.maximumRateValues&&(this.maximumRateValues=e.maximumRateValues),this.useTabsInElementEditor=void 0!==e.useTabsInElementEditor&&e.useTabsInElementEditor,this.maxLogicItemsInCondition=void 0!==e.maxLogicItemsInCondition?e.maxLogicItemsInCondition:-1,this.showState=void 0!==e.showState&&e.showState,this.showOptions=void 0!==e.showOptions&&e.showOptions,this.generateValidJSON=this.options.generateValidJSON,this.isAutoSave=void 0!==e.isAutoSave&&e.isAutoSave,this.showErrorOnFailedSave=void 0===e.showErrorOnFailedSave||e.showErrorOnFailedSave,this.isRTLValue=void 0!==e.isRTL&&e.isRTL,void 0!==e.readOnly&&(this.readOnly=e.readOnly),void 0!==e.showPagesInTestSurveyTab&&(this.showPagesInPreviewTab=e.showPagesInTestSurveyTab),void 0!==e.showPagesInPreviewTab&&(this.showPagesInPreviewTab=e.showPagesInPreviewTab),void 0!==e.showSimulatorInTestSurveyTab&&(this.showSimulatorInPreviewTab=e.showSimulatorInTestSurveyTab),void 0!==e.showSimulatorInPreviewTab&&(this.showSimulatorInPreviewTab=e.showSimulatorInPreviewTab),void 0!==e.showDefaultLanguageInTestSurveyTab&&(this.showDefaultLanguageInPreviewTab=e.showDefaultLanguageInTestSurveyTab),void 0!==e.showDefaultLanguageInPreviewTab&&(this.showDefaultLanguageInPreviewTab=e.showDefaultLanguageInPreviewTab),void 0!==e.showInvisibleElementsInTestSurveyTab&&(this.showInvisibleElementsInPreviewTab=e.showInvisibleElementsInTestSurveyTab),void 0!==e.showInvisibleElementsInPreviewTab&&(this.showInvisibleElementsInPreviewTab=e.showInvisibleElementsInPreviewTab),void 0!==e.allowModifyPages&&(this.allowModifyPages=e.allowModifyPages),void 0!==e.pageEditMode&&(this.pageEditModeValue=e.pageEditMode,"single"===this.pageEditModeValue&&(this.setPropertyVisibility("survey",!1,"pages"),this.setPropertyVisibility("question",!1,"page"),this.setPropertyVisibility("panel",!1,"page"),this.showJSONEditorTab=!0===e.showJSONEditorTab,n.settings.allowShowEmptyTitleInDesignMode=!1,n.settings.allowShowEmptyDescriptionInDesignMode=!1))},t.prototype.setPropertyPlaceHolder=function(e,t,o){var i=n.Serializer.findProperty(e,t);i&&(i.placeholder=o)},t.prototype.setPropertyVisibility=function(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];if(Array.isArray(o))for(var r=0;r<o.length;r++){var s=n.Serializer.findProperty(e,o[r]);s&&(s.visible=t)}},t.prototype.patchMetadata=function(){this.setPropertyPlaceHolder("survey","title","pe.surveyTitlePlaceholder"),this.setPropertyPlaceHolder("survey","description","pe.surveyDescriptionPlaceholder"),this.setPropertyVisibility("survey",!1,"logoPosition"),"single"!==this.pageEditMode&&(this.setPropertyPlaceHolder("page","title","pe.pageTitlePlaceholder"),this.setPropertyPlaceHolder("page","description","pe.pageDescriptionPlaceholder"))},t.prototype.isCanModifyProperty=function(e,t){var o,i,r=n.Serializer.findProperty(e.getType(),t);if(e instanceof n.ItemValue){if(o=e.locOwner,i=n.Serializer.findProperty(o.getType(),e.ownerPropertyName),!1===this.getElementAllowOperations(o).allowEdit)return!1;var s={allowDelete:!0,allowEdit:!0};if(this.onCollectionItemAllowingCallback(o,r,o.getPropertyValue(i.name),e,s),!1===s.allowEdit)return!1;if(this.onIsPropertyReadOnlyCallback(o,i,i.readOnly,null,null))return!1}if(e instanceof n.SurveyElement&&!1===this.getElementAllowOperations(e).allowEdit)return!1;return!r||!this.onIsPropertyReadOnlyCallback(e,r,r.readOnly,o,i)},t.prototype.onIsPropertyReadOnlyCallback=function(e,t,o,i,n){var r=this.readOnly||o;if(this.onGetPropertyReadOnly.isEmpty)return r;var s={obj:e,property:t,readOnly:r,propertyName:t.name,parentObj:i,parentProperty:n};return this.onGetPropertyReadOnly.fire(this,s),s.readOnly},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),t.prototype.initSurveyWithJSON=function(e,t){var o=this;this.existingPages={};var i=this.createSurvey({});i.css=n.defaultV2Css,i.setDesignMode(!0),i.lazyRendering=!0,i.setJsonObject(e),i.logoPosition="right",i.isEmpty&&i.setJsonObject(this.getDefaultSurveyJson()),i.pages.forEach((function(e){o.existingPages[e.id]=!0})),this.onDesignerSurveyCreated.fire(this,{survey:i}),i.onQuestionAdded.add((function(e,t){o.doOnQuestionAdded(t.question,t.parentPanel)})),i.onPanelAdded.add((function(e,t){o.doOnPanelAdded(t.panel,t.parentPanel)})),i.onPageAdded.add((function(e,t){o.existingPages[t.page.id]||(o.existingPages[t.page.id]=!0,o.doOnPageAdded(t.page))})),i.onGetMatrixRowActions.add((function(e,t){ve(t.question,t.actions,t.row)})),this.setSurvey(i);var r=this.getPlugin(this.activeTab);r&&r.update&&r.update()},t.prototype.initDragDrop=function(){this.initDragDropSurveyElements(),this.initDragDropChoices()},t.prototype.initDragDropSurveyElements=function(){var e=this;n.DragDropSurveyElements.restrictDragQuestionBetweenPages=u.dragDrop.restrictDragQuestionBetweenPages,this.dragDropSurveyElements=new n.DragDropSurveyElements(null,this),this.dragDropSurveyElements.onBeforeDrop.add((function(t,o){e.startUndoRedoTransaction("drag drop")})),this.dragDropSurveyElements.onAfterDrop.add((function(t,o){e.stopUndoRedoTransaction(),e.selectElement(o.draggedElement,void 0,!1)}))},t.prototype.initDragDropChoices=function(){var e=this;this.dragDropChoices=new n.DragDropChoices(null,this),this.dragDropChoices.onBeforeDrop.add((function(t,o){e.startUndoRedoTransaction("drag drop")})),this.dragDropChoices.onAfterDrop.add((function(t,o){e.stopUndoRedoTransaction(),e.selectElement(o.draggedElement,void 0,!1)}))},t.prototype.updateElementsOnLocaleChanged=function(e,t){if("survey"===e.getType()&&"locale"===t)for(var o=this.survey.pages,i=0;i<o.length;i++)o[i].locStrsChanged()},t.prototype.updateConditionsOnQuestionNameChanged=function(e,t,o){if(this.isObjQuestion(e)&&("name"!==t||e.valueName||this.updateConditions(o,e.name),"valueName"===t)){var i=o||e.name,n=e.valueName?e.valueName:e.name;this.updateConditions(i,n)}},t.prototype.updatePagesController=function(e,t){"name"!=t&&"title"!=t||!this.isObjPage(e)||this.pagesController.pageNameChanged(e)},t.prototype.updateConditions=function(e,t){e!==t&&new ue(this.survey,this).renameQuestion(e,t)},t.prototype.isObjQuestion=function(e){return this.isObjThisType(e,"question")},t.prototype.isObjPage=function(e){return this.isObjThisType(e,"page")},t.prototype.isObjThisType=function(e,t){for(var o=n.Serializer.findClass(e.getType());o&&o.parentName;){if(o.name===t)return!0;o=n.Serializer.findClass(o.parentName)}return!!o&&o.name===t},t.prototype.doOnQuestionAdded=function(e,t){e.name=this.generateUniqueName(e,e.name);var o={question:e,page:this.getPageByElement(e)};this.onQuestionAdded.fire(this,o)},t.prototype.doOnPanelAdded=function(e,t){var o={panel:e,page:this.getPageByElement(e)};this.onPanelAdded.fire(this,o)},t.prototype.doOnPageAdded=function(e){var t={page:e};this.onPageAdded.fire(this,t),this.setModified({type:"PAGE_ADDED",newValue:t.page})},t.prototype.getPageByElement=function(e){return this.survey.getPageByElement(e)},t.prototype.getDefaultSurveyJson=function(){var e=u.defaultNewSurveyJSON;return e.pages&&e.pages.length>0&&e.pages[0].name&&(e.pages[0].name=r.getString("ed.newPageName")+"1"),e},t.prototype.setSurvey=function(e){this.surveyValue&&this.surveyValue.dispose(),this.surveyValue=e,this.selectElement(e),this.pagesController.onSurveyChanged(),this.selectionHistoryController.reset()},t.prototype.getSurveyTextFromDesigner=function(){if(!this.survey)return"";var e=this.survey.toJSON();e=this.singlePageJSON(e);var t=u.jsonEditor.indentation;return this.options&&this.options.generateValidJSON?JSON.stringify(e,null,t):(new h).stringify(e,null,t)},t.prototype.setTextValue=function(e){this.setSurveyJSONTextCallback&&this.setSurveyJSONTextCallback(e)},t.prototype.changeText=function(e,t){void 0===t&&(t=!1),this.setTextValue(e);var o=new y(e);o.isJsonCorrect?this.initSurveyWithJSON(o.survey.toJSON(),t):this.viewType="editor"},Object.defineProperty(t.prototype,"text",{get:function(){return this.getSurveyJSONTextCallback?this.getSurveyJSONTextCallback().text:this.getSurveyTextFromDesigner()},set:function(e){this.changeText(e,!0)},enumerable:!1,configurable:!0}),t.prototype.getSurveyJSON=function(){if("editor"!=this.viewType)return(new n.JsonObject).toJsonObject(this.survey);var e=this.text,t=new y(e);return t.isJsonCorrect?(new n.JsonObject).toJsonObject(t.survey):null},t.prototype.getObjectDisplayName=function(e,t,o){void 0===t&&(t=void 0),void 0===o&&(o=void 0),o||(o=R.getObjectName(e,this.showObjectTitles));var i={obj:e,displayName:o,reason:t};return this.onGetObjectDisplayName.fire(this,i),i.displayName},t.prototype.createSurvey=function(e,t){void 0===e&&(e={}),void 0===t&&(t="designer");var o=this.createSurveyCore(e,t);return"designer"!=t&&"test"!=t&&(o.locale=r.currentLocale),this.onSurveyInstanceCreated.fire(this,{survey:o,reason:t}),o},t.prototype.createSurveyCore=function(e,t){return void 0===e&&(e={}),"designer"===t||"modal-question-editor"===t?new Nt(this,e):new n.SurveyModel(e)},Object.defineProperty(t.prototype,"state",{get:function(){return this._stateValue?this._stateValue:""},enumerable:!1,configurable:!0}),t.prototype.setState=function(e){this._stateValue=e,this.onStateChanged.fire(this,{val:e}),e&&this.notify(this.getLocString("ed."+e))},t.prototype.setModified=function(e){void 0===e&&(e=null),this.setState("modified"),this.onModified.fire(this,e),this.isAutoSave&&this.doAutoSave()},t.prototype.notify=function(e,t){void 0===t&&(t="info"),this.onNotify.isEmpty?this.notifier.notify(e,t):this.onNotify.fire(this,{message:e})},t.prototype.convertQuestion=function(e,t){var o=m.convertObject(e,t,this.getDefaultElementJSON(e.getType()));return this.setModified({type:"QUESTION_CONVERTED",className:t,oldValue:e,newValue:o}),o},t.prototype.getDefaultElementJSON=function(e){if(!this.toolbox)return null;var t=this.toolbox.getItemByName(e);return t?t.json:null},t.prototype.singlePageJSON=function(e){if("single"===this.pageEditMode){var t=e.pages;Array.isArray(t)&&t.length>0&&(void 0!==t[0].elements&&(e.elements=t[0].elements),delete e.pages)}return e},Object.defineProperty(t.prototype,"JSON",{get:function(){var e=this.survey.toJSON();return this.singlePageJSON(e)},set:function(e){"editor"==this.viewType?this.setTextValue(JSON.stringify(e)):this.initSurveyWithJSON(e,!0)},enumerable:!1,configurable:!0}),t.prototype.loadSurvey=function(e){var t=this;(new n.dxSurveyService).loadSurvey(e,(function(e,o,i){e&&o&&(t.JSON=o)}))},t.prototype.doClickQuestionCore=function(e,t,o,i){void 0===t&&(t="ADDED_FROM_TOOLBOX"),void 0===o&&(o=-1),void 0===i&&(i=null),0==this.survey.pageCount&&this.survey.addNewPage();var n=this.currentPage,r=this.getSelectedSurveyElement();r&&r.parent&&r.page==n&&(n=r.parent,o<0&&(o=n.elements.indexOf(r))>-1&&o++),i&&(n=i);var s=this.findRowByElement(r,n);s&&this.isRowMultiline(s)?this.addElemenMultiline(n,e,o,s):n.addElement(e,o),this.setModified({type:t,question:e})},t.prototype.isRowMultiline=function(e){return e.elements.length>1},t.prototype.findRowByElement=function(e,t){return e?e.isPage?e.rows[e.rows.length-1]:t.rows.find((function(t){return-1!==t.elements.indexOf(e)})):null},t.prototype.addElemenMultiline=function(e,t,o,i){var n=i.elements.length,r=i.elements[n-1];r.startWithNewLine=!0,e.addElement(t,o),r.startWithNewLine=!1},t.prototype.setNewNames=function(e){this.newQuestions=[],this.newPanels=[],this.newQuestionChangedNames={},this.setNewNamesCore(e),this.updateNewElementExpressions(e)},t.prototype.updateNewElementExpressions=function(e){var t=this.createSurvey({},"updateNewElementExpressions");t.setDesignMode(!0),e.isPage?t.addPage(e):(t.addNewPage("p1"),t.pages[0].addElement(e));var o=new ue(t);for(var i in this.newQuestionChangedNames)o.renameQuestion(i,this.newQuestionChangedNames[i])},t.prototype.getAllQuestions=function(){for(var e=[],t=0;t<this.survey.pages.length;t++)this.addElements(this.survey.pages[t].elements,!1,e);return this.addElements(this.newPanels,!1,e),this.addElements(this.newQuestions,!1,e),e},t.prototype.getAllPanels=function(){for(var e=[],t=0;t<this.survey.pages.length;t++)this.addElements(this.survey.pages[t].elements,!0,e);return this.addElements(this.newPanels,!0,e),this.addElements(this.newQuestions,!0,e),e},t.prototype.addElements=function(e,t,o){for(var i=0;i<e.length;i++)e[i].isPanel===t&&o.push(e[i]),this.addElements(R.getElements(e[i]),t,o)},t.prototype.getNewName=function(e,t){return"page"==e?R.getNewPageName(this.survey.pages):t?this.getNewPanelName():this.getNewQuestionName()},t.prototype.getNewQuestionName=function(){return R.getNewQuestionName(this.getAllQuestions())},t.prototype.getNewPanelName=function(){return R.getNewPanelName(this.getAllPanels())},t.prototype.setNewNamesCore=function(e){var t=e.getType(),o=this.getNewName(t,e.isPanel);if(o!=e.name&&(this.newQuestionChangedNames[e.name]=o,e.name=o),e.isPanel||"page"==t){e.isPanel&&this.newPanels.push(e);for(var i=e,n=0;n<i.elements.length;n++)this.setNewNamesCore(i.elements[n])}else this.newQuestions.push(e)},t.prototype.createNewElement=function(e){var t=n.Serializer.createClass(e.type);return(new n.JsonObject).toObject(e,t),this.setNewNames(t),t},t.prototype.copyElement=function(e){var t=(new n.JsonObject).toJsonObject(e);return t.type=e.getType(),this.createNewElement(t)},t.prototype.fastCopyQuestion=function(e){var t=this.copyElement(e),o=e.parent?e.parent.elements.indexOf(e)+1:-1;return this.doClickQuestionCore(t,"ELEMENT_COPIED",o),t},Object.defineProperty(t.prototype,"selectedElement",{get:function(){return this.selectedElementValue},set:function(e){this.selectElement(e)},enumerable:!1,configurable:!0}),t.prototype.deleteCurrentObject=function(){this.deleteCurrentElement()},t.prototype.deleteCurrentElement=function(){this.deleteObject(this.selectedElement)},t.prototype.deleteElement=function(e){this.deleteObject(e)},t.prototype.copyPage=function(e){var t=this.copyElement(e),o=this.survey.pages.indexOf(e);return o>-1?this.survey.pages.splice(o+1,0,t):this.survey.pages.push(t),t},t.prototype.deleteObjectCore=function(e){if(e.isPage){var t=this.getNextPage(e);this.survey.removePage(e),this.selectElement(t||this.survey)}else this.deletePanelOrQuestion(e);this.setModified({type:"OBJECT_DELETED",target:e}),this.updateConditionsOnRemove(e)},t.prototype.getNextPage=function(e){var t=this.survey.pages.indexOf(e);return t<0||1==this.survey.pages.length?null:(t==this.survey.pages.length-1?t--:t++,t<0||t>this.survey.pages.length-1?null:this.survey.pages[t])},t.prototype.deleteObject=function(e){var t={element:e,elementType:R.getObjectType(e),allowing:!0};this.onElementDeleting.fire(this,t),t.allowing&&this.deleteObjectCore(e)},t.prototype.updateConditionsOnRemove=function(e){if(R.getObjectType(e)==x.Question)t=[e];else var t=e.questions;if(t)for(var o=new ue(this.survey,this),i=0;i<t.length;i++)o.removeQuestion(t[i].getValueName())},t.prototype.isElementSelected=function(e){return!(!e||e.isDisposed)&&e.getPropertyValue("isSelectedInDesigner")},t.prototype.selectElement=function(e,t,o){void 0===o&&(o=!0);var i=this.selectedElement;i!==e&&(this.selectedElementValue=this.onSelectingElement(e),i!==this.selectedElementValue&&(i&&!i.isDisposed&&i.setPropertyValue("isSelectedInDesigner",!1),this.selectedElementValue&&this.selectedElementValue.setPropertyValue("isSelectedInDesigner",!0))),(i!==e||t)&&this.selectionChanged(this.selectedElement,t,o);var n=this.getSelectedSurveyElement();i!==e&&o&&document&&n&&setTimeout((function(){var e=document.getElementById(n.id);e&&(e.scrollIntoView({block:"center"}),t||e.parentElement&&e.parentElement.focus())}),100)},t.prototype.getSelectedSurveyElement=function(){var e=this.selectedElement;return e&&"survey"!=e.getType()&&e.isInteractiveDesignElement&&e.id?e:null},t.prototype.onSelectingElement=function(e){var t={newSelectedElement:e};return this.onSelectedElementChanging.fire(this,t),t.newSelectedElement},Object.defineProperty(t.prototype,"designerPropertyGrid",{get:function(){var e=this.sidebar.getTabById("propertyGrid");return e&&e.model?e.model.propertyGridModel:null},enumerable:!1,configurable:!0}),t.prototype.collapsePropertyGridCategory=function(e){this.designerPropertyGrid&&this.designerPropertyGrid.collapseCategory(e)},t.prototype.expandPropertyGridCategory=function(e){this.designerPropertyGrid&&this.designerPropertyGrid.expandCategory(e)},t.prototype.collapseAllPropertyGridCategories=function(){this.designerPropertyGrid&&this.designerPropertyGrid.collapseAllCategories()},t.prototype.expandAllPropertyGridCategories=function(){this.designerPropertyGrid&&this.designerPropertyGrid.expandAllCategories()},t.prototype.collapseAllPropertyTabs=function(){this.collapseAllPropertyGridCategories()},t.prototype.expandAllPropertyTabs=function(){this.expandAllPropertyGridCategories()},t.prototype.expandPropertyTab=function(e){this.expandPropertyGridCategory(e)},t.prototype.collapsePropertyTab=function(e){this.collapsePropertyGridCategory(e)},t.prototype.validateSelectedElement=function(){var e=!0;return this.selectedElement?(this.designerPropertyGrid&&(e=this.designerPropertyGrid.validate()),e):e},t.prototype.selectionChanged=function(e,t,o){void 0===o&&(o=!0),this.survey.currentPage=this.getCurrentPageByElement(e),this.selectionHistoryController.onObjSelected(e),this.designerPropertyGrid&&(this.designerPropertyGrid.obj=e,t||(t=this.designerPropertyGrid.currentlySelectedProperty),t&&this.designerPropertyGrid.selectProperty(t,o||!this.selectFromStringEditor),this.selectFromStringEditor=!1);var i={newSelectedElement:e};this.onSelectedElementChanged.fire(this,i)},t.prototype.getCurrentPageByElement=function(e){if(e)return e.isPage?e:e.page?e.page:e.parentQuestion?this.getCurrentPageByElement(e.parentQuestion):void 0},t.prototype.clickToolboxItem=function(e,t){void 0===t&&(t=null),this.readOnly||(void 0===e.getType&&(e=this.createNewElement(e)),this.survey.lazyRendering=!1,this.doClickQuestionCore(e,"ADDED_FROM_TOOLBOX",-1,t),this.selectElement(e))},t.prototype.getJSONForNewElement=function(e){var t=this.createNewElement(e);return(e=t.toJSON()).type=t.getType(),e},t.prototype.chooseFiles=function(e,t){if(this.onOpenFileChooser.isEmpty){if(!window.FileReader)return;e.value="",e.onchange=function(o){if(window.FileReader&&e&&e.files&&!(e.files.length<1)){for(var i=[],n=0;n<e.files.length;n++)i.push(e.files[n]);t(i)}},e.click()}else this.onOpenFileChooser.fire(this,{input:e,callback:t})},t.prototype.uploadFiles=function(e,t){if(this.onUploadFile.isEmpty){var o=new FileReader;o.onload=function(e){t("success",o.result)},o.readAsDataURL(e[0])}else this.onUploadFile.fire(this,{files:e||[],callback:t})},t.prototype.initKeyboardShortcuts=function(e){e.addEventListener("keydown",this.onKeyDownHandler)},t.prototype.removeKeyboardShortcuts=function(e){e.removeEventListener("keydown",this.onKeyDownHandler)},t.prototype.registerShortcut=function(e,t){this.shortcuts[e]=t},t.prototype.unRegisterShortcut=function(e){delete this.shortcuts[e]},t.prototype.deletePanelOrQuestion=function(e){var t=e.parent,o=t.elements,i=o.indexOf(e);i==o.length-1&&i--,"single"===this.pageEditMode&&"page"===t.getType()&&(t=this.survey),e.delete(),this.selectElement(i>-1?o[i]:t)},t.prototype.onCanShowObjectProperty=function(e,t,o,i,n){var r={obj:e,property:t,canShow:!0,showMode:o,parentObj:i,parentProperty:n};return this.onCanShowProperty.fire(this,r),r.canShow},t.prototype.canDeleteItem=function(e,t,o){var i={obj:e,item:t,canDelete:o};return this.onCanDeleteItem.fire(this,i),i.canDelete},t.prototype.getErrorOnPropertyChanging=function(e,t,o){if("name"!==t)return null;if(R.getObjectType(e)===x.Unknown)return null;return(R.getObjectType(e)===x.Column?!!e.colOwner&&!this.isNameUniqueInArray(e.colOwner.columns,e,o):this.generateUniqueName(e,o)!==o)?this.getLocString("pe.propertyNameIsNotUnique"):null},t.prototype.generateUniqueName=function(e,t){var o={element:e,name:t,isUnique:!0};do{for(o.isUnique||(o.name=R.generateNewName(o.name));!this.isNameUnique(e,o.name);)o.name=R.generateNewName(o.name);o.isUnique=!0;var i=o.name;this.onGenerateNewName.fire(this,o),i!=o.name&&(o.isUnique=this.isNameUnique(e,o.name))}while(!o.isUnique);return o.name},t.prototype.isNameUnique=function(e,t){return!!this.isNameUniqueInArray(this.survey.pages,e,t)&&(!!this.isNameUniqueInArray(this.survey.getAllPanels(),e,t)&&this.isNameUniqueInArray(this.survey.getAllQuestions(),e,t))},t.prototype.isNameUniqueInArray=function(e,t,o){if(!Array.isArray(e))return!0;o=o.toLowerCase();for(var i=0;i<e.length;i++)if(e[i]!=t&&e[i].name.toLowerCase()==o)return!1;return!0},t.prototype.doPropertyGridChanged=function(){},Object.defineProperty(t.prototype,"alwaySaveTextInPropertyEditors",{get:function(){return this.alwaySaveTextInPropertyEditorsValue},set:function(e){this.alwaySaveTextInPropertyEditorsValue=e},enumerable:!1,configurable:!0}),t.prototype.onCanShowPropertyCallback=function(e,t,o,i,n){return void 0===o&&(o=null),this.onCanShowObjectProperty(e,t,o,i,n)},t.prototype.onPropertyEditorCreatedCallback=function(e,t,o){var i={obj:e,property:t,editor:o};this.onPropertyEditorCreated.fire(this,i)},t.prototype.onPropertyEditorUpdateTitleActionsCallback=function(e,t,o,i){var n={obj:e,property:t,editor:o,titleActions:i};this.onPropertyEditorUpdateTitleActions.fire(this,n)},t.prototype.onCanDeleteItemCallback=function(e,t,o){return this.canDeleteItem(e,t,o)},t.prototype.onCollectionItemDeletingCallback=function(e,t,o,i){if(this.onCollectionItemDeleting.isEmpty)return!0;var n={obj:e,property:t,propertyName:t.name,collection:o,item:i,allowDelete:!0};return this.onCollectionItemDeleting.fire(this,n),n.allowDelete},t.prototype.onCollectionItemAllowingCallback=function(e,t,o,i,n){if(!this.onCollectionItemAllowOperations.isEmpty){var r={obj:e,property:t,propertyName:t&&t.name,collection:o,item:i,allowEdit:n.allowEdit,allowDelete:n.allowDelete};this.onCollectionItemAllowOperations.fire(this,r),n.allowEdit=r.allowEdit,n.allowDelete=r.allowDelete}},t.prototype.onItemValueAddedCallback=function(e,t,o,i){var n={obj:e,propertyName:t,newItem:o,itemValues:i};this.onItemValueAdded.fire(this,n)},t.prototype.onMatrixDropdownColumnAddedCallback=function(e,t,o){var i={newColumn:t,matrix:e,columns:o};this.onMatrixColumnAdded.fire(this,i)},t.prototype.onSetPropertyEditorOptionsCallback=function(e,t,o){var i={propertyName:e,obj:t,editorOptions:o};this.onSetPropertyEditorOptions.fire(this,i)},t.prototype.onGetErrorTextOnValidationCallback=function(e,t,o){var i=this.getErrorOnPropertyChanging(t,e,o);if(i)return i;var n={propertyName:e,obj:t,value:o,error:""};return this.onPropertyValidationCustomError.fire(this,n),n.error},t.prototype.onValueChangingCallback=function(e){this.onPropertyValueChanging.fire(this,e)},t.prototype.onGetElementEditorTitleCallback=function(e,t){return t},t.prototype.onConditionQuestionsGetListCallback=function(e,t,o,i){var n={propertyName:e,obj:t,editor:o,list:i};if(this.onConditionQuestionsGetList.fire(this,n),n.list!==i){i.splice(0,i.length);for(var r=0;r<n.list.length;r++)i.push(n.list[r])}},t.prototype.onConditionGetTitleCallback=function(e,t){var o={expression:e,title:t};return this.onConditionGetTitle.fire(this,o),o.title},t.prototype.doAutoSave=function(){if(this.autoSaveDelay<=0)this.doSave();else{this.autoSaveTimerId&&clearTimeout(this.autoSaveTimerId);var e=this;this.autoSaveTimerId=setTimeout((function(){clearTimeout(e.autoSaveTimerId),e.autoSaveTimerId=null,e.doSave()}),this.autoSaveDelay)}},t.prototype.doSave=function(){var e=this;this.setState("saving"),this.saveSurveyFunc&&(this.saveNo++,this.saveSurveyFunc(this.saveNo,(function(t,o){e.saveNo===t&&(o?e.setState("saved"):(e.showErrorOnFailedSave&&e.notify(e.getLocString("ed.saveError")),e.setState("modified")))})))},Object.defineProperty(t.prototype,"saveSurveyFunc",{get:function(){return this.saveSurveyFuncValue},set:function(e){this.saveSurveyFuncValue=e,this.showSaveButton=null!=e&&!this.isAutoSave},enumerable:!1,configurable:!0}),t.prototype.convertCurrentQuestion=function(e){var t=this.selectedElement;t&&t.getType()!==e&&R.getObjectType(t)===x.Question&&(t=this.convertQuestion(t,e),this.selectElement(t))},t.prototype.getAddNewQuestionText=function(e){if(void 0===e&&(e=null),e||(e=this.currentAddQuestionType),e){var t=this.getLocString("ed.addNewTypeQuestion");if(t&&t.format)return t.format(this.toolbox.items.filter((function(t){return t.name==e}))[0].title)}return this.getLocString("ed.addNewQuestion")},Object.defineProperty(t.prototype,"addNewQuestionText",{get:function(){return this.getAddNewQuestionText()},enumerable:!1,configurable:!0}),t.prototype.getQuestionTypeSelectorModel=function(e,t){var o=this;void 0===t&&(t=null);var i=this.toolbox.items.map((function(e){return o.createIActionBarItemByClass(e.name,e.title)})),r=new n.PopupModel("sv-list",{model:new n.ListModel(i,(function(i){o.currentAddQuestionType=i.id,o.addNewQuestionInPage(e,t),r.toggleVisibility()}),!1)},"bottom","center");return{iconName:"icon-more",action:function(){r.displayMode=o.isMobileView?"overlay":"popup",r.toggleVisibility()},popupModel:r}},t.prototype.addNewQuestionInPage=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null),o||(o=this.currentAddQuestionType),o||(o="text"),e(o);var i={type:o},n=this.toolbox.getItemByName(o);n&&n.json&&(i=n.json);var r=this.createNewElement(i);this.clickToolboxItem(r,t)},t.prototype.createIActionBarItemByClass=function(e,t){return void 0===t&&(t=null),new n.Action({title:t||this.getLocString("qt."+e),id:e,iconName:"icon-"+e})},t.prototype.onElementMenuItemsChanged=function(e,t){this.onDefineElementMenuItems.fire(this,{obj:e,items:t})},t.prototype.getElementAllowOperations=function(e){var t={obj:e,element:e,allowDelete:!0,allowCopy:!0,allowDragging:!0,allowChangeType:!0,allowChangeRequired:!0};return this.onElementAllowOperations.fire(this,t),t},t.prototype.getNextItemValue=function(e){return S(n.surveyLocalization.getString("choices_Item"),e.choices.map((function(e){return e.value})))},t.prototype.createNewItemValue=function(e){var t=this.getNextItemValue(e);return e.createItemValue(t)},t.prototype.onPropertyValueChanged=function(t,o,i){var n=this;e.prototype.onPropertyValueChanged.call(this,t,o,i),"viewType"===t&&this.tabs.forEach((function(e){return e.active=n.viewType===e.id}))},t.prototype.initResponsivityManager=function(e){this.responsivityManager=new wt(e,this)},t.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},t.prototype.dispose=function(){var t=this;this.isCreatorDisposed=!0,this.tabs=[],Object.keys(this.plugins).forEach((function(e){var o=t.plugins[e];"function"==typeof o.deactivate&&o.deactivate(),"function"==typeof o.dispose&&o.dispose()})),e.prototype.dispose.call(this)},p([Object(n.property)({defaultValue:!1})],t.prototype,"showDesignerTab",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showJSONEditorTab",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showTestSurveyTab",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showEmbeddedSurveyTab",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showTranslationTab",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showLogicTab",void 0),p([Object(n.property)({defaultValue:200})],t.prototype,"pageHoverDelay",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"inplaceEditForValues",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"haveCommercialLicense",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isAutoSave",void 0),p([Object(n.property)()],t.prototype,"showOptions",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showState",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showSearch",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"generateValidJSON",void 0),p([Object(n.property)({defaultValue:""})],t.prototype,"currentAddQuestionType",void 0),p([Object(n.property)()],t.prototype,"surveyValue",void 0),p([Object(n.property)()],t.prototype,"viewType",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"showToolboxValue",void 0),p([pt()],t.prototype,"addPage",null),p([dt()],t.prototype,"doOnQuestionAdded",null),p([dt()],t.prototype,"doOnPanelAdded",null),p([dt()],t.prototype,"doOnPageAdded",null),p([Object(n.property)()],t.prototype,"_stateValue",void 0),p([pt()],t.prototype,"deleteObject",null),p([Object(n.property)({defaultValue:!1})],t.prototype,"showSaveButton",void 0),p([pt()],t.prototype,"convertCurrentQuestion",null),p([pt()],t.prototype,"addNewQuestionInPage",null),p([Object(n.property)({defaultValue:!0})],t.prototype,"showPageNavigator",void 0),p([Object(n.property)({getDefaultValue:function(){return u.layout.showTabs}})],t.prototype,"showTabs",void 0),p([Object(n.property)({getDefaultValue:function(){return u.layout.showToolbar}})],t.prototype,"showToolbar",void 0),p([Object(n.property)({getDefaultValue:function(){return u.layout.allowCollapseSidebar}})],t.prototype,"allowCollapseSidebar",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isMobileView",void 0),p([Object(n.property)({defaultValue:"left",onSet:function(e,t){t.toolbox.setLocation(e),t.updateToolboxIsCompact()}})],t.prototype,"toolboxLocation",void 0),p([Object(n.property)({defaultValue:"right"})],t.prototype,"sidebarLocation",void 0),p([Object(n.property)({defaultValue:!1,onSet:function(e,t){if(!e)throw new Error("Creator is disposed")}})],t.prototype,"isCreatorDisposed",void 0),t}(n.Base),_t=function(){function e(){}return Object.defineProperty(e,"currentTheme",{get:function(){R.warnNonSupported("StylesManager")},set:function(e){R.warnNonSupported("StylesManager")},enumerable:!1,configurable:!0}),e.applyTheme=function(e){R.warnNonSupported("StylesManager")},e}(),Nt=function(e){function t(t,o){var i=e.call(this,o)||this;return i.creator=t,i.isPopupEditorContent=!1,i}return d(t,e),t.prototype.getElementWrapperComponentName=function(t,o){return It(t,o,this.isPopupEditorContent)||e.prototype.getElementWrapperComponentName.call(this,t,o)},t.prototype.getElementWrapperComponentData=function(t,o){return At(t,o,this.creator)||e.prototype.getElementWrapperComponentData.call(this,t)},t.prototype.getRowWrapperComponentName=function(e){return"svc-row"},t.prototype.getRowWrapperComponentData=function(e){return{creator:this.creator,row:e}},t.prototype.getItemValueWrapperComponentName=function(e,t){return Mt(e,t)},t.prototype.getItemValueWrapperComponentData=function(e,t){return jt(e,t,this.creator)},t.prototype.getRendererForString=function(e,t){if(!this.creator.readOnly&&Lt(e,t))return Vt},t.prototype.getRendererContextForString=function(e,t){return!this.creator.readOnly&&Lt(e,t.name)?{creator:this.creator,element:e,locStr:t}:t},t}(n.SurveyModel),Vt="svc-string-editor";function It(e,t,o){if("logo-image"===t)return"svc-logo-image";if("cell"===t||"column-header"===t||"row-header"===t)return"svc-matrix-cell";if(!e.isContentElement){if(e instanceof n.Question)return o?"dropdown"==e.getType()?"svc-cell-dropdown-question":"svc-cell-question":e.customWidget?"svc-widget-question":"dropdown"==e.getType()?"svc-dropdown-question":"image"==e.getType()?"svc-image-question":"rating"==e.getType()?"svc-rating-question":"svc-question";if(e instanceof n.PanelModel)return"svc-panel"}}function At(e,t,o){return"logo-image"===t?o:"cell"===t||"column-header"===t||"row-header"===t?{creator:o,element:e,question:e.question,row:e.row,column:e.column}:It(e,t,!1)?e instanceof n.Question||e instanceof n.PanelModel?o:null:void 0}function Mt(e,t){return t.isContentElement?n.SurveyModel.TemplateRendererComponentName:"imagepicker"===t.getType()?"svc-image-item-value":"svc-item-value"}function jt(e,t,o){return t.isContentElement?e:{creator:o,question:t,item:e}}function Lt(e,t){return!(e.parentQuestion instanceof n.QuestionMatrixDropdownModelBase)&&(!e.isContentElement||e.isEditableTemplateElement)}var Dt=function(e){function t(t,o){var i=e.call(this)||this;return i.item=t,i.creator=o,i.click=function(e){i.allowAdd&&i.creator.clickToolboxItem(i.item.json)},i.onPointerUp=function(e){i._node.classList.remove("svc-toolbox__tool--pressed"),i._node=null,document.removeEventListener("pointerup",i.onPointerUp)},i.startDragToolboxItem=function(e,t){var o=i.creator.getJSONForNewElement(i.item.json);return i.dragDropHelper.startDragToolboxItem(e,o),!0},i.dragOrClickHelper=new n.DragOrClickHelper(i.startDragToolboxItem),i}return d(t,e),Object.defineProperty(t.prototype,"allowAdd",{get:function(){return!this.creator.readOnly},enumerable:!1,configurable:!0}),t.prototype.onPointerDown=function(e){if(this.allowAdd){if("dotsItem-id"===this.item.id)return!0;this.dragOrClickHelper.onPointerDown(e),this._node=e.currentTarget,this._node.classList.add("svc-toolbox__tool--pressed"),document.addEventListener("pointerup",this.onPointerUp)}},Object.defineProperty(t.prototype,"dragDropHelper",{get:function(){return this.creator.dragDropSurveyElements},enumerable:!1,configurable:!0}),t}(n.Base),kt=(o(16),o(17),function(e){function t(t){var o=e.call(this)||this;return o.pagesController=t,o.togglePageSelector=function(){return o.popupModel.toggleVisibility()},o.icon="icon-select-page",o.pagesChangedFunc=function(e,t){o.buildItems()},o.pageNameChangedFunc=function(e,t){var i=t.page;if(i){var n=o.getActionBarByPage(i);n&&(n.title=o.pagesController.getDisplayName(i))}},o.pagesController.onPagesChanged.add(o.pagesChangedFunc),o.pagesController.onPageNameChanged.add(o.pageNameChangedFunc),o.pageListModel=new n.ListModel([],(function(e){o.pagesController.selectPage(e.data),o.popupModel.toggleVisibility()}),!0),o.popupModel=new n.PopupModel("sv-list",{model:o.pageListModel}),o.pagesController&&(o.popupModel.horizontalPosition=o.pagesController.creator.toolboxLocation),o.popupModel.onShow=function(){o.pageListModel.selectedItem=o.getActionBarByPage(o.pagesController.currentPage),o.isPopupOpened=!0},o.popupModel.onHide=function(){o.isPopupOpened=!1},o.pagesController.creator.onPropertyChanged&&o.pagesController.creator.onPropertyChanged.add((function(e,t){"toolboxLocation"===t.name&&("sidebar"==o.pagesController.creator.toolboxLocation?o.popupModel.horizontalPosition="right":o.popupModel.horizontalPosition=o.pagesController.creator.toolboxLocation)})),o.buildItems(),o}return d(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.pagesController.onPagesChanged.remove(this.pagesChangedFunc),this.pagesController.onPageNameChanged.add(this.pageNameChangedFunc)},t.prototype.getActionBarByPage=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].data===e)return this.items[t];return null},t.prototype.setItems=function(e){this.items=e,this.pageListModel.setItems(e),this.visible=e.length>1},t.prototype.buildItems=function(){this.currentPage=this.pagesController.currentPage||this.pagesController.pages[0];for(var e=[],t=this.pagesController.pages,o=0;o<t.length;o++)e.push(this.createActionBarItem(t[o]));this.setItems(e)},t.prototype.patchContainerOffset=function(e){for(;e;){if(-1!==e.className.indexOf("svc-tab-designer--with-page-navigator"))return void(e.offsetParent.scrollTop=0);e=e.parentElement}},t.prototype.createActionBarItem=function(e){var t=this,o={id:e.id,title:this.pagesController?this.pagesController.getDisplayName(e):e.title};return o.active=new n.ComputedUpdater((function(){return e===t.currentPage})),o.action=function(){var o=document.getElementById(e.id);o&&(o.scrollIntoView({block:"start"}),t.patchContainerOffset(o),t.pagesController.pages.indexOf(e)===t.pagesController.pages.length-1&&setTimeout((function(){o.scrollIntoView({block:"start"}),t.patchContainerOffset(o)}),50))},o.data=e,this.createActionBarCore(o)},t.prototype.createActionBarCore=function(e){return new n.Action(e)},Object.defineProperty(t.prototype,"pageSelectorCaption",{get:function(){return s("ed.selectPage")},enumerable:!1,configurable:!0}),t.prototype.onContainerScroll=function(e){var t=e.scrollTop,o=e.clientHeight,i=t+o,n=[],r=void 0,s=0;return this.pagesController.pages.forEach((function(e){var o=document.getElementById(e.id);if(o){var a=o.offsetTop,l=a+o.clientHeight;if(!(a<i||l>t))return;var u=a-t,c=i-l,p=o.clientHeight;u<0&&(p+=u),c<0&&(p+=c),(p/=o.clientHeight)>0&&(n.push({page:e,visiblePart:p}),p>s&&(s=p,r=e))}})),this.currentPage=r,n},p([Object(n.propertyArray)()],t.prototype,"items",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"visible",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isPopupOpened",void 0),p([Object(n.property)()],t.prototype,"currentPage",void 0),t}(n.Base)),Rt=function(e){function t(t,o){var i=e.call(this)||this;i.creator=t,i.surveyElement=o,i.selectedPropPageFunc=function(e,t){"isSelectedInDesigner"===t.name&&i.onElementSelectedChanged(t.newValue)},i.sidebarFlyoutModeChangedFunc=function(e,t){"flyoutMode"===t.name&&i.updateActionsProperties()},i.surveyElement.onPropertyChanged.add(i.selectedPropPageFunc),i.creator.sidebar.onPropertyChanged.add(i.sidebarFlyoutModeChangedFunc),i.actionContainer=new n.AdaptiveActionContainer;var r=[];return i.buildActions(r),i.creator.onElementMenuItemsChanged(i.surveyElement,r),i.actionContainer.setItems(r),i}return d(t,e),t.prototype.checkActionProperties=function(){this.creator.isElementSelected(this.surveyElement)&&this.updateActionsProperties()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.surveyElement.onPropertyChanged.remove(this.selectedPropPageFunc)},t.prototype.onElementSelectedChanged=function(e){e&&this.updateActionsProperties()},t.prototype.updateActionsProperties=function(){this.updateElementAllowOptions(this.creator.getElementAllowOperations(this.surveyElement),this.isOperationsAllow())},t.prototype.updateElementAllowOptions=function(e,t){this.allowDragging=t&&e.allowDragging,this.updateActionVisibility("delete",t&&e.allowDelete),this.updateActionVisibility("duplicate",t&&e.allowCopy),this.updateActionVisibility("settings",this.creator.sidebar.flyoutMode)},t.prototype.isOperationsAllow=function(){return!this.creator.readOnly},t.prototype.updateActionVisibility=function(e,t){var o=this.getActionById(e);o&&(o.visible=t)},t.prototype.getActionById=function(e){for(var t=this.actionContainer.actions,o=0;o<t.length;o++)if(t[o].id===e)return t[o];return null},t.prototype.buildActions=function(e){var t=this;e.push(new n.Action({id:"duplicate",iconName:"icon-duplicate_16x16",css:"sv-action-bar-item--secondary",title:this.creator.getLocString("survey.duplicate"),visibleIndex:10,iconSize:16,action:function(){t.duplicate()}})),e.push(new n.Action({id:"settings",iconName:"icon-settings_16x16",css:"sv-action-bar-item--secondary",title:this.creator.getLocString("survey.settings"),visibleIndex:20,iconSize:16,action:function(){t.creator.showSidebar=!0}})),e.push(new n.Action({id:"delete",iconName:"icon-delete_16x16",css:"sv-action-bar-item--secondary",title:this.creator.getLocString("pe.delete"),visibleIndex:30,iconSize:16,action:function(){t.creator.deleteElement(t.surveyElement)}}))},t.prototype.duplicate=function(){},p([Object(n.property)({defaultValue:!0})],t.prototype,"allowDragging",void 0),t}(n.Base),qt=(o(18),function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.addGhostPage=function(){i.isGhost&&(i.page.unRegisterFunctionOnPropertiesValueChanged(["title","description"]),i.page.name=R.getNewPageName(i.creator.survey.pages),i.creator.survey.addPage(i.page)),i.creator.selectElement(i.page),i.updateActionsProperties()},i.questionTypeSelectorModel=i.creator.getQuestionTypeSelectorModel((function(e){i.currentAddQuestionType=e,i.addGhostPage()})),i._page=o,o.surveyChangedCallback=function(){i.isPageLive=!!o.survey},i.isGhost&&(i.updateActionsProperties(),i.page.registerFunctionOnPropertiesValueChanged(["title","description"],(function(){i.addGhostPage()})),i.patchPageForDragDrop(i.page,i.addGhostPage)),i.page.onFirstRendering(),i.page.updateCustomWidgets(),i.page.setWasShown(!0),i.checkActionProperties(),i}return d(t,e),t.prototype.onElementSelectedChanged=function(t){e.prototype.onElementSelectedChanged.call(this,t),this.isSelected=t,t&&this.onPageSelectedCallback&&this.onPageSelectedCallback()},t.prototype.patchPageForDragDrop=function(e,t){e._isGhost=!0,e._addGhostPageViewModel=function(){delete e._isGhost,delete e._addGhostPageViewModel,t()}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.page.unRegisterFunctionOnPropertiesValueChanged(["title","description"]),this.onPropertyValueChangedCallback=void 0},Object.defineProperty(t.prototype,"isGhost",{get:function(){return this.creator.survey.pages.indexOf(this.page)<0},enumerable:!1,configurable:!0}),t.prototype.isOperationsAllow=function(){return e.prototype.isOperationsAllow.call(this)&&!this.isGhost&&"single"!==this.creator.pageEditMode},Object.defineProperty(t.prototype,"page",{get:function(){return this._page},enumerable:!1,configurable:!0}),t.prototype.addNewQuestion=function(e,t){var o=this;this.creator.addNewQuestionInPage((function(e){o.addGhostPage()}),null,this.currentAddQuestionType||"text")},t.prototype.select=function(e,t){e.isGhost||("single"!==e.creator.pageEditMode?(e.creator.selectElement(e.page,void 0,!1),this.onPageSelectedCallback&&this.onPageSelectedCallback()):e.creator.selectElement(e.creator.survey,void 0,!1)),t.stopPropagation(),t.cancelBubble=!0},Object.defineProperty(t.prototype,"css",{get:function(){return this.isGhost?"svc-page__content--new":this.creator.isElementSelected(this.page)?"svc-page__content--selected":""},enumerable:!1,configurable:!0}),t.prototype.hover=function(e,t){I(e,t,this.creator.pageHoverDelay)},t.prototype.hoverStopper=function(e,t){e.__svc_question_processed=!0},t.prototype.duplicate=function(){var e=this.creator.copyPage(this.page);this.creator.selectElement(e)},Object.defineProperty(t.prototype,"allowEdit",{get:function(){return!!this.creator&&!this.creator.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addNewQuestionText",{get:function(){return!this.currentAddQuestionType&&this.creator?this.creator.getLocString("ed.addNewQuestion"):this.creator?this.creator.getAddNewQuestionText(this.currentAddQuestionType):""},enumerable:!1,configurable:!0}),p([Object(n.property)({defaultValue:!1})],t.prototype,"isSelected",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"isPageLive",void 0),p([Object(n.property)({defaultValue:""})],t.prototype,"currentAddQuestionType",void 0),t}(Rt)),zt=(o(19),function(e){function t(t,o,i){var n=e.call(this)||this;return n.creator=t,n.row=o,n.templateData=i,n}return d(t,e),Object.defineProperty(t.prototype,"cssClasses",{get:function(){var e="svc-row";return 1===this.row.elements.length&&"sv-drag-drop-ghost-survey-element-name"===this.row.elements[0].name?e+=" svc-row--ghost":e=e.replace(" svc-row--ghost",""),e},enumerable:!1,configurable:!0}),t}(n.Base)),Bt=(o(20),function(e){function t(t,o,i){var r=e.call(this,t,o)||this;return r.templateData=i,r.startDragSurveyElement=function(e){var t=r.surveyElement,o=r.creator.selectedElement===t;return r.dragDropHelper.startDragSurveyElement(e,t,o),!0},r.questionTypeSelectorModel=r.creator.getQuestionTypeSelectorModel((function(e){r.currentAddQuestionType=e}),r.surveyElement instanceof n.PanelModelBase?r.surveyElement:null),o.isQuestion&&o.setCanShowOptionItemCallback&&o.setCanShowOptionItemCallback((function(e){return!t.readOnly&&("newitem"!==e.value||(t.maximumChoicesCount<1||o.choices.length<t.maximumChoicesCount))})),r.checkActionProperties(),r.dragOrClickHelper=new n.DragOrClickHelper(r.startDragSurveyElement),r.dragTypeOverMe=new n.ComputedUpdater((function(){return("paneldynamic"===r.surveyElement.getType()?r.surveyElement.template:r.surveyElement).dragTypeOverMe})),r}return d(t,e),t.prototype.select=function(e,t){if(e.surveyElement.isInteractiveDesignElement)return t.stopPropagation(),t.cancelBubble=!0,e.creator.selectElement(e.surveyElement,void 0,!1),!0},t.prototype.rootCss=function(){return this.surveyElement.isQuestion&&!this.surveyElement.startWithNewLine?" svc-question__adorner--start-with-new-line":""},t.prototype.css=function(){var e=this.creator.isElementSelected(this.surveyElement)?"svc-question__content--selected":"";return this.isEmptyElement&&(e+=" svc-question__content--empty"),this.isDragMe?e+=" svc-question__content--dragged":e=e.replace(" svc-question__content--dragged",""),this.dragTypeOverMe===n.DragTypeOverMeEnum.InsideEmptyPanel?e+=" svc-question__content--drag-over-inside":e=e.replace(" svc-question__content--drag-over-inside",""),this.dragTypeOverMe===n.DragTypeOverMeEnum.MultilineLeft?e+=" svc-question__content--drag-over-left":e=e.replace(" svc-question__content--drag-over-left",""),this.dragTypeOverMe===n.DragTypeOverMeEnum.MultilineRight?e+=" svc-question__content--drag-over-right":e=e.replace(" svc-question__content--drag-over-right",""),e},Object.defineProperty(t.prototype,"isDragMe",{get:function(){return this.surveyElement.isDragMe},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.surveyElement.unRegisterFunctionOnPropertyValueChanged("isRequired","isRequiredAdorner"),this.surveyElement.setCanShowOptionItemCallback&&this.surveyElement.setCanShowOptionItemCallback(void 0)},Object.defineProperty(t.prototype,"isDraggable",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.hover=function(e,t){this.surveyElement.isInteractiveDesignElement&&I(e,t)},t.prototype.updateElementAllowOptions=function(t,o){e.prototype.updateElementAllowOptions.call(this,t,o),this.updateActionVisibility("convertTo",o&&t.allowChangeType);var i=n.Serializer.findProperty(this.surveyElement.getType(),"isRequired"),r=this.creator.onIsPropertyReadOnlyCallback(this.surveyElement,i,i.readOnly,null,null);this.updateActionVisibility("isrequired",o&&t.allowChangeRequired&&!r)},Object.defineProperty(t.prototype,"isEmptyElement",{get:function(){if(this.surveyElement instanceof n.QuestionHtmlModel)return!this.surveyElement.html;if(this.surveyElement instanceof n.PanelModelBase){var e=this.surveyElement;return!e.rows||e.rows.length<=0||0===e.elements.length}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){return this.surveyElement instanceof n.QuestionHtmlModel?s("ed.htmlPlaceHolder"):s("ed.panelPlaceHolder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragDropHelper",{get:function(){return this.creator.dragDropSurveyElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.surveyElement.isRequired},set:function(e){this.surveyElement.isRequired=e},enumerable:!1,configurable:!0}),t.prototype.onPointerDown=function(e){this.dragOrClickHelper.onPointerDown(e)},Object.defineProperty(t.prototype,"allowEdit",{get:function(){return!this.creator.readOnly},enumerable:!1,configurable:!0}),t.prototype.getConvertToTypesActions=function(){var e=this;return m.getConvertToClasses(this.currentType,this.creator.toolbox.itemNames,!0).map((function(t){return e.creator.createIActionBarItemByClass(t)}))},Object.defineProperty(t.prototype,"currentType",{get:function(){return this.surveyElement.getType()},enumerable:!1,configurable:!0}),t.prototype.createConverToAction=function(){var e=this,t=this.getConvertToTypesActions(),o=t.length>0,i=this.currentType,r=t.filter((function(e){return e.id===i})),s=new n.PopupModel("sv-list",{model:new n.ListModel(t,(function(t){e.creator.convertCurrentQuestion(t.id)}),!0,r.length>0?r[0]:void 0)},"bottom","center"),a=this.creator.getLocString("qt."+this.currentType);return new n.Action({id:"convertTo",css:"sv-action--first sv-action-bar-item--secondary",iconName:"icon-change-question-type_16x16",iconSize:16,title:a,visibleIndex:0,enabled:o,component:"sv-action-bar-item-dropdown",disableShrink:!0,action:function(t){s.displayMode=e.creator.isMobileView?"overlay":"popup",s.toggleVisibility()},popupModel:s})},t.prototype.createRequiredAction=function(){var e=this;this.surveyElement.isRequired;var t=new n.Action({id:"isrequired",css:this.isRequired?"sv-action-bar-item--secondary":"",title:this.creator.getLocString("pe.isRequired"),visibleIndex:20,iconName:this.isRequired?"icon-switch-active_16x16":"icon-switch-inactive_16x16",iconSize:16,action:function(){e.creator.isCanModifyProperty(e.surveyElement,"isRequired")&&(e.isRequired=!e.isRequired)}});return this.surveyElement.registerFunctionOnPropertyValueChanged("isRequired",(function(){t.iconName=e.isRequired?"icon-switch-active_16x16":"icon-switch-inactive_16x16",t.css=e.isRequired?"sv-action-bar-item--secondary":""}),"isRequiredAdorner"),t},t.prototype.buildActions=function(t){e.prototype.buildActions.call(this,t);var o=this.surveyElement;o.isPanel||t.push(this.createConverToAction()),void 0!==o.isRequired&&N(o,"isRequired")&&V(o,"isRequired")&&t.push(this.createRequiredAction())},t.prototype.duplicate=function(){var e=this.creator.fastCopyQuestion(this.surveyElement);this.creator.selectElement(e)},t.prototype.addNewQuestion=function(){this.creator.addNewQuestionInPage((function(e){}),this.surveyElement instanceof n.PanelModelBase?this.surveyElement:null,this.currentAddQuestionType||"text")},Object.defineProperty(t.prototype,"addNewQuestionText",{get:function(){return!this.currentAddQuestionType&&this.creator?this.creator.getLocString("ed.addNewQuestion"):this.creator?this.creator.getAddNewQuestionText(this.currentAddQuestionType):""},enumerable:!1,configurable:!0}),p([Object(n.property)()],t.prototype,"isDragged",void 0),p([Object(n.property)({defaultValue:""})],t.prototype,"currentAddQuestionType",void 0),p([Object(n.property)()],t.prototype,"dragTypeOverMe",void 0),t}(Rt)),Ht=(o(21),function(e){function t(t,o,i,n){var r=e.call(this,t,o,i)||this;return r.questionRoot=n,r}return d(t,e),t.prototype.chooseFile=function(e){var t=e.questionRoot.getElementsByClassName("svc-choose-file-input")[0];e.creator.chooseFiles(t,(function(t){e.creator.uploadFiles(t,(function(t,o){e.surveyElement.imageLink=o}))}))},t}(Bt)),Qt=(o(22),function(e){function t(t,o,i){var n=e.call(this,t,o,i)||this,r=!1;return n.question.onItemValuePropertyChanged.add((function(e,t){if(!r&&0===n.question.rateValues.length){r=!0;var o=n.question.visibleRateValues,i=o.map((function(e){return e.value})).indexOf(t.obj.value);o[i][t.name]=t.newValue,n.question.rateValues=o,r=!1}return""})),n}return d(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.surveyElement},enumerable:!1,configurable:!0}),t.prototype.addItem=function(e){if(e.allowAdd)if(0===e.question.rateValues.length)e.question.rateMax+=e.question.rateStep;else{var t,o=e.question.rateValues.map((function(e){return e.value}));t=S(n.surveyLocalization.getString("choices_Item"),o);var i=new n.ItemValue(t);i.locOwner={getLocale:function(){return e.question.getLocale?e.question.getLocale():""},getMarkdownHtml:function(e){return e},getProcessedText:function(e){return e}},e.question.rateValues=e.question.rateValues.concat([i])}},t.prototype.removeItem=function(e){if(e.allowRemove){var t=n.Serializer.findProperty(e.question.getType(),"rateValues"),o=e.question.rateValues&&e.question.rateValues.length-1,i=e.question.rateValues&&e.question.rateValues[o]||null;if(e.creator.onCollectionItemDeletingCallback(e.question,t,e.question.rateValues,i)){var r=e.question;0===r.rateValues.length&&o===r.rateValues.length-1?r.rateMax-=r.rateStep:(0===r.rateValues.length&&(r.rateValues=r.rateValues),r.rateValues.splice(o,1))}}},Object.defineProperty(t.prototype,"allowAdd",{get:function(){return!this.creator.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemove",{get:function(){return!this.creator.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addTooltip",{get:function(){return s("pe.addItem")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"removeTooltip",{get:function(){return s("pe.removeItem")},enumerable:!1,configurable:!0}),t}(Bt)),Ft=(o(23),function(e){function t(t,o,i){var r=e.call(this)||this;if(r.creator=t,r.question=o,r.item=i,r.canTouchItems=!0,r.startDragItemValue=function(e,t){r.dragDropHelper.startDrag(e,r.item,r.question,t)},r.handleDragDropGhostPositionChanged=function(){r.ghostPosition=r.dragDropHelper.getGhostPosition(r.item),r.isDragDropGhost=r.item===r.dragDropHelper.draggedElement,r.item===r.dragDropHelper.prevDropTarget?(r.isDragDropMoveDown=r.item.isDragDropMoveDown,r.isDragDropMoveUp=r.item.isDragDropMoveUp):(r.isDragDropMoveDown=!1,r.isDragDropMoveUp=!1)},r.isNew=!o.isItemInList(i),o.noneItem===i);else if(o.otherItem===i);else if("checkbox"===o.getType()&&o.selectAllItem===i);else if(r.isNew){var s=t.getNextItemValue(o);i.value=s}return r.dragDropHelper.onGhostPositionChanged.add(r.handleDragDropGhostPositionChanged),r.dragOrClickHelper=new n.DragOrClickHelper(r.startDragItemValue),r.allowItemOperations={allowDelete:void 0,allowEdit:void 0},r.creator.onCollectionItemAllowingCallback(o,n.Serializer.findProperty(o.getType(),r.item.ownerPropertyName),o.visibleChoices,r.item,r.allowItemOperations),void 0===r.allowItemOperations.allowDelete&&(r.allowItemOperations.allowDelete=!0),r.creator.isCanModifyProperty(o,"choices")||(r.canTouchItems=!1),r}return d(t,e),t.prototype.isBanStartDrag=function(e){var t="true"===e.target.getAttribute("contenteditable");return this.isNew||t},t.prototype.onPointerDown=function(e){this.isBanStartDrag(e)||this.dragOrClickHelper.onPointerDown(e)},Object.defineProperty(t.prototype,"dragDropHelper",{get:function(){return this.creator.dragDropChoices},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.dragDropHelper.onGhostPositionChanged.remove(this.handleDragDropGhostPositionChanged)},Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this.isDraggableItem(this.item)},enumerable:!1,configurable:!0}),t.prototype.isDraggableItem=function(e){return!(this.creator.readOnly||!this.canTouchItems)&&-1!==this.question.choices.indexOf(e)},t.prototype.add=function(e){if(e.question.noneItem===e.item)e.question.hasNone=!0;else if(e.question.otherItem===e.item)e.question.hasOther=!0;else if("checkbox"===e.question.getType()&&e.question.selectAllItem===e.item)e.question.hasSelectAll=!0;else{var t=e.creator.createNewItemValue(e.question);e.question.choices.push(t);var o=e.creator.getNextItemValue(e.question);e.item.value=o}this.isNew=!e.question.isItemInList(e.item)},t.prototype.remove=function(e){if(e.question.noneItem===e.item)e.question.hasNone=!1;else if(e.question.otherItem===e.item)e.question.hasOther=!1;else if("checkbox"===e.question.getType()&&e.question.selectAllItem===e.item)e.question.hasSelectAll=!1;else{var t=e.question.choices.indexOf(e.item);e.question.choices.splice(t,1)}this.isNew=!e.question.isItemInList(e.item)},Object.defineProperty(t.prototype,"allowRemove",{get:function(){var e=!this.question.isItemInList(this.item);return!this.creator.readOnly&&this.canTouchItems&&this.allowItemOperations.allowDelete&&!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return s(this.isNew?"pe.addItem":"pe.removeItem")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragTooltip",{get:function(){return s("pe.dragItem")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdd",{get:function(){var e=!this.question.isItemInList(this.item);return!this.creator.readOnly&&this.canTouchItems&&e},enumerable:!1,configurable:!0}),t.prototype.select=function(e,t){e.creator.selectElement(e.question,"choices",!1),t&&t.stopPropagation()},p([Object(n.property)({defaultValue:!1})],t.prototype,"isNew",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isDragging",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isDragDropGhost",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isDragDropMoveDown",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"isDragDropMoveUp",void 0),p([Object(n.property)({defaultValue:null})],t.prototype,"ghostPosition",void 0),t}(n.Base)),Ut=(o(24),function(e){function t(t,o,i,n,r){var s=e.call(this,t,o,i)||this;return s.question=o,s.item=i,s.templateData=n,s.itemsRoot=r,s}return d(t,e),t.prototype.chooseFile=function(e){var t=e.itemsRoot.getElementsByClassName("svc-choose-file-input")[0];e.creator.chooseFiles(t,(function(t){e.creator.uploadFiles(t,(function(t,o){e.item.imageLink=o}))}))},t.prototype.chooseNewFile=function(e){var t=e.itemsRoot.getElementsByClassName("svc-choose-file-input")[0];e.creator.chooseFiles(t,(function(t){e.creator.uploadFiles(t,(function(t,o){var i=e.creator.createNewItemValue(e.question);i.imageLink=o,e.question.choices.push(i);var n=e.creator.getNextItemValue(e.question);e.item.value=n}))}))},t}(Ft)),Gt=(o(25),function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.creator=t,s.templateData=o,s.question=i,s.row=n,s.column=r,s.onSelectionChanged=function(e,t){s.context&&s.context.getPropertyValue?s.isSelected=s.creator.isElementSelected(s.context):s.isSelected=!1},t.onSelectedElementChanged.add(s.onSelectionChanged),s}return d(t,e),t.prototype.editQuestion=function(e){var t=e.question.parentQuestion.getColumnByName(e.question.name),o=e.question.toJSON();o.type=e.question.getType();var i=e.creator.createSurvey({questions:[o]},"modal-question-editor");i.css=n.defaultV2Css,i.setDesignMode(!0),i.isPopupEditorContent=!0,i.showQuestionNumbers="none",i.questionTitleLocation="hidden",i.getAllQuestions()[0].setSurveyImpl(i),n.settings.showModal("svc-question-editor-content",{survey:i,creator:this.creator},(function(){return o=i.getAllQuestions()[0].toJSON(),t.fromJSON(o),e.question.parentQuestion.onColumnCellTypeChanged(t),!0}),void 0,"svc-matrix-cell__popup",e.question.name,this.creator.isMobileView?"overlay":"popup")},Object.defineProperty(t.prototype,"context",{get:function(){return this.row||this.column||this.templateData},enumerable:!1,configurable:!0}),t.prototype.selectContext=function(e,t){if(e.row)return e.creator.selectElement(e.row.data,"rows",!1),void t.stopPropagation();"function"==typeof e.context.getType&&("itemvalue"===e.context.getType()?e.creator.selectElement(e.context.locOwner,e.context.ownerPropertyName,!1):e.creator.selectElement(e.context),t.stopPropagation())},t.prototype.hover=function(e,t){!this.row&&this.context&&this.context.getPropertyValue&&this.context.getType&&"itemvalue"!==this.context.getType()&&I(e,t)},t.prototype.dispose=function(){this.creator.onSelectedElementChanged.remove(this.onSelectionChanged)},p([Object(n.property)()],t.prototype,"isSelected",void 0),t}(n.Base)),Jt=(o(26),function(e){function t(t,o){var i=e.call(this)||this;return i._data=t,i._lvl=o,i.toggle=function(){i.collapsed=!i.collapsed},i.markerWidth=16,i.items=Wt(t.data,o+1),i.lvl=o,i}return d(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNode",{get:function(){return this._data.isNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._data.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._data.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._data.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this._data.displayValue},enumerable:!1,configurable:!0}),t.prototype.getString=function(e){return this._data.getString(e)},Object.defineProperty(t.prototype,"markerMargin",{get:function(){return(1.75+this.lvl)*this.markerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textMargin",{get:function(){return(3+this.lvl)*this.markerWidth+"px"},enumerable:!1,configurable:!0}),p([Object(n.property)({defaultValue:!0})],t.prototype,"collapsed",void 0),p([Object(n.property)({defaultValue:0})],t.prototype,"lvl",void 0),p([Object(n.property)()],t.prototype,"items",void 0),t}(n.Base));function Wt(e,t){return void 0===e&&(e=[]),e.filter((function(e){return!!e})).map((function(e){return new Jt(e,t)}))}var Kt=function(e){function t(t){var o=e.call(this)||this;o.survey=t,o.selectTableClick=function(){o.resultViewType="table"},o.selectJsonClick=function(){o.resultViewType="text"},o.resultText=JSON.stringify(t.data,null,4);var i=t.getPlainData({includeEmpty:!1});return o.resultData=Wt(i,0),o}return d(t,e),t.prototype.getLocString=function(e){return r.getString(e)},Object.defineProperty(t.prototype,"surveyResultsText",{get:function(){return this.getLocString("ed.surveyResults")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultsTitle",{get:function(){return this.getLocString("ed.resultsTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultsName",{get:function(){return this.getLocString("ed.resultsName")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultsValue",{get:function(){return this.getLocString("ed.resultsValue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resultsDisplayValue",{get:function(){return this.getLocString("ed.resultsDisplayValue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTableSelected",{get:function(){return"table"===this.resultViewType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isJsonSelected",{get:function(){return"text"===this.resultViewType},enumerable:!1,configurable:!0}),p([Object(n.property)({defaultValue:"table"})],t.prototype,"resultViewType",void 0),p([Object(n.property)({defaultValue:""})],t.prototype,"resultText",void 0),p([Object(n.propertyArray)()],t.prototype,"resultData",void 0),t}(n.Base),Xt=(o(27),function(e){function t(t,o){var i=e.call(this)||this;return i.creator=t,i.root=o,i}return d(t,e),Object.defineProperty(t.prototype,"allowEdit",{get:function(){return!this.creator.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.creator.survey},enumerable:!1,configurable:!0}),t.prototype.uploadFile=function(e,t,o){e.creator.uploadFiles(o,(function(o,i){e.creator.survey.logo=i,t.value=""}))},t.prototype.chooseFile=function(e){var t=e.root.getElementsByClassName("svc-choose-file-input")[0];0===t.files.length?e.creator.chooseFiles(t,(function(o){e.uploadFile(e,t,o)})):e.uploadFile(e,t,[t.files[0]])},t.prototype.remove=function(e){e.creator.survey.logo=""},Object.defineProperty(t.prototype,"chooseLogoPlaceholder",{get:function(){return this.creator.getLocString("ed.chooseLogoPlaceholder")},enumerable:!1,configurable:!0}),t}(n.Base)),$t=function(e){function t(t,o){var i=e.call(this)||this;return i.locString=t,i.creator=o,i.blurredByEscape=!1,i.focusedProgram=!1,i.justFocused=!1,i}return d(t,e),t.prototype.setLocString=function(e){this.locString=e},t.prototype.checkConstraints=function(e){this.maxLength>0&&e.keyCode>=32&&((e.target.innerText||"").length>=this.maxLength&&e.preventDefault())},t.prototype.onClick=function(e){e.stopPropagation()},t.prototype.onFocus=function(e){this.focusedProgram||(this.valueBeforeEdit=e.target.innerText,this.focusedProgram=!1),this.creator.selectFromStringEditor=!0,e.target.parentElement.click(),e.target.spellcheck=!0,this.focused=!0,this.justFocused=!0},t.prototype.onInput=function(e){if(this.blurredByEscape)return this.blurredByEscape=!1,e.target.innerText=this.valueBeforeEdit,this.errorText=null,void(this.focused=!1);var t=A(e.target.innerText),o=this.locString.owner;if(this.errorText=this.creator.onGetErrorTextOnValidationCallback(this.locString.name,o,t),!this.errorText&&!t){var i=o.getPropertyByName&&o.getPropertyByName(this.locString.name);i&&i.isRequired&&(this.errorText=r.getString("pe.propertyIsEmpty"))}this.locString.text!=t?this.errorText?(this.focusedProgram=!0,e.target.focus()):this.locString.owner instanceof n.ItemValue&&this.creator.inplaceEditForValues?this.locString.owner.value=t:this.locString.text=t:(e.target.innerText=this.locString.renderedHtml,this.locString.strChanged()),this.focused=!1},t.prototype.done=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.onKeyDown=function(e){return 13===e.keyCode&&(this.blurEditor(),this.done(e)),27===e.keyCode&&(this.blurredByEscape=!0,this.blurEditor(),this.done(e)),this.checkConstraints(e),!0},t.prototype.onMouseUp=function(e){return!this.justFocused||(this.justFocused=!1,(window.getSelection().focusNode&&window.getSelection().focusNode.parentElement!==e.target||0==window.getSelection().toString().length)&&M(e.target),!1)},t.prototype.findProperty=function(){if(this.locString.owner.getType){var e=this.locString.owner.getType();if(this.locString.name)return n.Serializer.findProperty(e,this.locString.name)}},Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=this.findProperty();return!e||e.maxLength<=0?-1:e.maxLength},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){var e=this;if(this.placeholderValue)return this.placeholderValue;var t=this.findProperty();if(!t||!t.placeholder)return"";var o=r.getString(t.placeholder);if(o){var i=/\{([^}]+)\}/g;this.placeholderValue=new n.ComputedUpdater((function(){for(var t=o,n=i.exec(t);null!=n;)t=t.replace(i,(function(t){return""+(e.locString.owner&&e.locString.owner[n[1]])})),n=i.exec(t);return t}))}return this.placeholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentEditable",{get:function(){return this.creator.isCanModifyProperty(this.locString.owner,this.locString.name)},enumerable:!1,configurable:!0}),t.prototype.className=function(e){return"svc-string-editor"+(""==e&&""==this.placeholder?" svc-string-editor--hidden":"")+(this.contentEditable?"":" svc-string-editor--readonly")},p([Object(n.property)()],t.prototype,"errorText",void 0),p([Object(n.property)()],t.prototype,"focused",void 0),p([Object(n.property)()],t.prototype,"placeholderValue",void 0),t}(n.Base),Yt=function(e){function t(t){return e.call(this,t)||this}return d(t,e),t.prototype.getType=function(){return"embeddedsurvey"},t}(n.QuestionNonValue);n.Serializer.addClass("embeddedsurvey",[],(function(){return new Yt("")}),"nonvalue"),n.QuestionFactory.Instance.registerQuestion("embeddedsurvey",(function(e){return new Yt(e)}));o(28);var Zt=function(e){function t(t,o){void 0===o&&(o=null);var i=e.call(this,t)||this;i.linkSetButtonCssClasses="svc-link-value-button svc-question-link__set-button",i.linkClearButtonCssClasses="svc-question-link__clear-button";var n=o&&!o.showValueInLink&&r.getString("pe.set")+" "+o.title||null;return i.linkValueText=n||r.getString("pe.emptyValue"),i}return d(t,e),t.prototype.onPropertyValueChanged=function(t,o,i){e.prototype.onPropertyValueChanged.call(this,t,o,i),"value"===t&&(this.updateLinkValueText(),this.allowClear&&(this.showClear=!n.Helpers.isValueEmpty(i)))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this.showTooltip?this.linkValueText:void 0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"linkvalue"},t.prototype.doLinkClick=function(){this.linkClickCallback&&this.linkClickCallback()},t.prototype.doClearClick=function(){this.clearClickCallback&&this.clearClickCallback()},t.prototype.updateLinkValueText=function(){var e;e=this.showValueInLink?this.isEmpty()?r.getString("pe.emptyValue"):this.getObjDisplayValue():r.getString(this.isEmpty()?"pe.set":"pe.change")+" "+this.title,this.linkValueText=e},t.prototype.stringifyValue=function(e){return"string"!=typeof e?JSON.stringify(e):e},t.prototype.getObjDisplayValue=function(){var e=this.obj;if(!e||!e.getDisplayValue)return this.stringifyValue(this.value);var t=e.getDisplayValue(!0,this.value);return"string"!=typeof t?JSON.stringify(t):t},p([Object(n.property)({defaultValue:!1})],t.prototype,"isSelected",void 0),p([Object(n.property)()],t.prototype,"linkValueText",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showClear",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"allowClear",void 0),p([Object(n.property)({defaultValue:!0})],t.prototype,"showValueInLink",void 0),p([Object(n.property)({defaultValue:!1})],t.prototype,"showTooltip",void 0),t}(n.Question);n.Serializer.addClass("linkvalue",["showValueInLink",{name:"showTooltip: boolean",default:!1,visible:!1}],(function(e){return new Zt("",e)}),"nonvalue"),n.QuestionFactory.Instance.registerQuestion("linkvalue",(function(e){return new Zt(e)}));var eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"expression"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"comment",showOptionsCaption:!1}},t.prototype.clearPropertyValue=function(e,t,o,i){o.clearValue()},t}(Pe),to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"condition"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"comment",showOptionsCaption:!1,readOnly:!1===o.allowEditExpressionsInTextEditor}},t.prototype.createPropertyEditorSetup=function(e,t,o,i){return new $e(e.getSurvey(),e,i,t.name)},t}(eo);xe.register(new eo),xe.register(new to);var oo=function(e){function t(t,o,i,n){void 0===o&&(o=null),void 0===i&&(i="itemvalue"),void 0===n&&(n=["value","text"]);var s=e.call(this,o)||this;return s.choices=t,s.className=i,s.names=n,s.commentValue=s.editSurvey.getQuestionByName("question"),s.setComment(),s.editSurvey.getQuestionByName("question").placeHolder=s.getPlaceHolder(),s.editSurvey.onValidateQuestion.add((function(e,t){var o=s.options.maximumChoicesCount;if(o>0){var i=s.getChoicesCount();o<i&&(t.error=r.getString("pe.fastEntryChoicesCountError").format(i,o))}else if(s.isValueUnique){var n=s.getFirstUniqueValue();n&&(t.error=r.getString("pe.fastEntryNonUniqueError").format(n))}})),s}return d(t,e),t.applyItemValueArray=function(e,t,o){if(void 0===o&&(o=[]),t&&0!=t.length){if(e.length>t.length&&e.splice(t.length,e.length-t.length),e.length<t.length){for(var i=[],n=e.length;n<t.length;n++)i.push(t[n]);e.splice.apply(e,[e.length,0].concat(i))}for(n=0;n<e.length;n++)e[n].value!=t[n].value&&(e[n].value=t[n].value),e[n].text=t[n].hasText?t[n].text:"",o.forEach((function(o){"value"!=o&&"text"!=o&&(e[n][o]=t[n][o])}))}else e.splice(0,e.length)},t.prototype.getPlaceHolder=function(){return this.names.map((function(e){return e+" 1"})).join(n.ItemValue.Separator)+"\n"+this.names.map((function(e){return e+" 2"})).join(n.ItemValue.Separator)+"\n"+this.names[0]+" 3"},t.prototype.getSurveyJSON=function(){return{elements:[{type:"comment",name:"question",titleLocation:"hidden",rows:12}]}},t.prototype.getSurveyCreationReason=function(){return"fast-entry"},Object.defineProperty(t.prototype,"comment",{get:function(){return this.commentValue},enumerable:!1,configurable:!0}),t.prototype.apply=function(){if(this.comment.isEmpty())return!1;if(this.editSurvey.hasErrors(!0))return!1;var e=this.convertTextToItemValues(this.comment.value);return t.applyItemValueArray(this.choices,e,this.names),!0},t.prototype.setComment=function(){var e=this.convertItemValuesToText();this.comment.value=e},Object.defineProperty(t.prototype,"isValueUnique",{get:function(){return!0===n.Serializer.findProperty("itemvalue","value").isUnique},enumerable:!1,configurable:!0}),t.prototype.getFirstUniqueValue=function(){for(var e=this.comment.value.split("\n"),t={},o=0;o<e.length;o++){var i=e[o];if(i){var r=i.split(n.ItemValue.Separator)[0];if(t[r])return r;t[r]=!0}}},t.prototype.getChoicesCount=function(){for(var e=this.comment.value.split("\n"),t=0,o=0;o<e.length;o++){e[o]&&t++}return t},t.prototype.convertTextToItemValues=function(e){var t=[];if(!e)return t;for(var o=e.split("\n"),i=0;i<o.length;i++)if(o[i]){var r=o[i].split(n.ItemValue.Separator),s=n.Serializer.createClass(this.className);this.names.forEach((function(e,t){s[e]=r[t]})),t.push(s)}return t},t.prototype.convertItemValuesToText=function(){var e=this,t="";return this.choices.forEach((function(o){t&&(t+="\n"),t+=o.value;var i=1;e.names.forEach((function(e){if("value"!=e){var r="text"==e?o.pureText:o[e];if(r){for(var s=0;s<i;s++)t+=n.ItemValue.Separator;t+=r,i=1}else i++}}))})),t},t}(we),io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.getNewColumnName=function(e,t,o){var i=[];if(Array.isArray(e))for(var n=0;n<e.length;n++)i.push(e[n][t]);return S(o,i)},t.prototype.onCreated=function(e,t,o){var i=this;t.onGetValueForNewRowCallBack=function(e){return i.createNewItem(e,o)},this.setupMatrixQuestion(e,t,o)},t.prototype.initializePlaceholder=function(e,t,o){var i="function"==typeof e.getType&&e.getType();"text"===t.getType()&&i&&("text"===o&&"itemvalue"===i&&(t.placeHolder=new n.ComputedUpdater((function(){return e.text}))),"title"===o&&"matrixdropdowncolumn"===i&&(t.placeHolder=new n.ComputedUpdater((function(){return e.title}))))},t.prototype.onMatrixCellCreated=function(e,t){var o=t.row.editingObj;if(o){var i=t.cellQuestion;i.obj=o,this.initializePlaceholder(o,i,t.columnName),i.property=n.Serializer.findProperty(o.getType(),t.columnName)}},t.prototype.onGetMatrixRowAction=function(e,t,o){var i=this,n=t.question,s=t.row,a=t.actions;this.getEditItemAsStandAlone()&&a.push({id:"svd-grid-edit-column",iconName:"icon-edit",title:r.getString("pe.edit"),visibleIndex:0,showTitle:!1,location:"end",css:"spg-action-button",action:function(){var e=t.row.editingObj;o(e)}});var l=a.filter((function(e){return"show-detail"===e.id}))[0];ve(n,a,s),l&&(l.component="sv-action-bar-item",l.css="spg-action-button",l.iconName=this.getShowDetailActionIconName(s),l.showTitle=!1,l.location="end",l.action=function(){s.showHideDetailPanelClick(),l.iconName=s.isDetailPanelShowing?"icon-editing-finish":"icon-edit"},l.visibleIndex=0,s.onDetailPanelShowingChanged=function(){l.iconName=i.getShowDetailActionIconName(s)})},t.prototype.getShowDetailActionIconName=function(e){return e.isDetailPanelShowing?"icon-editing-finish":"icon-edit"},t.prototype.onGetQuestionTitleActions=function(e,t){var o=t.question;t.titleActions.push({id:"add-item",iconName:"icon-add",css:"spg-action-button",title:o.addRowText,showTitle:!1,action:function(){o.addRow()},enabled:o.canAddRow})},t.prototype.onValueChanged=function(e,t,o){this.updateTitleActions(o)},t.prototype.updateTitleActions=function(e){var t=e.titleActions.filter((function(e){return"add-item"===e.id}))[0];t&&(t.enabled=e.canAddRow)},t.prototype.createNewItem=function(e,o){var i=this.getBaseValue(o),r=this.getKeyValue();i||(i="item");var s=null;i&&r&&(s=t.getNewColumnName(e.value,r,i));var a=n.Serializer.createClass(this.getDefaultClassName(o),{});s&&(a[r]=s),this.getObjTypeName()&&(a[this.getObjTypeName()]=a.getType());var l=e.obj[o.name];return l.push(a),l!=e.value&&(e.value=l),a},t.prototype.getDefaultClassName=function(e){return e.className},t.prototype.getBaseValue=function(e){return e.getBaseValue()},t.prototype.getKeyValue=function(){return""},t.prototype.getColumnNames=function(e,t,o){var i=this.getPropertiesNames(e,t,o);return i&&i.length>0?i:this.getDefaultListProperties(t)},t.prototype.getColumnClassName=function(e,t){return t.className},t.prototype.getPropertiesNames=function(e,t,o){for(var i=[],n=this.getDefinedListProperties(e,t,o),r=0;r<n.length;r++)i.push(n[r].name);return 0==i.length&&(i=this.getDefaulColumnNames()),i},t.prototype.getDefinedListProperties=function(e,t,o){if(!t.className)return[];var i=n.Serializer.createClass(t.className);if(!i)return[];var r=new ge(i,o,this.getColumnClassName(e,t),"list",e,t);return 0==r.getTabs().length?[]:r.getTabs()[0].properties},t.prototype.getDefaultListProperties=function(e){var t=[];if(e&&e.className)for(var o=n.Serializer.getProperties(e.className),i=0;i<o.length;i++)this.isPropertyShownInList(o[i])&&t.push(o[i].name);return t.length>0?t:this.getDefaulColumnNames()},t.prototype.getDefaulColumnNames=function(){return[]},t.prototype.isPropertyShownInList=function(e){return e.visible&&"form"!==e.showMode},t.prototype.getObjTypeName=function(){return""},t.prototype.hasDetailPanel=function(){return!this.getEditItemAsStandAlone()},t.prototype.setupMatrixQuestion=function(e,t,o){var i=this;this.hasPropertiesInDetail=this.hasDetailPanel()&&this.calcHasPropertiesInDetail(t,o),t.onHasDetailPanelCallback=function(e){return!1!==e.allowEditRow&&i.hasPropertiesInDetail},t.onCreateDetailPanelRenderedRowCallback=function(e){e.cells=[e.cells[1]],e.cells[0].colSpans+=2};var n=t;t.onCreateDetailPanelCallback=function(e,t){new Te(e.editingObj,n.options,n.obj,n.property).setupObjPanel(t,!0)},t.allowRowsDragAndDrop=this.getAllowRowDragDrop()&&!t.isReadOnly,n.options&&this.setupUsingOptions(e,t,n.options,o)},t.prototype.getAllowRowDragDrop=function(){return!1},t.prototype.calcHasPropertiesInDetail=function(e,t){if(!t.className)return!0;var o=n.Serializer.createClass(t.className);if(!o)return!0;var i=new n.PanelModel("");return new Te(o,e.options,e.obj,t).setupObjPanel(i,!0),i.elements.length>0},t.prototype.getJSON=function(e,t,o){return this.getMatrixJSON(e,t,this.getColumnNames(e,t,o),o)},t.prototype.getMatrixJSON=function(e,t,o,i){var n=t.className;n||(n=t.baseClassName);var s=this.getColumnsJSON(e,t,o,i),a={type:"matrixdynamic",detailPanelMode:"underRow",cellType:"text",rowCount:0,columns:s,showHeader:s.length>2,addRowText:this.getAddRowText(t),keyDuplicationError:r.getString("pe.propertyIsNoUnique"),emptyRowsText:this.getEmptyRowsText(t)};this.getShowDetailPanelOnAdding()&&(a.detailPanelShowOnAdding=!0);var l=this.getMaximumRowCount(e,t,i);return l>0&&(a.maxRowCount=l),a.hideColumnsIfEmpty=this.getHideColumnsEmpty(t),a},t.prototype.getHideColumnsEmpty=function(e){return!1},t.prototype.getEmptyRowsText=function(e){return r.getString("pe.listIsEmpty")},t.prototype.getMaximumRowCount=function(e,t,o){return-1},t.prototype.getColumnsJSON=function(e,t,o,i){var n=t.className;n||(n=t.baseClassName);for(var r=new Te(e,i).createColumnsJSON(n,o),s=0;s<r.length;s++)"comment"==r[s].cellType&&(r[s].cellType="text");return r},t.prototype.getEditItemAsStandAlone=function(){return!1},t.prototype.getShowDetailPanelOnAdding=function(){return!1},t.prototype.getAddRowText=function(e){var t="pe.addNew@"+e.name;return r.hasString(t)?r.getString(t):r.getString("pe.addNew")},t.prototype.setupUsingOptions=function(e,t,o,i){var n={allowAddRemoveItems:!0,allowRemoveAllItems:!0,showTextView:!0};o.onSetPropertyEditorOptionsCallback(i.name,e,n),n.allowAddRemoveItems||(t.allowAddRows=!1,t.allowRemoveRows=!1),t.allowRemoveAllItems=n.allowRemoveAllItems,t.showTextView=n.showTextView},t}(Pe),no=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return e.isArray&&n.Serializer.isDescendantOf(e.className,"itemvalue")},t.prototype.isPropertyEditorSetupEnabled=function(e,t,o,i){if(!1===o.showTextView)return!1;var n=o.getColumnByName("value"),r=o.value;return!!n&&n.isVisible&&!n.readOnly&&!this.hasMultipleLanguage(r)&&!this.hasVisibleIfOrEnableIf(r)},t.prototype.getAllowRowDragDrop=function(){return!0},t.prototype.createPropertyEditorSetup=function(e,t,o,i){var n=[];return o.columns.forEach((function(e){n.push(e.name)})),new oo(e[t.name],i,t.className,n)},t.prototype.canClearPropertyValue=function(e,t,o,i){return!1!==o.allowRemoveAllItems},t.prototype.clearPropertyValue=function(e,t,o,i){var n=e[t.name];Array.isArray(n)&&n.splice(0,n.length)},t.prototype.getColumnClassName=function(e,t){return e.getType()+"@"+t.name},t.prototype.getDefaulColumnNames=function(){return["value","text"]},t.prototype.getKeyValue=function(){return"value"},t.prototype.getHideColumnsEmpty=function(e){return"choices"===e.name},t.prototype.getEmptyRowsText=function(t){return"choices"===t.name?r.getString("pe.choicesListIsEmpty"):e.prototype.getEmptyRowsText.call(this,t)},t.prototype.getMaximumRowCount=function(t,o,i){return"choices"===o.name?i.maximumChoicesCount:"rows"===o.name?i.maximumRowsCount:"columns"===o.name?i.maximumColumnsCount:"rateValues"===o.name?i.maximumRateValues:e.prototype.getMaximumRowCount.call(this,t,o,i)},t.prototype.hasMultipleLanguage=function(e){if(!e||!Array.isArray(e))return!1;for(var t=0;t<e.length;t++)if(e[t].locText.hasNonDefaultText())return!0;return!1},t.prototype.hasVisibleIfOrEnableIf=function(e){if(!e||!Array.isArray(e))return!1;for(var t=0;t<e.length;t++)if(e[t].visibleIf||e[t].enableIf)return!0;return!1},t}(io),ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"matrixdropdowncolumns"==e.type},t.prototype.getEditItemAsStandAlone=function(){return!0},t.prototype.getDefaulColumnNames=function(){return["name","title"]},t.prototype.getKeyValue=function(){return"name"},t.prototype.getBaseValue=function(e){return"column"},t.prototype.getMaximumRowCount=function(e,t,o){return o.maximumColumnsCount},t.prototype.getAllowRowDragDrop=function(){return!0},t}(io),so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"surveypages"==e.type},t.prototype.onMatrixAllowRemoveRow=function(e,t){var o=t.editingObj;if(o&&o.survey)return o.survey.currentPage!==o},t.prototype.getColumnClassName=function(e,t){return"page@"+e.getType()},t.prototype.getDefaulColumnNames=function(){return["name","title"]},t.prototype.hasDetailPanel=function(){return!1},t.prototype.getKeyValue=function(){return"name"},t.prototype.getBaseValue=function(e){return"page"},t.prototype.getAllowRowDragDrop=function(){return!0},t}(io),ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"calculatedvalues"==e.type},t.prototype.getColumnClassName=function(e,t){return"calculatedvalue@items"},t.prototype.getDefaulColumnNames=function(){return["name"]},t.prototype.getKeyValue=function(){return"name"},t.prototype.getBaseValue=function(e){return"var"},t.prototype.getShowDetailPanelOnAdding=function(){return!0},t}(io),lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"htmlconditions"==e.type},t.prototype.getDefaulColumnNames=function(){return["html"]},t.prototype.getShowDetailPanelOnAdding=function(){return!0},t}(io),uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"urlconditions"==e.type},t.prototype.getDefaulColumnNames=function(){return["url"]},t.prototype.getShowDetailPanelOnAdding=function(){return!0},t}(io),co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"textitems"==e.type},t.prototype.getColumnClassName=function(e,t){return"multipletext@items"},t.prototype.getDefaulColumnNames=function(){return["name"]},t.prototype.getKeyValue=function(){return"name"},t.prototype.getBaseValue=function(e){return"item"},t}(io),po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getColumnsJSON=function(t,o,i,n){var r=e.prototype.getColumnsJSON.call(this,t,o,i,n);return this.getObjTypeName()&&r.unshift({name:this.getObjTypeName(),cellType:"dropdown"}),r},t.prototype.onMatrixCellCreated=function(t,o){e.prototype.onMatrixCellCreated.call(this,t,o);var i=o.cellQuestion;o.columnName===this.getObjTypeName()&&(i.showOptionsCaption=!1,i.choices=this.getChoices(t),i.value=o.row.editingObj.getType())},t.prototype.onMatrixCellValueChanged=function(e,t){if(t.columnName==this.getObjTypeName()){var o=t.question.visibleRows.indexOf(t.row);if(!(o<0)){var i=t.row.isDetailPanelShowing,r=t.row.editingObj.toJSON();delete r.type;var s=n.Serializer.createClass(t.value);s.fromJSON(r),s[this.getObjTypeName()]=s.getType(),t.row.hideDetailPanel(!0),t.question.value.splice(o,1,s),t.row.value=s,i&&t.row.showDetailPanel()}}},t.prototype.getShowDetailPanelOnAdding=function(){return!0},t}(io),ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"validators"==e.type},t.prototype.getObjTypeName=function(){return"validatorType"},t.prototype.getDefaultClassName=function(e){return"expressionvalidator"},t.prototype.getChoices=function(e){for(var t=this.getSupportedValidators(e),o=[],i=0;i<t.length;i++){var n=t[i]+"validator";o.push({value:n,text:r.getValidatorName(n)})}return o},t.prototype.getSupportedValidators=function(e){return e?e.getSupportedValidators?e.getSupportedValidators():e.getOriginalObj?this.getSupportedValidators(e.getOriginalObj()):[]:[]},t}(po),mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"triggers"==e.type},t.prototype.getObjTypeName=function(){return"triggerType"},t.prototype.getDefaultClassName=function(e){return"runexpressiontrigger"},t.prototype.getChoices=function(e){for(var t=n.Serializer.getChildrenClasses("surveytrigger",!0),o=[],i=0;i<t.length;i++){var s=t[i].name;"visibletrigger"!=s&&o.push({value:s,text:r.getTriggerName(s)})}return o},t}(po),go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"bindings"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"matrixdropdown",rows:this.getRows(e),columns:this.getColumns(e,o)}},t.prototype.onMatrixCellCreated=function(e,t){var o=e.bindings.getValueNameByPropertyName(t.row.rowName);o&&(t.cellQuestion.value=o)},t.prototype.onCreated=function(e,t,o){t.valueFromDataCallback=function(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(o){return t[o]={value:e[o]}})),t},t.valueToDataCallback=function(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(o){return t[o]=e[o].value})),t}},t.prototype.getRows=function(e){for(var t=e.bindings.getProperties(),o=[],i=0;i<t.length;i++){var n=t[i].name;o.push({value:n,text:r.getPropertyName(n)})}return o},t.prototype.getColumns=function(e,t){var o=new n.JsonObjectProperty(null,"value");o.type="questionvalue";var i=xe.getJSON(e,o,t);return i.cellType=i.type,delete i.type,i.name="value",[i]},t}(Pe);xe.register(new no),xe.register(new ro),xe.register(new so),xe.register(new ao),xe.register(new lo),xe.register(new uo),xe.register(new co),xe.register(new ho),xe.register(new mo),xe.register(new go);var yo={name:"propertygrid_restfull",showInToolbox:!1,createElements:function(e){}};n.ComponentCollection.Instance.getCustomQuestionByName(yo.name)||n.ComponentCollection.Instance.add(yo);var fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"restfull"==e.type},t.prototype.getJSON=function(e,t,o){return{type:"propertygrid_restfull"}},t.prototype.onCreated=function(e,t,o,i){new Te(e[o.name],i,e,o).setupObjPanel(t.contentPanel,!0)},t}(ke);xe.register(new fo);var vo=function(e){function t(t,o){void 0===o&&(o=null);var i=e.call(this,o)||this;return i.matrix=t,i.editMatrixValue=i.editSurvey.getQuestionByName("question"),i.buildColumns(),i.buildRows(),i.editMatrix.value=i.matrix.cells.getJson(),i}return d(t,e),t.prototype.getSurveyJSON=function(){return{elements:[{type:"matrixdropdown",name:"question",cellType:"comment"}]}},t.prototype.getSurveyCreationReason=function(){return"cells-editor"},Object.defineProperty(t.prototype,"editMatrix",{get:function(){return this.editMatrixValue},enumerable:!1,configurable:!0}),t.prototype.apply=function(){return this.matrix.cells.setJson(this.editMatrix.value),!0},t.prototype.buildColumns=function(){for(var e=this.matrix.columns,t=0;t<e.length;t++)this.editMatrix.addColumn(e[t].value,e[t].text)},t.prototype.buildRows=function(){this.editMatrix.rows.push(new n.ItemValue("default",r.getString("pe.cellsDefaultRow")));for(var e=this.matrix.rows,t=0;t<e.length;t++)this.editMatrix.rows.push(new n.ItemValue(e[t].value,e[t].text))},t}(we),bo=function(e){function t(t,o,i){void 0===i&&(i=null);var n=e.call(this,i,!1)||this;return n.editQuestion=t,n.propertyName=o,n.setupSurvey(),n.question.value=n.getQuestionValue(),n}return d(t,e),Object.defineProperty(t.prototype,"question",{get:function(){return this.editSurvey.getQuestionByName("question")},enumerable:!1,configurable:!0}),t.prototype.getSurveyJSON=function(){return{elements:[this.getQuestionJSON()]}},t.prototype.getQuestionJSON=function(){var e=this.editQuestion.toJSON();return e.name="question",e.title=r.getString("pe.defaultValue"),e.type=this.editQuestion.getType(),"expression"==e.type&&(e.type="text"),e.titleLocation="hidden",e.cellType&&"matrixdropdowncolumn"==e.type&&(e.type=e.cellType,delete e.cellType),R.updateQuestionJson(e),e},t.prototype.getQuestionValue=function(){return this.editQuestion[this.propertyName]},t.prototype.getEditValue=function(){return this.question.value},t.prototype.getSurveyCreationReason=function(){return"default-value"},t.prototype.apply=function(){return this.editQuestion[this.propertyName]=this.getEditValue(),!0},t}(we),wo=function(e){function t(t,o,i){void 0===i&&(i=null);var n=e.call(this,t,o,i)||this;return n.editQuestion=t,n.propertyName=o,n}return d(t,e),t.prototype.getQuestionValue=function(){var t=e.prototype.getQuestionValue.call(this);return t?(Array.isArray(t)||(t=[t]),t):t},t.prototype.getEditValue=function(){var t=e.prototype.getEditValue.call(this);return t&&Array.isArray(t)?0==t.length?null:t[0]:t},t}(bo),xo=function(e){function t(t,o,i){void 0===i&&(i=null);var n=e.call(this,t,o,i)||this;return n.editQuestion=t,n.propertyName=o,n}return d(t,e),t.prototype.getQuestionJSON=function(){var t=e.prototype.getQuestionJSON.call(this);return t.type="matrixdynamic",t.rowCount=1,t.minRowCount=1,t.maxRowCount=1,t.columnsLocation="vertical",t},t}(wo),Co=function(e){function t(t,o,i){void 0===i&&(i=null);var n=e.call(this,t,o,i)||this;return n.editQuestion=t,n.propertyName=o,n}return d(t,e),t.prototype.getQuestionJSON=function(){var t=e.prototype.getQuestionJSON.call(this);return t.panelCount=1,t.minPanelCount=1,t.maxPanelCount=1,t},t}(wo),To=function(e){function t(t,o,i,n){void 0===n&&(n=null);var r=e.call(this,t,i,n)||this;return r.editQuestion=t,r.editObj=o,r.propertyName=i,r.question.value=r.getQuestionValue(),r}return d(t,e),t.prototype.getQuestionValue=function(){return this.editObj?this.editObj[this.propertyName]:null},t.prototype.apply=function(){return this.editObj[this.propertyName]=this.question.value,!0},t}(bo),So=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCreated=function(e,o,i,n){o.linkClickCallback=function(){t.showModalPropertyEditor(t,i,o,n,(function(){return o.isSelected=!1})),o.isSelected=!0},o.clearClickCallback=function(){t.clearPropertyValue(o.obj,i,o,null)}},t}return d(t,e),t.prototype.getJSON=function(e,t,o){return{type:"linkvalue",showValueInLink:!1,titleLocation:"hidden"}},t.prototype.clearPropertyValue=function(e,t,o,i){e[t.name]=void 0},t.prototype.isValueEmpty=function(e){return n.Helpers.isValueEmpty(e)},t.prototype.isSupportGrouping=function(){return!0},t}(Pe),Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"cells"==e.type},t.prototype.createPropertyEditorSetup=function(e,t,o,i){return new vo(e,i)},t.prototype.clearPropertyValue=function(e,t,o,i){e.cells.setJson(null)},t.prototype.isValueEmpty=function(e){return!e||n.Helpers.isValueEmpty(e.values)},t}(So),Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"value"==e.type},t.prototype.createPropertyEditorSetup=function(e,t,o,i){return new bo(e,t.name,i)},t}(So),Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"rowvalue"==e.type},t.prototype.createPropertyEditorSetup=function(e,t,o,i){return new xo(e,t.name,i)},t}(So),_o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"panelvalue"==e.type},t.prototype.createPropertyEditorSetup=function(e,t,o,i){return new Co(e,t.name,i)},t}(So),No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e){return"triggervalue"==e.type},t.prototype.createPropertyEditorSetup=function(e,t,o,i){var n=o.obj,r=this.getSetToNameQuestion(n);return new To(r,n,t.name,i)},t.prototype.getSetToNameQuestion=function(e){var t=e.getSurvey();return t||(t=e.owner),e.setToName&&t?t.getQuestionByValueName(e.setToName):null},t}(So),Vo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.fit=function(e,t){return"logic"===t&&"triggervalue"==e.type},t.prototype.getJSON=function(e,t,o){var i=this.getSetToNameQuestion(e);if(!i)return{type:"linkvalue"};var n=i.toJSON();return n.type=i.getType(),R.updateQuestionJson(n),n},t}(No);xe.register(new Po),xe.register(new Eo),xe.register(new Oo),xe.register(new _o),xe.register(new No),xe.register(new Vo);var Io,Ao=o(29);o(30),o(31),o(32),o(33),o(34),o(35),o(36),o(37),o(38),o(39),o(40);Io="".concat("1.9.18"),n.settings.supportCreatorV2=!0}])}));